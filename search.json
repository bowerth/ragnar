[{"path":"https://t-kalinowski.github.io/ragnar/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 ragnar authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tomasz Kalinowski. Author, maintainer.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kalinowski T (2025). ragnar: Package (One Line, Title Case). R package version 0.0.0.9000, https://t-kalinowski.github.io/ragnar/.","code":"@Manual{,   title = {ragnar: What the Package Does (One Line, Title Case)},   author = {Tomasz Kalinowski},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://t-kalinowski.github.io/ragnar/}, }"},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"ragnar-","dir":"","previous_headings":"","what":"What the Package Does (One Line, Title Case)","title":"What the Package Does (One Line, Title Case)","text":"üöß active development üöß ragnar R package helps implement Retrieval-Augmented Generation (RAG) workflows. focuses providing complete solution sensible defaults, still giving knowledgeable user precise control steps. don‚Äôt believe can fully automate creation good RAG system, ‚Äôs important ragnar black box. ragnar designed transparent‚Äîcan inspect easily outputs intermediate steps understand ‚Äôs happening.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"What the Package Does (One Line, Title Case)","text":"","code":"pak::pak(\"t-kalinowski/ragnar\")"},{"path":[]},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"id_1-document-processing","dir":"","previous_headings":"Key Steps","what":"1. Document Processing","title":"What the Package Does (One Line, Title Case)","text":"ragnar works wide variety document types, using MarkItDown convert content Markdown. Key functions: ragnar_find_links(): Find links webpage ragnar_read(): Convert file URL markdown","code":""},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"id_2-text-chunking","dir":"","previous_headings":"Key Steps","what":"2. Text Chunking","title":"What the Package Does (One Line, Title Case)","text":"Next divide document multiple chunks. Ragnar defaults strategy preserves semantics document, provide plenty options tweak approach. Key functions: ragnar_chunk(): Higher-level function identifies semantic boundaries chunks text. ragnar_segment(): Lower-level function identifies semantic boundaries. ragnar_chunk_segments(): Lower-level function chunks pre-segmented text.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"id_3-context-augmentation-optional","dir":"","previous_headings":"Key Steps","what":"3. Context Augmentation (Optional)","title":"What the Package Does (One Line, Title Case)","text":"RAG applications benefit augmenting text chunks additional context, document headings subheadings. ragnar doesn‚Äôt directly export functions , supports template-based augmentation ragnar_read(frame_by_tags, split_by_tags). Future versions support generating context summaries via LLM calls. Key functions: ragnar_read(): Use frame_by_tags /split_by_tags arguments associate text chunks document position. markdown_segment(): Segment markdown text character vector using semantic tags (e.g., headings, paragraphs, code chunks). markdown_frame(): Convert markdown text dataframe.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"id_4-embedding","dir":"","previous_headings":"Key Steps","what":"4. Embedding","title":"What the Package Does (One Line, Title Case)","text":"ragnar can help compute embeddings chunk. goal ragnar provide access embeddings popular LLM providers. Currently ollama openai providers. Key functions: embed_ollama() embed_openai() Note calling embedding function directly typically necessary. Instead, embedding function specified store first created, automatically called needed ragnar_retreive() ragnar_store_insert().","code":""},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"id_5-storage","dir":"","previous_headings":"Key Steps","what":"5. Storage","title":"What the Package Does (One Line, Title Case)","text":"Processed data stored format optimized efficient searching, using duckdb default. API designed extensible, allowing additional packages implement support different storage providers. Key functions: ragnar_store_create() ragnar_store_connect() ragnar_store_insert()","code":""},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"id_6-retrieval","dir":"","previous_headings":"Key Steps","what":"6. Retrieval","title":"What the Package Does (One Line, Title Case)","text":"Given prompt, retrieve related chunks based embedding distance bm25 text search. Key functions: ragnar_retrieve() ragnar_retrieve_vss(): Retrieve using vss DuckDB extension ragnar_retrieve_bm25(): Retrieve using full-text search DuckDB extension","code":""},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"id_7-re-ranking-optional","dir":"","previous_headings":"Key Steps","what":"7. Re-ranking (Optional)","title":"What the Package Does (One Line, Title Case)","text":"Re-ranking retrieved chunks planned future releases.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"id_8-prompt-generation","dir":"","previous_headings":"Key Steps","what":"8. Prompt Generation","title":"What the Package Does (One Line, Title Case)","text":"ragnar can equip ellmer::Chat object retrieve tool enables LLM retreive content store -demand. ragnar_register_tool_retrieve(chat, store).","code":""},{"path":"https://t-kalinowski.github.io/ragnar/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"What the Package Does (One Line, Title Case)","text":"‚Äôs example using ragnar create knowledge store R Data Science (2e) book: store set , can retrieve relevant text chunks.","code":"library(ragnar)  base_url <- \"https://r4ds.hadley.nz\" pages <- ragnar_find_links(base_url)  store_location <- \"r4ds.ragnar.duckdb\" unlink(store_location)  store <- ragnar_store_create(   store_location,   embed = \\(x) ragnar::embed_ollama(x, model = \"all-minilm\") )   for (page in pages) {   message(\"ingesting: \", page)   chunks <- page |>     ragnar_read(frame_by_tags = c(\"h1\", \"h2\", \"h3\")) |>     dplyr::mutate(link = page) |>     ragnar_chunk(boundaries = c(\"paragraph\", \"sentence\")) |>     # add context to chunks     dplyr::mutate(text = glue::glue(r\"---(     # Excerpt from the book \"R for Data Science (2e)\"     link: {link}     chapter: {h1}     section: {h2}     subsection: {h3}     content: {text}      )---\"))    ragnar_store_insert(store, chunks) } #> ingesting: https://r4ds.hadley.nz/arrow.html #> ingesting: https://r4ds.hadley.nz/base-R.html #> ingesting: https://r4ds.hadley.nz/communicate.html #> ingesting: https://r4ds.hadley.nz/communication.html #> ingesting: https://r4ds.hadley.nz/data-import.html #> ingesting: https://r4ds.hadley.nz/data-tidy.html #> ingesting: https://r4ds.hadley.nz/data-transform.html #> ingesting: https://r4ds.hadley.nz/data-visualize.html #> ingesting: https://r4ds.hadley.nz/databases.html #> ingesting: https://r4ds.hadley.nz/datetimes.html #> ingesting: https://r4ds.hadley.nz/EDA.html #> ingesting: https://r4ds.hadley.nz/factors.html #> ingesting: https://r4ds.hadley.nz/functions.html #> ingesting: https://r4ds.hadley.nz/import.html #> ingesting: https://r4ds.hadley.nz/intro.html #> ingesting: https://r4ds.hadley.nz/iteration.html #> ingesting: https://r4ds.hadley.nz/joins.html #> ingesting: https://r4ds.hadley.nz/layers.html #> ingesting: https://r4ds.hadley.nz/logicals.html #> ingesting: https://r4ds.hadley.nz/missing-values.html #> ingesting: https://r4ds.hadley.nz/numbers.html #> ingesting: https://r4ds.hadley.nz/preface-2e.html #> ingesting: https://r4ds.hadley.nz/program.html #> ingesting: https://r4ds.hadley.nz/quarto-formats.html #> ingesting: https://r4ds.hadley.nz/quarto.html #> ingesting: https://r4ds.hadley.nz/rectangling.html #> ingesting: https://r4ds.hadley.nz/regexps.html #> ingesting: https://r4ds.hadley.nz/spreadsheets.html #> ingesting: https://r4ds.hadley.nz/strings.html #> ingesting: https://r4ds.hadley.nz/transform.html #> ingesting: https://r4ds.hadley.nz/visualize.html #> ingesting: https://r4ds.hadley.nz/webscraping.html #> ingesting: https://r4ds.hadley.nz/whole-game.html #> ingesting: https://r4ds.hadley.nz/workflow-basics.html #> ingesting: https://r4ds.hadley.nz/workflow-help.html #> ingesting: https://r4ds.hadley.nz/workflow-scripts.html #> ingesting: https://r4ds.hadley.nz/workflow-style.html   ragnar_store_build_index(store) #' ## Retrieving Chunks  library(ragnar) store_location <- \"r4ds.ragnar.duckdb\" store <- ragnar_store_connect(store_location, read_only = TRUE)  text <- \"How can I subset a dataframe with a logical vector?\"   ## Retrieving Chunks # Once the store is set up, retrieve the most relevant text chunks like this  embedding_near_chunks <- ragnar_retrieve_vss(store, text, top_k = 3) embedding_near_chunks #> # A tibble: 3 √ó 3 #>      id l2sq_distance text                                                       #>   <int>         <dbl> <chr>                                                      #> 1    31         0.920 \"# Excerpt from the book \\\"R for Data Science (2e)\\\"\\nlin‚Ä¶ #> 2   625         0.941 \"# Excerpt from the book \\\"R for Data Science (2e)\\\"\\nlin‚Ä¶ #> 3   639         0.943 \"# Excerpt from the book \\\"R for Data Science (2e)\\\"\\nlin‚Ä¶ embedding_near_chunks$text[1] |> cat(sep = \"\\n~~~~~~~~\\n\") #> # Excerpt from the book \"R for Data Science (2e)\" #> link: https://r4ds.hadley.nz/base-R.html #> chapter: # 27¬† A field guide to base R #> section: ## 27.2 Selecting multiple elements with `[` #> subsection: ### 27.2.2 Subsetting data frames #> content: There are quite a few different ways[1](#fn1) that you can use `[` with a data frame, but the most important way is to select rows and columns independently with `df[rows, cols]`. Here `rows` and `cols` are vectors as described above. For example, `df[rows, ]` and `df[, cols]` select just rows or just columns, using the empty subset to preserve the other dimension. #>  #> Here are a couple of examples: #>  #> ``` #> df <- tibble( #>   x = 1:3, #>   y = c(\"a\", \"e\", \"f\"), #>   z = runif(3) #> ) #>  #> # Select first row and second column #> df[1, 2] #> #> # A tibble: 1 √ó 1 #> #>   y #> #>   <chr> #> #> 1 a #>  #> # Select all rows and columns x and y #> df[, c(\"x\" , \"y\")] #> #> # A tibble: 3 √ó 2 #> #>       x y #> #>   <int> <chr> #> #> 1     1 a #> #> 2     2 e #> #> 3     3 f #>  #> # Select rows where `x` is greater than 1 and all columns #> df[df$x > 1, ] #> #> # A tibble: 2 √ó 3 #> #>       x y         z #> #>   <int> <chr> <dbl> #> #> 1     2 e     0.834 #> #> 2     3 f     0.601 #> ``` #>  #> We‚Äôll come back to `$` shortly, but you should be able to guess what `df$x` does from the context: it extracts the `x` variable from `df`. We need to use it here because `[` doesn‚Äôt use tidy evaluation, so you need to be explicit about the source of the `x` variable. bm25_near_chunks <- ragnar_retrieve_bm25(store, text, top_k = 3) bm25_near_chunks #> # A tibble: 3 √ó 3 #>      id bm25_score text                                                          #>   <int>      <dbl> <chr>                                                         #> 1    29       5.62 \"# Excerpt from the book \\\"R for Data Science (2e)\\\"\\nlink: ‚Ä¶ #> 2   645       5.54 \"# Excerpt from the book \\\"R for Data Science (2e)\\\"\\nlink: ‚Ä¶ #> 3   624       5.07 \"# Excerpt from the book \\\"R for Data Science (2e)\\\"\\nlink: ‚Ä¶ bm25_near_chunks$text[1] |> cat(sep = \"\\n~~~~~~~~\\n\") #> # Excerpt from the book \"R for Data Science (2e)\" #> link: https://r4ds.hadley.nz/base-R.html #> chapter: # 27¬† A field guide to base R #> section: ## 27.2 Selecting multiple elements with `[` #> subsection: ### 27.2.1 Subsetting vectors #> content: There are five main types of things that you can subset a vector with, i.e., that can be the `i` in `x[i]`: #>  #> 1. **A vector of positive integers**. Subsetting with positive integers keeps the elements at those positions: #>  #>    ``` #>    x <- c(\"one\", \"two\", \"three\", \"four\", \"five\") #>    x[c(3, 2, 5)] #>    #> [1] \"three\" \"two\"   \"five\" #>    ``` #>  #>    By repeating a position, you can actually make a longer output than input, making the term ‚Äúsubsetting‚Äù a bit of a misnomer. #>  #>    ``` #>    x[c(1, 1, 5, 5, 5, 2)] #>    #> [1] \"one\"  \"one\"  \"five\" \"five\" \"five\" \"two\" #>    ``` #> 2. **A vector of negative integers**. Negative values drop the elements at the specified positions: #>  #>    ``` #>    x[c(-1, -3, -5)] #>    #> [1] \"two\"  \"four\" #>    ``` #> 3. **A logical vector**. Subsetting with a logical vector keeps all values corresponding to a `TRUE` value. This is most often useful in conjunction with the comparison functions. #>  #>    ``` #>    x <- c(10, 3, NA, 5, 8, 1, NA) #>  #>    # All non-missing values of x #>    x[!is.na(x)] #>    #> [1] 10  3  5  8  1 #>  #>    # All even (or missing!) values of x #>    x[x %% 2 == 0] #>    #> [1] 10 NA  8 NA #>    ``` #>  #>    Unlike `[filter()](https://dplyr.tidyverse.org/reference/filter.html)`, `NA` indices will be included in the output as `NA`s. #> 4. **A character vector**. If you have a named vector, you can subset it with a character vector: #>  #>    ``` #>    x <- c(abc = 1, def = 2, xyz = 5) #>    x[c(\"xyz\", \"def\")] #>    #> xyz def #>    #>   5   2 #>    ``` # get both vss and bm26 relevant_chunks <- ragnar_retrieve(   store, text, top_k = 3,   methods = c(\"vss\", \"bm25\") ) relevant_chunks #> # A tibble: 6 √ó 4 #>      id l2sq_distance bm25_score text                                            #>   <int>         <dbl>      <dbl> <chr>                                           #> 1    31         0.920       2.91 \"# Excerpt from the book \\\"R for Data Science ‚Ä¶ #> 2   625         0.941       3.58 \"# Excerpt from the book \\\"R for Data Science ‚Ä¶ #> 3   639         0.943       2.58 \"# Excerpt from the book \\\"R for Data Science ‚Ä¶ #> 4    29         0.980       5.62 \"# Excerpt from the book \\\"R for Data Science ‚Ä¶ #> 5   645         0.971       5.54 \"# Excerpt from the book \\\"R for Data Science ‚Ä¶ #> 6   624         1.22        5.07 \"# Excerpt from the book \\\"R for Data Science ‚Ä¶  # Register ellmer tool ## You can register an ellmer tool to retrieve chunks as well. ## This enables the LLM model to make tool calls to retreive chunks. system_prompt <- stringr::str_squish(r\"--(     You are an expert R programmer and mentor.     You often respond by first direct quoting material from book or documentation,     then adding your own additional context and interpertation. )--\") chat <- ellmer::chat_openai(system_prompt, model = \"gpt-4o\") # chat <- ellmer::chat_ollama(system_prompt, model = \"llama3.2:1b\")  ragnar_register_tool_retrieve(chat, store)  chat$chat(\"How can I subset a dataframe?\") #> To subset a dataframe in R, you can use multiple methods depending on your  #> needs. A common way to do this is with the square bracket `[` operator, which  #> allows you to select rows and columns separately using a matrix-style indexing. #> Here are some basic ways to subset a dataframe: #>  #> 1. **Select Specific Rows and Columns:** #>    You can select specific rows and columns by specifying their indices inside  #> the square brackets `df[rows, cols]`. Here's an example: #>  #>    ```r #>    df <- data.frame(x = 1:3, y = c(\"a\", \"e\", \"f\"), z = runif(3)) #>  #>    df[1, 2]  # Selects the first row and second column. #>    df[, c(\"x\", \"y\")]  # Select all rows for columns x and y. #>    df[df$x > 1, ]  # Select rows where x is greater than 1 with all columns. #>    ``` #>  #> 2. **Handling Tibbles vs. Data Frames:** #>    It's important to understand the difference in behavior between tibbles and  #> base data frames: #>  #>    ```r #>    df1 <- data.frame(x = 1:3) #>    df1[, \"x\"]  # Returns a vector. #>  #>    df2 <- tibble(x = 1:3) #>    df2[, \"x\"]  # Always returns a tibble. #>  #>    # To avoid ambiguity in data.frames and ensure a dataframe output: #>    df1[, \"x\", drop = FALSE] #>    ``` #>  #> 3. **Logical Vectors:** #>    Logical vectors are often used for conditional subsetting: #>  #>    ```r #>    x <- c(10, 3, NA, 5, 8, 1, NA) #>    x[!is.na(x)]  # All non-missing values. #>    x[x %% 2 == 0]  # All even values, including NA. #>    ``` #>  #> Each method has its specific use case and can be chosen based on the context of #> what you're trying to achieve with your dataset. Understanding these subsetting #> techniques provides flexibility in how you manipulate and analyze data frames."},{"path":"https://t-kalinowski.github.io/ragnar/reference/embed_ollama.html","id":null,"dir":"Reference","previous_headings":"","what":"Embedd Text ‚Äî embed_ollama","title":"Embedd Text ‚Äî embed_ollama","text":"Embedd Text","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/embed_ollama.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Embedd Text ‚Äî embed_ollama","text":"","code":"embed_ollama(   x,   base_url = \"http://localhost:11434\",   model = \"all-minilm\",   batch_size = 10L )  embed_openai(   x,   model = \"text-embedding-3-small\",   base_url = \"https://api.openai.com/v1\",   api_key = get_envvar(\"OPENAI_API_KEY\"),   dims = NULL,   user = get_ragnar_username(),   batch_size = 20L )"},{"path":"https://t-kalinowski.github.io/ragnar/reference/embed_ollama.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Embedd Text ‚Äî embed_ollama","text":"x x can : character vector, case matrix embeddings returned. data frame column named text, case dataframe returned additional column named embedding. Missing NULL, case function returned can called get embeddings. convenient way partial additional arguments like model, convenient way produce function can passed embed argument ragnar_store_create(). base_url string, url service available. model string; model name batch_size split x batches embedding. Integer, limit strings include single request. api_key resolved using env var OPENAI_API_KEY dims integer, can used truncate embedding specific size. user User name passed via API.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/embed_ollama.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Embedd Text ‚Äî embed_ollama","text":"x character vector, numeric matrix returned, nrow = length(x) ncol = <model-embedding-size>. x data.frame, new embedding matrix \"column\" added, containing matrix described previous sentence. matrix embeddings 1 row per input string, dataframe 'embedding' column.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/embed_ollama.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Embedd Text ‚Äî embed_ollama","text":"","code":"text <- c(\"a chunk of text\", \"another chunk of text\", \"one more chunk of text\") if (FALSE) { # \\dontrun{ text |>   embed_ollama() |>   str()  text |>   embed_openai() |>   str() } # }"},{"path":"https://t-kalinowski.github.io/ragnar/reference/markdown_segment.html","id":null,"dir":"Reference","previous_headings":"","what":"Segment markdown text ‚Äî markdown_segment","title":"Segment markdown text ‚Äî markdown_segment","text":"Segment markdown text","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/markdown_segment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Segment markdown text ‚Äî markdown_segment","text":"","code":"markdown_segment(   text,   tags = c(\"h1\", \"h2\", \"h3\", \"h4\"),   trim = FALSE,   omit_empty = FALSE )  markdown_frame(text, frame_by = c(\"h1\", \"h2\", \"h3\"), segment_by = NULL)"},{"path":"https://t-kalinowski.github.io/ragnar/reference/markdown_segment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Segment markdown text ‚Äî markdown_segment","text":"text Markdown string tags, segment_by character vector html tag names, e.g., c(\"h1\", \"h2\", \"h3\", \"pre\") trim logical, trim whitespace segments omit_empty logical, whether remove empty segments frame_by Character vector tags become columns returned dataframe.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/markdown_segment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Segment markdown text ‚Äî markdown_segment","text":"named character vector. Names correspond tags, \"\" content inbetween tags.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/markdown_segment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Segment markdown text ‚Äî markdown_segment","text":"","code":"md <- r\"---(  # Sample Markdown File  ## Introduction  This is a sample **Markdown** file for testing.  ### Features  - Simple **bold** text - _Italicized_ text - `Inline code` - A [link](https://example.com) - ‚ÄòCurly quotes are 3 bytes chars.‚Äô Non-ascii text is fine.  This is a paragraph with <p> tag.  This next segment with code has a <pre> tag  ```r hello_world <- function() {   cat(\"Hello, World!\\n\") } ```  A table <table>:    | Name  | Age | City      |   |-------|----:|----------|   | Alice |  25 | New York |   | Bob   |  30 | London   |   ## Conclusion  Common tags:  - h1, h2, h3, h4, h5, h6: section headings - p: paragraph (prose) - pre: pre-formatted text, meant to be displayed with monospace font. Typically code or code output - blockquote: A blockquote - table: A table - ul: Unordered list - ol: Ordered list - li: Individual list item in a <ul> or <ol>   )---\" markdown_segment(md) |> tibble::enframe() #> # A tibble: 9 √ó 2 #>   name  value                                                                    #>   <chr> <chr>                                                                    #> 1 \"\"    \"\\n\\n\"                                                                   #> 2 \"h1\"  \"# Sample Markdown File\"                                                 #> 3 \"\"    \"\\n\\n\"                                                                   #> 4 \"h2\"  \"## Introduction\"                                                        #> 5 \"\"    \"\\n\\nThis is a sample **Markdown** file for testing.\\n\\n\"                #> 6 \"h3\"  \"### Features\"                                                           #> 7 \"\"    \"\\n\\n- Simple **bold** text\\n- _Italicized_ text\\n- `Inline code`\\n- A ‚Ä¶ #> 8 \"h2\"  \"## Conclusion\"                                                          #> 9 \"\"    \"\\n\\nCommon tags:\\n\\n- h1, h2, h3, h4, h5, h6: section headings\\n- p: p‚Ä¶ markdown_segment(md |> trimws()) |> tibble::enframe() #> # A tibble: 8 √ó 2 #>   name  value                                                                    #>   <chr> <chr>                                                                    #> 1 \"h1\"  \"# Sample Markdown File\"                                                 #> 2 \"\"    \"\\n\\n\"                                                                   #> 3 \"h2\"  \"## Introduction\"                                                        #> 4 \"\"    \"\\n\\nThis is a sample **Markdown** file for testing.\\n\\n\"                #> 5 \"h3\"  \"### Features\"                                                           #> 6 \"\"    \"\\n\\n- Simple **bold** text\\n- _Italicized_ text\\n- `Inline code`\\n- A ‚Ä¶ #> 7 \"h2\"  \"## Conclusion\"                                                          #> 8 \"\"    \"\\n\\nCommon tags:\\n\\n- h1, h2, h3, h4, h5, h6: section headings\\n- p: p‚Ä¶ markdown_segment(md, c(\"li\"), trim = TRUE, omit_empty = TRUE) |> tibble::enframe() #> # A tibble: 15 √ó 2 #>    name  value                                                                   #>    <chr> <chr>                                                                   #>  1 \"\"    \"# Sample Markdown File\\n\\n## Introduction\\n\\nThis is a sample **Markd‚Ä¶ #>  2 \"li\"  \"- Simple **bold** text\"                                                #>  3 \"li\"  \"- _Italicized_ text\"                                                   #>  4 \"li\"  \"- `Inline code`\"                                                       #>  5 \"li\"  \"- A [link](https://example.com)\"                                       #>  6 \"li\"  \"- ‚ÄòCurly quotes are 3 bytes chars.‚Äô Non-ascii text is fine.\"           #>  7 \"\"    \"This is a paragraph with <p> tag.\\n\\nThis next segment with code has ‚Ä¶ #>  8 \"li\"  \"- h1, h2, h3, h4, h5, h6: section headings\"                            #>  9 \"li\"  \"- p: paragraph (prose)\"                                                #> 10 \"li\"  \"- pre: pre-formatted text, meant to be displayed with monospace font.‚Ä¶ #> 11 \"li\"  \"- blockquote: A blockquote\"                                            #> 12 \"li\"  \"- table: A table\"                                                      #> 13 \"li\"  \"- ul: Unordered list\"                                                  #> 14 \"li\"  \"- ol: Ordered list\"                                                    #> 15 \"li\"  \"- li: Individual list item in a <ul> or <ol>\"                          markdown_segment(md, c(\"table\"), trim = TRUE, omit_empty = TRUE) |> tibble::enframe() #> # A tibble: 3 √ó 2 #>   name    value                                                                  #>   <chr>   <chr>                                                                  #> 1 \"\"      \"# Sample Markdown File\\n\\n## Introduction\\n\\nThis is a sample **Mark‚Ä¶ #> 2 \"table\" \"| Name  | Age | City      |\\n  |-------|----:|----------|\\n  | Alice‚Ä¶ #> 3 \"\"      \"## Conclusion\\n\\nCommon tags:\\n\\n- h1, h2, h3, h4, h5, h6: section h‚Ä¶ markdown_segment(md, c(\"ul\"), trim = TRUE, omit_empty = TRUE) |> tibble::enframe() #> # A tibble: 4 √ó 2 #>   name  value                                                                    #>   <chr> <chr>                                                                    #> 1 \"\"    \"# Sample Markdown File\\n\\n## Introduction\\n\\nThis is a sample **Markdo‚Ä¶ #> 2 \"ul\"  \"- Simple **bold** text\\n- _Italicized_ text\\n- `Inline code`\\n- A [lin‚Ä¶ #> 3 \"\"    \"This is a paragraph with <p> tag.\\n\\nThis next segment with code has a‚Ä¶ #> 4 \"ul\"  \"- h1, h2, h3, h4, h5, h6: section headings\\n- p: paragraph (prose)\\n- ‚Ä¶"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ragnar: What the Package Does (One Line, Title Case) ‚Äî ragnar-package","title":"ragnar: What the Package Does (One Line, Title Case) ‚Äî ragnar-package","text":"package (one paragraph).","code":""},{"path":[]},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ragnar: What the Package Does (One Line, Title Case) ‚Äî ragnar-package","text":"Maintainer: Tomasz Kalinowski tomasz@posit.co","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_chunk.html","id":null,"dir":"Reference","previous_headings":"","what":"Chunk text ‚Äî ragnar_chunk","title":"Chunk text ‚Äî ragnar_chunk","text":"Functions chunking text smaller pieces preserving meaningful semantics. functions provide flexible ways split text based various boundaries (sentences, words, etc.) controlling chunk sizes overlap.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_chunk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Chunk text ‚Äî ragnar_chunk","text":"","code":"ragnar_chunk(   x,   max_size = 1600L,   boundaries = c(\"paragraph\", \"sentence\", \"line_break\", \"word\", \"character\"),   ...,   trim = TRUE,   simplify = TRUE )  ragnar_segment(x, boundaries = \"sentence\", ..., trim = FALSE, simplify = TRUE)  ragnar_chunk_segments(x, max_size = 1600L, ..., simplify = TRUE, trim = TRUE)"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_chunk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Chunk text ‚Äî ragnar_chunk","text":"x character vector, list character vectors, data frame containing text column. max_size Integer. maximum number characters chunk. Defaults 1600, typically approximately 400 tokens, 1 page text. boundaries sequence boundary types use order max_size satisfied. Valid values \"sentence\", \"word\", \"line_break\", \"character\", \"paragraph\", stringr_pattern object like stringr::fixed(). ... Additional arguments passed internal functions. tokenizer use tokens instead characters count (fully implemented yet) trim logical, whether trim leading trailing whitespace strings. Default TRUE. simplify Logical. TRUE, output simplified. FALSE, returns vector length x. TRUE, character strings unlist()ed, dataframes tidyr::unchop()ed.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_chunk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Chunk text ‚Äî ragnar_chunk","text":"character input simplify = FALSE: list character vectors character input simplify = TRUE: character vector chunks data frame input simplify = FALSE: data frame number rows input, text column transformed list chararacter vectors. data frame input simplify = TRUE: data frame input simplify=FALSE, text column expanded tidyr::unchop()","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_chunk.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Chunk text ‚Äî ragnar_chunk","text":"Chunking combination two fundamental operations: identifying boundaries: finding character positions makes sense split string. extracting slices: extracting substrings using candidate boundaries produce chunks match requested chunk_size chunk_overlap ragnar_chunk() higher-level function , identifies boundaries extracts slices. need lower-level control, can alternatively use lower-level functions ragnar_segment() combination ragnar_chunk_segments(). ragnar_segment(): Splits text semantic boundaries. ragnar_chunk_segments(): Combines text segments chunks. usecases, two equivalent:   working data frames, functions preserve columns use tidyr::unchop() handle resulting list-columns simplify = TRUE.","code":"x |> ragnar_chunk() x |> ragnar_segment() |> ragnar_chunk_segments()"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_chunk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Chunk text ‚Äî ragnar_chunk","text":"","code":"# Basic chunking with max size text <- \"This is a long piece of text. It has multiple sentences.          We want to split it into chunks. Here's another sentence.\" ragnar_chunk(text, max_size = 40) # splits at sentences #> [1] \"This is a long piece of text.\"    \"It has multiple sentences.\"       #> [3] \"We want to split it into chunks.\" \"Here's another sentence.\"          # smaller chunk size: first splits at sentence boundaries, then word boundaries ragnar_chunk(text, max_size = 20) #> [1] \"This is a long piece\" \"of text.\"             \"It has multiple\"      #> [4] \"sentences.\"           \"We want to split it\"  \"into chunks.\"         #> [7] \"Here's another\"       \"sentence.\"             # only split at sentence boundaries. Note, some chunks are oversized ragnar_chunk(text, max_size = 20, boundaries = c(\"sentence\")) #> [1] \"This is a long piece of text.\"    \"It has multiple sentences.\"       #> [3] \"We want to split it into chunks.\" \"Here's another sentence.\"          # only consider word boundaries when splitting: ragnar_chunk(text, max_size = 20, boundaries = c(\"word\")) #> [1] \"This is a long piece\" \"of text. It has\"      \"multiple sentences.\"  #> [4] \"We want to\"           \"split it into chunks\" \"s. Here's another\"    #> [7] \"sentence.\"             # first split at sentence boundaries, then word boundaries, # as needed to satisfy `max_chunk` ragnar_chunk(text, max_size = 20, boundaries = c(\"sentence\", \"word\")) #> [1] \"This is a long piece\" \"of text.\"             \"It has multiple\"      #> [4] \"sentences.\"           \"We want to split it\"  \"into chunks.\"         #> [7] \"Here's another\"       \"sentence.\"             # Use a stringr pattern to find semantic boundaries ragnar_chunk(text, max_size = 10, boundaries = stringr::fixed(\". \")) #> [1] \"This is a long piece of text.\"                                         #> [2] \"It has multiple sentences.\\n         We want to split it into chunks.\" #> [3] \"Here's another sentence.\"                                              ragnar_chunk(text, max_size = 10, boundaries = list(stringr::fixed(\". \"), \"word\")) #>  [1] \"This is a\"  \"long piece\" \"e of text.\" \"It has\"     \"multiple\"   #>  [6] \"sentences.\" \".\"          \"We want to\" \"o split it\" \"into\"       #> [11] \"chunks.\"    \"Here's\"     \"another\"    \"sentence.\"    # Working with data frames df <- data.frame(   id = 1:2,   text = c(\"First sentence. Second sentence.\", \"Another sentence here.\") ) ragnar_chunk(df, max_size = 20, boundaries = \"sentence\") #>   id                   text #> 1  1        First sentence. #> 2  1       Second sentence. #> 3  2 Another sentence here. ragnar_chunk(df$text, max_size = 20, boundaries = \"sentence\") #> [1] \"First sentence.\"        \"Second sentence.\"       \"Another sentence here.\"  # Chunking pre-segmented text segments <- c(\"First segment. \", \"Second segment. \", \"Third segment. \", \"Fourth segment. \") ragnar_chunk_segments(segments, max_size = 20) #> [1] \"First segment.\"  \"Second segment.\" \"Third segment.\"  \"Fourth segment.\" ragnar_chunk_segments(segments, max_size = 40) #> [1] \"First segment. Second segment.\" \"Third segment. Fourth segment.\" ragnar_chunk_segments(segments, max_size = 60) #> [1] \"First segment. Second segment. Third segment.\" #> [2] \"Fourth segment.\""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_find_links.html","id":null,"dir":"Reference","previous_headings":"","what":"Find links on a page ‚Äî ragnar_find_links","title":"Find links on a page ‚Äî ragnar_find_links","text":"Find links page","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_find_links.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find links on a page ‚Äî ragnar_find_links","text":"","code":"ragnar_find_links(x, depth = 0L, children_only = TRUE, progress = TRUE)"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_find_links.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find links on a page ‚Äî ragnar_find_links","text":"x URL, HTML file path, XML document. Markdown, convert HTML using commonmark::markdown_html() first. depth Integer specifying many levels deep crawl links. depth > 0, function follow child links (links x prefix) collect links pages well. children_only Logical string. TRUE, returns child links (x prefix). FALSE, returns links found page. Note regardless setting, child links followed depth > 0. progress Logical, draw progress bar depth > 0. separate progress bar drawn per recursion level.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_find_links.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find links on a page ‚Äî ragnar_find_links","text":"character vector links page.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_find_links.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find links on a page ‚Äî ragnar_find_links","text":"","code":"ragnar_find_links(\"https://r4ds.hadley.nz/base-R.html\") #>  [1] \"https://r4ds.hadley.nz/EDA.html\"              #>  [2] \"https://r4ds.hadley.nz/arrow.html\"            #>  [3] \"https://r4ds.hadley.nz/base-R.html\"           #>  [4] \"https://r4ds.hadley.nz/communicate.html\"      #>  [5] \"https://r4ds.hadley.nz/communication.html\"    #>  [6] \"https://r4ds.hadley.nz/data-import.html\"      #>  [7] \"https://r4ds.hadley.nz/data-tidy.html\"        #>  [8] \"https://r4ds.hadley.nz/data-transform.html\"   #>  [9] \"https://r4ds.hadley.nz/data-visualize.html\"   #> [10] \"https://r4ds.hadley.nz/databases.html\"        #> [11] \"https://r4ds.hadley.nz/datetimes.html\"        #> [12] \"https://r4ds.hadley.nz/factors.html\"          #> [13] \"https://r4ds.hadley.nz/functions.html\"        #> [14] \"https://r4ds.hadley.nz/import.html\"           #> [15] \"https://r4ds.hadley.nz/intro.html\"            #> [16] \"https://r4ds.hadley.nz/iteration.html\"        #> [17] \"https://r4ds.hadley.nz/joins.html\"            #> [18] \"https://r4ds.hadley.nz/layers.html\"           #> [19] \"https://r4ds.hadley.nz/logicals.html\"         #> [20] \"https://r4ds.hadley.nz/missing-values.html\"   #> [21] \"https://r4ds.hadley.nz/numbers.html\"          #> [22] \"https://r4ds.hadley.nz/preface-2e.html\"       #> [23] \"https://r4ds.hadley.nz/program.html\"          #> [24] \"https://r4ds.hadley.nz/quarto-formats.html\"   #> [25] \"https://r4ds.hadley.nz/quarto.html\"           #> [26] \"https://r4ds.hadley.nz/rectangling.html\"      #> [27] \"https://r4ds.hadley.nz/regexps.html\"          #> [28] \"https://r4ds.hadley.nz/spreadsheets.html\"     #> [29] \"https://r4ds.hadley.nz/strings.html\"          #> [30] \"https://r4ds.hadley.nz/transform.html\"        #> [31] \"https://r4ds.hadley.nz/visualize.html\"        #> [32] \"https://r4ds.hadley.nz/webscraping.html\"      #> [33] \"https://r4ds.hadley.nz/whole-game.html\"       #> [34] \"https://r4ds.hadley.nz/workflow-basics.html\"  #> [35] \"https://r4ds.hadley.nz/workflow-help.html\"    #> [36] \"https://r4ds.hadley.nz/workflow-scripts.html\" #> [37] \"https://r4ds.hadley.nz/workflow-style.html\"   ragnar_find_links(\"https://ellmer.tidyverse.org/\") #>  [1] \"https://ellmer.tidyverse.org/LICENSE-text.html\"                  #>  [2] \"https://ellmer.tidyverse.org/LICENSE.html\"                       #>  [3] \"https://ellmer.tidyverse.org/articles/ellmer.html\"               #>  [4] \"https://ellmer.tidyverse.org/articles/prompt-design.html\"        #>  [5] \"https://ellmer.tidyverse.org/articles/streaming-async.html\"      #>  [6] \"https://ellmer.tidyverse.org/articles/structured-data.html\"      #>  [7] \"https://ellmer.tidyverse.org/articles/tool-calling.html\"         #>  [8] \"https://ellmer.tidyverse.org/authors.html\"                       #>  [9] \"https://ellmer.tidyverse.org/index.html\"                         #> [10] \"https://ellmer.tidyverse.org/news/index.html\"                    #> [11] \"https://ellmer.tidyverse.org/reference/chat_azure.html\"          #> [12] \"https://ellmer.tidyverse.org/reference/chat_bedrock.html\"        #> [13] \"https://ellmer.tidyverse.org/reference/chat_claude.html\"         #> [14] \"https://ellmer.tidyverse.org/reference/chat_cortex_analyst.html\" #> [15] \"https://ellmer.tidyverse.org/reference/chat_databricks.html\"     #> [16] \"https://ellmer.tidyverse.org/reference/chat_deepseek.html\"       #> [17] \"https://ellmer.tidyverse.org/reference/chat_gemini.html\"         #> [18] \"https://ellmer.tidyverse.org/reference/chat_github.html\"         #> [19] \"https://ellmer.tidyverse.org/reference/chat_groq.html\"           #> [20] \"https://ellmer.tidyverse.org/reference/chat_ollama.html\"         #> [21] \"https://ellmer.tidyverse.org/reference/chat_openai.html\"         #> [22] \"https://ellmer.tidyverse.org/reference/chat_openrouter.html\"     #> [23] \"https://ellmer.tidyverse.org/reference/chat_perplexity.html\"     #> [24] \"https://ellmer.tidyverse.org/reference/chat_snowflake.html\"      #> [25] \"https://ellmer.tidyverse.org/reference/chat_vllm.html\"           #> [26] \"https://ellmer.tidyverse.org/reference/content_image_url.html\"   #> [27] \"https://ellmer.tidyverse.org/reference/index.html\"               #> [28] \"https://ellmer.tidyverse.org/reference/live_console.html\"        ragnar_find_links(\"https://ellmer.tidyverse.org/\", depth = 2) #> Following links... (recurse levels remaining: 1) ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†                     ‚Ä¶ #> Following links... (recurse levels remaining: 1) ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†         ‚Ä¶ #> Following links... (recurse levels remaining: 1) ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚Ä¶ #>  [1] \"https://ellmer.tidyverse.org/LICENSE-text.html\"                  #>  [2] \"https://ellmer.tidyverse.org/LICENSE.html\"                       #>  [3] \"https://ellmer.tidyverse.org/articles/ellmer.html\"               #>  [4] \"https://ellmer.tidyverse.org/articles/prompt-design.html\"        #>  [5] \"https://ellmer.tidyverse.org/articles/streaming-async.html\"      #>  [6] \"https://ellmer.tidyverse.org/articles/structured-data.html\"      #>  [7] \"https://ellmer.tidyverse.org/articles/tool-calling.html\"         #>  [8] \"https://ellmer.tidyverse.org/authors.html\"                       #>  [9] \"https://ellmer.tidyverse.org/index.html\"                         #> [10] \"https://ellmer.tidyverse.org/news/index.html\"                    #> [11] \"https://ellmer.tidyverse.org/reference/Chat.html\"                #> [12] \"https://ellmer.tidyverse.org/reference/Content.html\"             #> [13] \"https://ellmer.tidyverse.org/reference/Provider.html\"            #> [14] \"https://ellmer.tidyverse.org/reference/Turn.html\"                #> [15] \"https://ellmer.tidyverse.org/reference/Type.html\"                #> [16] \"https://ellmer.tidyverse.org/reference/chat_azure.html\"          #> [17] \"https://ellmer.tidyverse.org/reference/chat_bedrock.html\"        #> [18] \"https://ellmer.tidyverse.org/reference/chat_claude.html\"         #> [19] \"https://ellmer.tidyverse.org/reference/chat_cortex.html\"         #> [20] \"https://ellmer.tidyverse.org/reference/chat_cortex_analyst.html\" #> [21] \"https://ellmer.tidyverse.org/reference/chat_databricks.html\"     #> [22] \"https://ellmer.tidyverse.org/reference/chat_deepseek.html\"       #> [23] \"https://ellmer.tidyverse.org/reference/chat_gemini.html\"         #> [24] \"https://ellmer.tidyverse.org/reference/chat_github.html\"         #> [25] \"https://ellmer.tidyverse.org/reference/chat_groq.html\"           #> [26] \"https://ellmer.tidyverse.org/reference/chat_ollama.html\"         #> [27] \"https://ellmer.tidyverse.org/reference/chat_openai.html\"         #> [28] \"https://ellmer.tidyverse.org/reference/chat_openrouter.html\"     #> [29] \"https://ellmer.tidyverse.org/reference/chat_perplexity.html\"     #> [30] \"https://ellmer.tidyverse.org/reference/chat_snowflake.html\"      #> [31] \"https://ellmer.tidyverse.org/reference/chat_vllm.html\"           #> [32] \"https://ellmer.tidyverse.org/reference/content_image_url.html\"   #> [33] \"https://ellmer.tidyverse.org/reference/content_pdf_file.html\"    #> [34] \"https://ellmer.tidyverse.org/reference/contents_text.html\"       #> [35] \"https://ellmer.tidyverse.org/reference/create_tool_def.html\"     #> [36] \"https://ellmer.tidyverse.org/reference/gemini_upload.html\"       #> [37] \"https://ellmer.tidyverse.org/reference/index.html\"               #> [38] \"https://ellmer.tidyverse.org/reference/interpolate.html\"         #> [39] \"https://ellmer.tidyverse.org/reference/live_console.html\"        #> [40] \"https://ellmer.tidyverse.org/reference/token_usage.html\"         #> [41] \"https://ellmer.tidyverse.org/reference/tool.html\"                #> [42] \"https://ellmer.tidyverse.org/reference/type_boolean.html\"        ragnar_find_links(\"https://ellmer.tidyverse.org/\", depth = 2, children_only = FALSE) #>   [1] \"http://tiktokenizer.vercel.app\"                                                                              #>   [2] \"https://ai.google.dev/gemini-api/docs/prompting-intro\"                                                       #>   [3] \"https://ai.google.dev/gemini-api/terms\"                                                                      #>   [4] \"https://aistudio.google.com/app/apikey\"                                                                      #>   [5] \"https://api-docs.deepseek.com/guides/function_calling\"                                                       #>   [6] \"https://aws.amazon.com/bedrock\"                                                                              #>   [7] \"https://aws.amazon.com/bedrock/claude\"                                                                       #>   [8] \"https://aws.amazon.com/blogs/machine-learning/getting-started-with-cross-region-inference-in-amazon-bedrock\" #>   [9] \"https://azure.microsoft.com/en-us/products/ai-services/openai-service\"                                       #>  [10] \"https://bsky.app/profile/daviddiviny.com/post/3lb6kjaen4c2u\"                                                 #>  [11] \"https://cdn.openai.com/spec/model-spec-2024-05-08.html\"                                                      #>  [12] \"https://chat.openai.com\"                                                                                     #>  [13] \"https://cli.r-lib.org/reference/cli_abort.html\"                                                              #>  [14] \"https://cloud.r-project.org/package=ellmer\"                                                                  #>  [15] \"https://console.anthropic.com\"                                                                               #>  [16] \"https://console.anthropic.com/account/keys\"                                                                  #>  [17] \"https://coro.r-lib.org\"                                                                                      #>  [18] \"https://coro.r-lib.org/articles/generator.html\"                                                              #>  [19] \"https://coro.r-lib.org/reference/async.html\"                                                                 #>  [20] \"https://coro.r-lib.org/reference/async_generator.html\"                                                       #>  [21] \"https://coro.r-lib.org/reference/collect.html\"                                                               #>  [22] \"https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview\"                            #>  [23] \"https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/prompt-generator\"                    #>  [24] \"https://docs.anthropic.com/en/release-notes/system-prompts\"                                                  #>  [25] \"https://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_Converse.html\"                           #>  [26] \"https://docs.databricks.com/en/dev-tools/auth/unified-auth.html\"                                             #>  [27] \"https://docs.databricks.com/en/machine-learning/model-serving/score-foundation-models.html\"                  #>  [28] \"https://docs.posit.co/connect/user/oauth-integrations\"                                                       #>  [29] \"https://docs.posit.co/ide/server-pro/user/posit-workbench/managed-credentials/managed-credentials.html\"      #>  [30] \"https://docs.ropensci.org/commonmark/reference/commonmark.html\"                                              #>  [31] \"https://docs.snowflake.com/en/user-guide/admin-account-identifier\"                                           #>  [32] \"https://docs.snowflake.com/en/user-guide/snowflake-cortex/cortex-analyst\"                                    #>  [33] \"https://docs.snowflake.com/en/user-guide/snowflake-cortex/cortex-llm-rest-api\"                               #>  [34] \"https://docs.vllm.ai/en/latest\"                                                                              #>  [35] \"https://ellmer.tidyverse.org\"                                                                                #>  [36] \"https://ellmer.tidyverse.org/LICENSE-text.html\"                                                              #>  [37] \"https://ellmer.tidyverse.org/LICENSE.html\"                                                                   #>  [38] \"https://ellmer.tidyverse.org/articles/ellmer.html\"                                                           #>  [39] \"https://ellmer.tidyverse.org/articles/prompt-design.html\"                                                    #>  [40] \"https://ellmer.tidyverse.org/articles/streaming-async.html\"                                                  #>  [41] \"https://ellmer.tidyverse.org/articles/structured-data.html\"                                                  #>  [42] \"https://ellmer.tidyverse.org/articles/tool-calling.html\"                                                     #>  [43] \"https://ellmer.tidyverse.org/authors.html\"                                                                   #>  [44] \"https://ellmer.tidyverse.org/index.html\"                                                                     #>  [45] \"https://ellmer.tidyverse.org/news/index.html\"                                                                #>  [46] \"https://ellmer.tidyverse.org/reference/Chat.html\"                                                            #>  [47] \"https://ellmer.tidyverse.org/reference/Content.html\"                                                         #>  [48] \"https://ellmer.tidyverse.org/reference/Provider.html\"                                                        #>  [49] \"https://ellmer.tidyverse.org/reference/Turn.html\"                                                            #>  [50] \"https://ellmer.tidyverse.org/reference/Type.html\"                                                            #>  [51] \"https://ellmer.tidyverse.org/reference/chat_azure.html\"                                                      #>  [52] \"https://ellmer.tidyverse.org/reference/chat_bedrock.html\"                                                    #>  [53] \"https://ellmer.tidyverse.org/reference/chat_claude.html\"                                                     #>  [54] \"https://ellmer.tidyverse.org/reference/chat_cortex.html\"                                                     #>  [55] \"https://ellmer.tidyverse.org/reference/chat_cortex_analyst.html\"                                             #>  [56] \"https://ellmer.tidyverse.org/reference/chat_databricks.html\"                                                 #>  [57] \"https://ellmer.tidyverse.org/reference/chat_deepseek.html\"                                                   #>  [58] \"https://ellmer.tidyverse.org/reference/chat_gemini.html\"                                                     #>  [59] \"https://ellmer.tidyverse.org/reference/chat_github.html\"                                                     #>  [60] \"https://ellmer.tidyverse.org/reference/chat_groq.html\"                                                       #>  [61] \"https://ellmer.tidyverse.org/reference/chat_ollama.html\"                                                     #>  [62] \"https://ellmer.tidyverse.org/reference/chat_openai.html\"                                                     #>  [63] \"https://ellmer.tidyverse.org/reference/chat_openrouter.html\"                                                 #>  [64] \"https://ellmer.tidyverse.org/reference/chat_perplexity.html\"                                                 #>  [65] \"https://ellmer.tidyverse.org/reference/chat_snowflake.html\"                                                  #>  [66] \"https://ellmer.tidyverse.org/reference/chat_vllm.html\"                                                       #>  [67] \"https://ellmer.tidyverse.org/reference/content_image_url.html\"                                               #>  [68] \"https://ellmer.tidyverse.org/reference/content_pdf_file.html\"                                                #>  [69] \"https://ellmer.tidyverse.org/reference/contents_text.html\"                                                   #>  [70] \"https://ellmer.tidyverse.org/reference/create_tool_def.html\"                                                 #>  [71] \"https://ellmer.tidyverse.org/reference/gemini_upload.html\"                                                   #>  [72] \"https://ellmer.tidyverse.org/reference/index.html\"                                                           #>  [73] \"https://ellmer.tidyverse.org/reference/interpolate.html\"                                                     #>  [74] \"https://ellmer.tidyverse.org/reference/live_console.html\"                                                    #>  [75] \"https://ellmer.tidyverse.org/reference/token_usage.html\"                                                     #>  [76] \"https://ellmer.tidyverse.org/reference/tool.html\"                                                            #>  [77] \"https://ellmer.tidyverse.org/reference/type_boolean.html\"                                                    #>  [78] \"https://gh.r-lib.org\"                                                                                        #>  [79] \"https://gist.github.com/dannguyen/faaa56cebf30ad51108a9fe4f8db36d8\"                                          #>  [80] \"https://gist.github.com/hadley/7688b4dd1e5e97b800c6d7d79e437b48\"                                             #>  [81] \"https://github.com/andrie\"                                                                                   #>  [82] \"https://github.com/anthropics/anthropic-cookbook/blob/main/tool_use/extracting_structured_json.ipynb\"        #>  [83] \"https://github.com/atheriel\"                                                                                 #>  [84] \"https://github.com/billsanto\"                                                                                #>  [85] \"https://github.com/cpsievert/aidea\"                                                                          #>  [86] \"https://github.com/cpsievert/aidea/blob/main/inst/app/prompt.md\"                                             #>  [87] \"https://github.com/gadenbuie\"                                                                                #>  [88] \"https://github.com/jcheng5/elmer-assistant\"                                                                  #>  [89] \"https://github.com/jcheng5/py-sidebot/blob/main/prompt.md\"                                                   #>  [90] \"https://github.com/jcheng5/shinychat\"                                                                        #>  [91] \"https://github.com/marketplace/models\"                                                                       #>  [92] \"https://github.com/pedrobtz\"                                                                                 #>  [93] \"https://github.com/posit-dev/chatlas\"                                                                        #>  [94] \"https://github.com/posit-dev/shiny-assistant/blob/main/shinyapp/app_prompt.md\"                               #>  [95] \"https://github.com/posit-dev/shiny-assistant/blob/main/shinyapp/app_prompt_python.md\"                        #>  [96] \"https://github.com/posit-dev/shiny-assistant/blob/main/shinyapp/app_prompt_r.md\"                             #>  [97] \"https://github.com/simonpcouch\"                                                                              #>  [98] \"https://github.com/simonpcouch/pal/tree/main/inst/prompts\"                                                   #>  [99] \"https://github.com/tidyverse/ellmer\"                                                                         #> [100] \"https://github.com/tidyverse/ellmer/blob/main/DESCRIPTION\"                                                   #> [101] \"https://github.com/tidyverse/ellmer/blob/main/LICENSE.md\"                                                    #> [102] \"https://github.com/tidyverse/ellmer/blob/main/NEWS.md\"                                                       #> [103] \"https://github.com/tidyverse/ellmer/blob/main/R/chat.R\"                                                      #> [104] \"https://github.com/tidyverse/ellmer/blob/main/R/content-image.R\"                                             #> [105] \"https://github.com/tidyverse/ellmer/blob/main/R/content-pdf.R\"                                               #> [106] \"https://github.com/tidyverse/ellmer/blob/main/R/content.R\"                                                   #> [107] \"https://github.com/tidyverse/ellmer/blob/main/R/interpolate.R\"                                               #> [108] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-azure.R\"                                            #> [109] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-bedrock.R\"                                          #> [110] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-claude.R\"                                           #> [111] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-cortex.R\"                                           #> [112] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-databricks.R\"                                       #> [113] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-deepseek.R\"                                         #> [114] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-gemini-upload.R\"                                    #> [115] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-gemini.R\"                                           #> [116] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-github.R\"                                           #> [117] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-groq.R\"                                             #> [118] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-ollama.R\"                                           #> [119] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-openai.R\"                                           #> [120] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-openrouter.R\"                                       #> [121] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-perplexity.R\"                                       #> [122] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-snowflake.R\"                                        #> [123] \"https://github.com/tidyverse/ellmer/blob/main/R/provider-vllm.R\"                                             #> [124] \"https://github.com/tidyverse/ellmer/blob/main/R/provider.R\"                                                  #> [125] \"https://github.com/tidyverse/ellmer/blob/main/R/shiny.R\"                                                     #> [126] \"https://github.com/tidyverse/ellmer/blob/main/R/tokens.R\"                                                    #> [127] \"https://github.com/tidyverse/ellmer/blob/main/R/tools-def-auto.R\"                                            #> [128] \"https://github.com/tidyverse/ellmer/blob/main/R/tools-def.R\"                                                 #> [129] \"https://github.com/tidyverse/ellmer/blob/main/R/turns.R\"                                                     #> [130] \"https://github.com/tidyverse/ellmer/blob/main/R/types.R\"                                                     #> [131] \"https://github.com/tidyverse/ellmer/blob/main/vignettes/ellmer.Rmd\"                                          #> [132] \"https://github.com/tidyverse/ellmer/blob/main/vignettes/prompt-design.Rmd\"                                   #> [133] \"https://github.com/tidyverse/ellmer/blob/main/vignettes/streaming-async.Rmd\"                                 #> [134] \"https://github.com/tidyverse/ellmer/blob/main/vignettes/structured-data.Rmd\"                                 #> [135] \"https://github.com/tidyverse/ellmer/blob/main/vignettes/tool-calling.Rmd\"                                    #> [136] \"https://github.com/tidyverse/ellmer/issues\"                                                                  #> [137] \"https://github.com/tidyverse/ellmer/issues/110\"                                                              #> [138] \"https://github.com/tidyverse/ellmer/issues/115\"                                                              #> [139] \"https://github.com/tidyverse/ellmer/issues/117\"                                                              #> [140] \"https://github.com/tidyverse/ellmer/issues/118\"                                                              #> [141] \"https://github.com/tidyverse/ellmer/issues/140\"                                                              #> [142] \"https://github.com/tidyverse/ellmer/issues/143\"                                                              #> [143] \"https://github.com/tidyverse/ellmer/issues/152\"                                                              #> [144] \"https://github.com/tidyverse/ellmer/issues/157\"                                                              #> [145] \"https://github.com/tidyverse/ellmer/issues/212\"                                                              #> [146] \"https://github.com/tidyverse/ellmer/issues/213\"                                                              #> [147] \"https://github.com/tidyverse/ellmer/issues/242\"                                                              #> [148] \"https://github.com/tidyverse/ellmer/issues/246\"                                                              #> [149] \"https://github.com/tidyverse/ellmer/issues/248\"                                                              #> [150] \"https://github.com/tidyverse/ellmer/issues/252\"                                                              #> [151] \"https://github.com/tidyverse/ellmer/issues/254\"                                                              #> [152] \"https://github.com/tidyverse/ellmer/issues/257\"                                                              #> [153] \"https://github.com/tidyverse/ellmer/issues/258\"                                                              #> [154] \"https://github.com/tidyverse/ellmer/issues/261\"                                                              #> [155] \"https://github.com/tidyverse/ellmer/issues/263\"                                                              #> [156] \"https://github.com/tidyverse/ellmer/issues/265\"                                                              #> [157] \"https://github.com/tidyverse/ellmer/issues/269\"                                                              #> [158] \"https://github.com/tidyverse/ellmer/issues/271\"                                                              #> [159] \"https://github.com/tidyverse/ellmer/issues/273\"                                                              #> [160] \"https://github.com/tidyverse/ellmer/issues/275\"                                                              #> [161] \"https://github.com/tidyverse/ellmer/issues/285\"                                                              #> [162] \"https://github.com/tidyverse/ellmer/issues/295\"                                                              #> [163] \"https://github.com/tidyverse/ellmer/issues/299\"                                                              #> [164] \"https://github.com/tidyverse/ellmer/issues/300\"                                                              #> [165] \"https://github.com/tidyverse/ellmer/issues/31\"                                                               #> [166] \"https://github.com/tidyverse/ellmer/issues/310\"                                                              #> [167] \"https://github.com/tidyverse/ellmer/issues/317\"                                                              #> [168] \"https://github.com/tidyverse/ellmer/issues/32\"                                                               #> [169] \"https://github.com/tidyverse/ellmer/issues/320\"                                                              #> [170] \"https://github.com/tidyverse/ellmer/issues/336\"                                                              #> [171] \"https://github.com/tidyverse/ellmer/issues/337\"                                                              #> [172] \"https://github.com/tidyverse/ellmer/issues/339\"                                                              #> [173] \"https://github.com/tidyverse/ellmer/issues/341\"                                                              #> [174] \"https://github.com/tidyverse/ellmer/issues/342\"                                                              #> [175] \"https://github.com/tidyverse/ellmer/issues/347\"                                                              #> [176] \"https://github.com/tidyverse/ellmer/issues/348\"                                                              #> [177] \"https://github.com/tidyverse/ellmer/issues/354\"                                                              #> [178] \"https://github.com/tidyverse/ellmer/issues/50\"                                                               #> [179] \"https://github.com/tidyverse/ellmer/issues/56\"                                                               #> [180] \"https://github.com/walkerke\"                                                                                 #> [181] \"https://glue.tidyverse.org\"                                                                                  #> [182] \"https://glue.tidyverse.org/articles/wrappers.html\"                                                           #> [183] \"https://groq.com\"                                                                                            #> [184] \"https://hadley.nz\"                                                                                           #> [185] \"https://hauselin.github.io/ollama-r\"                                                                         #> [186] \"https://httr2.r-lib.org/reference/req_headers.html\"                                                          #> [187] \"https://httr2.r-lib.org/reference/with_verbosity.html\"                                                       #> [188] \"https://json-schema.org\"                                                                                     #> [189] \"https://lifecycle.r-lib.org/articles/stages.html\"                                                            #> [190] \"https://ollama.com\"                                                                                          #> [191] \"https://openai.com\"                                                                                          #> [192] \"https://openrouter.ai\"                                                                                       #> [193] \"https://openrouter.ai/models\"                                                                                #> [194] \"https://opensource.org/licenses/mit-license.php\"                                                             #> [195] \"https://orcid.org/0000-0003-4757-117X\"                                                                       #> [196] \"https://pkgdown.r-lib.org\"                                                                                   #> [197] \"https://platform.deepseek.com\"                                                                               #> [198] \"https://platform.openai.com\"                                                                                 #> [199] \"https://platform.openai.com/account/api-keys\"                                                                #> [200] \"https://platform.openai.com/docs/guides/prompt-engineering\"                                                  #> [201] \"https://platform.openai.com/docs/guides/vision/low-or-high-fidelity-image-understanding\"                     #> [202] \"https://posit-dev.github.io/brand-yml/articles/llm-brand-yml-prompt\"                                         #> [203] \"https://r-lib.github.io/later/reference/later_fd.html\"                                                       #> [204] \"https://r6.r-lib.org\"                                                                                        #> [205] \"https://rdrr.io/r/base/AsIs.html\"                                                                            #> [206] \"https://rdrr.io/r/base/Paren.html\"                                                                           #> [207] \"https://rdrr.io/r/base/Sys.time.html\"                                                                        #> [208] \"https://rdrr.io/r/base/c.html\"                                                                               #> [209] \"https://rdrr.io/r/base/cat.html\"                                                                             #> [210] \"https://rdrr.io/r/base/character.html\"                                                                       #> [211] \"https://rdrr.io/r/base/chartr.html\"                                                                          #> [212] \"https://rdrr.io/r/base/format.html\"                                                                          #> [213] \"https://rdrr.io/r/base/interactive.html\"                                                                     #> [214] \"https://rdrr.io/r/base/lapply.html\"                                                                          #> [215] \"https://rdrr.io/r/base/library.html\"                                                                         #> [216] \"https://rdrr.io/r/base/list.html\"                                                                            #> [217] \"https://rdrr.io/r/base/print.html\"                                                                           #> [218] \"https://rdrr.io/r/base/readLines.html\"                                                                       #> [219] \"https://rdrr.io/r/base/stop.html\"                                                                            #> [220] \"https://rdrr.io/r/base/sys.parent.html\"                                                                      #> [221] \"https://rdrr.io/r/base/system.file.html\"                                                                     #> [222] \"https://rdrr.io/r/graphics/plot.default.html\"                                                                #> [223] \"https://rdrr.io/r/stats/Normal.html\"                                                                         #> [224] \"https://rdrr.io/r/utils/install.packages.html\"                                                               #> [225] \"https://rdrr.io/r/utils/str.html\"                                                                            #> [226] \"https://rlang.r-lib.org/reference/is_installed.html\"                                                         #> [227] \"https://roxygen2.r-lib.org\"                                                                                  #> [228] \"https://rstudio.github.io/promises\"                                                                          #> [229] \"https://rstudio.github.io/promises/reference/pipes.html\"                                                     #> [230] \"https://shiny.posit.co/blog/posts/shiny-assistant\"                                                           #> [231] \"https://simonpcouch.github.io/pal\"                                                                           #> [232] \"https://usethis.r-lib.org/articles/git-credentials.html\"                                                     #> [233] \"https://www.anthropic.com\"                                                                                   #> [234] \"https://www.anthropic.com/claude\"                                                                            #> [235] \"https://www.oneusefulthing.org/p/getting-started-with-ai-good-enough\"                                        #> [236] \"https://www.paws-r-sdk.com\"                                                                                  #> [237] \"https://www.perplexity.ai\"                                                                                   #> [238] \"https://www.posit.co\"                                                                                        #> [239] \"https://www.youtube.com/watch?v=sYliwvml9Es\"                                                                 #> [240] \"https://www.youtube.com/watch?v=zduSFxRajkE\"                                                                 ragnar_find_links(   paste0(\"https://github.com/Snowflake-Labs/sfquickstarts/\",          \"tree/master/site/sfguides/src/build_a_custom_model_for_anomaly_detection\"),   children_only = \"https://github.com/Snowflake-Labs/sfquickstarts\",   depth = 1 ) #>  [1] \"https://github.com/Snowflake-Labs/sfquickstarts\"                                                                                                                        #>  [2] \"https://github.com/Snowflake-Labs/sfquickstarts/actions\"                                                                                                                #>  [3] \"https://github.com/Snowflake-Labs/sfquickstarts/blob/master/site/sfguides/src/build_a_custom_model_for_anomaly_detection/assets/external_access.gif\"                    #>  [4] \"https://github.com/Snowflake-Labs/sfquickstarts/blob/master/site/sfguides/src/build_a_custom_model_for_anomaly_detection/build_a_custom_model_for_anomaly_detection.md\" #>  [5] \"https://github.com/Snowflake-Labs/sfquickstarts/commits/master/site/sfguides/src/build_a_custom_model_for_anomaly_detection\"                                            #>  [6] \"https://github.com/Snowflake-Labs/sfquickstarts/commits/master/site/sfguides/src/build_a_custom_model_for_anomaly_detection/assets\"                                     #>  [7] \"https://github.com/Snowflake-Labs/sfquickstarts/issues\"                                                                                                                 #>  [8] \"https://github.com/Snowflake-Labs/sfquickstarts/projects\"                                                                                                               #>  [9] \"https://github.com/Snowflake-Labs/sfquickstarts/pulls\"                                                                                                                  #> [10] \"https://github.com/Snowflake-Labs/sfquickstarts/pulse\"                                                                                                                  #> [11] \"https://github.com/Snowflake-Labs/sfquickstarts/security\"                                                                                                               #> [12] \"https://github.com/Snowflake-Labs/sfquickstarts/tree/master\"                                                                                                            #> [13] \"https://github.com/Snowflake-Labs/sfquickstarts/tree/master/site\"                                                                                                       #> [14] \"https://github.com/Snowflake-Labs/sfquickstarts/tree/master/site/sfguides\"                                                                                              #> [15] \"https://github.com/Snowflake-Labs/sfquickstarts/tree/master/site/sfguides/src\"                                                                                          #> [16] \"https://github.com/Snowflake-Labs/sfquickstarts/tree/master/site/sfguides/src/build_a_custom_model_for_anomaly_detection\"                                               #> [17] \"https://github.com/Snowflake-Labs/sfquickstarts/tree/master/site/sfguides/src/build_a_custom_model_for_anomaly_detection/assets\""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_read.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a document as Markdown ‚Äî ragnar_read","title":"Read a document as Markdown ‚Äî ragnar_read","text":"ragnar_read() uses markitdown convert document markdown. frame_by_tags split_by_tags provided, converted markdown content split converted data frame, otherwise, markdown returned string.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a document as Markdown ‚Äî ragnar_read","text":"","code":"ragnar_read(x, ..., split_by_tags = NULL, frame_by_tags = NULL)"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a document as Markdown ‚Äî ragnar_read","text":"x file path url. ... passed markitdown.convert. split_by_tags character vector html tag names used split returned text frame_by_tags character vector html tag names used create dataframe returned content","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a document as Markdown ‚Äî ragnar_read","text":"Always returns data frame columns: origin: file path url hash: hash text content text: markdown content split_by_tags NULL, tag column also included containing corresponding tag text chunk. \"\" used text chunks associated tag. frame_by_tags NULL, additional columns included tag frame_by_tags. text chunks associated tags order appear markdown content.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_read.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read a document as Markdown ‚Äî ragnar_read","text":"","code":"file <- tempfile(fileext = \".html\") download.file(\"https://r4ds.hadley.nz/base-R.html\", file, quiet = TRUE)  # with no arguments, returns a single row data frame. # the markdown content is in the `text` column. file |> ragnar_read() |> str() #> tibble [1 √ó 3] (S3: tbl_df/tbl/data.frame) #>  $ origin: chr \"/tmp/RtmpJgZIjP/file1c6f6a827a34.html\" #>  $ hash  : chr \"00585a42cd90063e648b3db1ae3928d7\" #>  $ text  : 'glue' chr \"# 27¬† A field guide to base R ‚Äì R for Data Science (2e)\\n\\n1. [Program](./program.html)\\n2. [27¬† A field guide \"| __truncated__  # use `split_by_tags` to get a data frame where the text is split by the # specified tags (e.g., \"h1\", \"h2\", \"h3\") file |>   ragnar_read(split_by_tags = c(\"h1\", \"h2\", \"h3\")) #> # A tibble: 37 √ó 4 #>    origin                                hash                        text  tag   #>    <chr>                                 <chr>                       <chr> <chr> #>  1 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd90063e648b3db1ae‚Ä¶ \"# 2‚Ä¶ \"h1\"  #>  2 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd90063e648b3db1ae‚Ä¶ \"1. ‚Ä¶ \"\"    #>  3 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd90063e648b3db1ae‚Ä¶ \"## ‚Ä¶ \"h2\"  #>  4 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd90063e648b3db1ae‚Ä¶ \"* [‚Ä¶ \"\"    #>  5 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd90063e648b3db1ae‚Ä¶ \"# 2‚Ä¶ \"h1\"  #>  6 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd90063e648b3db1ae‚Ä¶ \"## ‚Ä¶ \"h2\"  #>  7 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd90063e648b3db1ae‚Ä¶ \"To ‚Ä¶ \"\"    #>  8 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd90063e648b3db1ae‚Ä¶ \"###‚Ä¶ \"h3\"  #>  9 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd90063e648b3db1ae‚Ä¶ \"Thi‚Ä¶ \"\"    #> 10 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd90063e648b3db1ae‚Ä¶ \"## ‚Ä¶ \"h2\"  #> # ‚Ñπ 27 more rows  # use `frame_by_tags` to get a dataframe where the # headings associated with each text chunk are easily accessible file |>   ragnar_read(frame_by_tags = c(\"h1\", \"h2\", \"h3\")) #> # A tibble: 18 √ó 6 #>    origin                                hash            text  h1    h2    h3    #>    <chr>                                 <chr>           <chr> <chr> <chr> <chr> #>  1 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"1. ‚Ä¶ # 27‚Ä¶ NA    NA    #>  2 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"* [‚Ä¶ # 27‚Ä¶ ## T‚Ä¶ NA    #>  3 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"To ‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ NA    #>  4 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"Thi‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ ### ‚Ä¶ #>  5 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"`[`‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ NA    #>  6 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"The‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ ### ‚Ä¶ #>  7 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"The‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ ### ‚Ä¶ #>  8 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"Sev‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ ### ‚Ä¶ #>  9 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"1. ‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ ### ‚Ä¶ #> 10 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"`[`‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ NA    #> 11 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"`[[‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ ### ‚Ä¶ #> 12 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"The‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ ### ‚Ä¶ #> 13 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"`[[‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ ### ‚Ä¶ #> 14 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"1. ‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ ### ‚Ä¶ #> 15 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"In ‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ NA    #> 16 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"`fo‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ NA    #> 17 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"Man‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ NA    #> 18 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42cd9006‚Ä¶ \"In ‚Ä¶ # 27‚Ä¶ ## 2‚Ä¶ NA     # use `split_by_tags` and `frame_by_tags` together to further break up `text`. file |>   ragnar_read(     split_by_tags = c(\"p\"),     frame_by_tags = c(\"h1\", \"h2\", \"h3\")   ) #> # A tibble: 163 √ó 7 #>    origin                                hash      text  h1    h2    h3    tag   #>    <chr>                                 <chr>     <chr> <chr> <chr> <chr> <chr> #>  1 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42‚Ä¶ \"1. ‚Ä¶ # 27‚Ä¶ NA    NA    \"\"    #>  2 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42‚Ä¶ \"[R ‚Ä¶ # 27‚Ä¶ NA    NA    \"p\"   #>  3 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42‚Ä¶ \"*\"   # 27‚Ä¶ NA    NA    \"\"    #>  4 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42‚Ä¶ \"[We‚Ä¶ # 27‚Ä¶ NA    NA    \"p\"   #>  5 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42‚Ä¶ \"*\"   # 27‚Ä¶ NA    NA    \"\"    #>  6 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42‚Ä¶ \"[Pr‚Ä¶ # 27‚Ä¶ NA    NA    \"p\"   #>  7 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42‚Ä¶ \"*\"   # 27‚Ä¶ NA    NA    \"\"    #>  8 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42‚Ä¶ \"[In‚Ä¶ # 27‚Ä¶ NA    NA    \"p\"   #>  9 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42‚Ä¶ \"*\"   # 27‚Ä¶ NA    NA    \"\"    #> 10 /tmp/RtmpJgZIjP/file1c6f6a827a34.html 00585a42‚Ä¶ \"[Wh‚Ä¶ # 27‚Ä¶ NA    NA    \"p\"   #> # ‚Ñπ 153 more rows  # Example workflow adding context to each chunk file |>   ragnar_read(frame_by_tags = c(\"h1\", \"h2\", \"h3\")) |>   glue::glue_data(r\"--(     ## Excerpt from the book \"R for Data Science (2e)\"     chapter: {h1}     section: {h2}     content: {text}      )--\") |>   # inspect   _[6:7] |> cat(sep = \"\\n~~~~~~~~~~~\\n\") #> ## Excerpt from the book \"R for Data Science (2e)\" #> chapter: # 27¬† A field guide to base R #> section: ## 27.2 Selecting multiple elements with `[` #> content: There are five main types of things that you can subset a vector with, i.e., that can be the `i` in `x[i]`: #>  #> 1. **A vector of positive integers**. Subsetting with positive integers keeps the elements at those positions: #>  #>    ``` #>    x <- c(\"one\", \"two\", \"three\", \"four\", \"five\") #>    x[c(3, 2, 5)] #>    #> [1] \"three\" \"two\"   \"five\" #>    ``` #>  #>    By repeating a position, you can actually make a longer output than input, making the term ‚Äúsubsetting‚Äù a bit of a misnomer. #>  #>    ``` #>    x[c(1, 1, 5, 5, 5, 2)] #>    #> [1] \"one\"  \"one\"  \"five\" \"five\" \"five\" \"two\" #>    ``` #> 2. **A vector of negative integers**. Negative values drop the elements at the specified positions: #>  #>    ``` #>    x[c(-1, -3, -5)] #>    #> [1] \"two\"  \"four\" #>    ``` #> 3. **A logical vector**. Subsetting with a logical vector keeps all values corresponding to a `TRUE` value. This is most often useful in conjunction with the comparison functions. #>  #>    ``` #>    x <- c(10, 3, NA, 5, 8, 1, NA) #>  #>    # All non-missing values of x #>    x[!is.na(x)] #>    #> [1] 10  3  5  8  1 #>  #>    # All even (or missing!) values of x #>    x[x %% 2 == 0] #>    #> [1] 10 NA  8 NA #>    ``` #>  #>    Unlike `[filter()](https://dplyr.tidyverse.org/reference/filter.html)`, `NA` indices will be included in the output as `NA`s. #> 4. **A character vector**. If you have a named vector, you can subset it with a character vector: #>  #>    ``` #>    x <- c(abc = 1, def = 2, xyz = 5) #>    x[c(\"xyz\", \"def\")] #>    #> xyz def #>    #>   5   2 #>    ``` #>  #>    As with subsetting with positive integers, you can use a character vector to duplicate individual entries. #> 5. **Nothing**. The final type of subsetting is nothing, `x[]`, which returns the complete `x`. This is not useful for subsetting vectors, but as we‚Äôll see shortly, it is useful when subsetting 2d structures like tibbles. #>  #> ~~~~~~~~~~~ #> ## Excerpt from the book \"R for Data Science (2e)\" #> chapter: # 27¬† A field guide to base R #> section: ## 27.2 Selecting multiple elements with `[` #> content: There are quite a few different ways[1](#fn1) that you can use `[` with a data frame, but the most important way is to select rows and columns independently with `df[rows, cols]`. Here `rows` and `cols` are vectors as described above. For example, `df[rows, ]` and `df[, cols]` select just rows or just columns, using the empty subset to preserve the other dimension. #>  #> Here are a couple of examples: #>  #> ``` #> df <- tibble( #>   x = 1:3, #>   y = c(\"a\", \"e\", \"f\"), #>   z = runif(3) #> ) #>  #> # Select first row and second column #> df[1, 2] #> #> # A tibble: 1 √ó 1 #> #>   y #> #>   <chr> #> #> 1 a #>  #> # Select all rows and columns x and y #> df[, c(\"x\" , \"y\")] #> #> # A tibble: 3 √ó 2 #> #>       x y #> #>   <int> <chr> #> #> 1     1 a #> #> 2     2 e #> #> 3     3 f #>  #> # Select rows where `x` is greater than 1 and all columns #> df[df$x > 1, ] #> #> # A tibble: 2 √ó 3 #> #>       x y         z #> #>   <int> <chr> <dbl> #> #> 1     2 e     0.834 #> #> 2     3 f     0.601 #> ``` #>  #> We‚Äôll come back to `$` shortly, but you should be able to guess what `df$x` does from the context: it extracts the `x` variable from `df`. We need to use it here because `[` doesn‚Äôt use tidy evaluation, so you need to be explicit about the source of the `x` variable. #>  #> There‚Äôs an important difference between tibbles and data frames when it comes to `[`. In this book, we‚Äôve mainly used tibbles, which *are* data frames, but they tweak some behaviors to make your life a little easier. In most places, you can use ‚Äútibble‚Äù and ‚Äúdata frame‚Äù interchangeably, so when we want to draw particular attention to R‚Äôs built-in data frame, we‚Äôll write `data.frame`. If `df` is a `data.frame`, then `df[, cols]` will return a vector if `col` selects a single column and a data frame if it selects more than one column. If `df` is a tibble, then `[` will always return a tibble. #>  #> ``` #> df1 <- data.frame(x = 1:3) #> df1[, \"x\"] #> #> [1] 1 2 3 #>  #> df2 <- tibble(x = 1:3) #> df2[, \"x\"] #> #> # A tibble: 3 √ó 1 #> #>       x #> #>   <int> #> #> 1     1 #> #> 2     2 #> #> 3     3 #> ``` #>  #> One way to avoid this ambiguity with `data.frame`s is to explicitly specify `drop = FALSE`: #>  #> ``` #> df1[, \"x\" , drop = FALSE] #> #>   x #> #> 1 1 #> #> 2 2 #> #> 3 3 #> ``` #>   # Advanced example of postprocessing the output of ragnar_read() # to add language to code blocks, markdown style library(dplyr, warn.conflicts = FALSE) library(stringr) library(rvest) library(xml2) file |>   ragnar_read(frame_by_tags = c(\"h1\", \"h2\", \"h3\"),               split_by_tags = c(\"p\", \"pre\")) |>   mutate(     is_code = tag == \"pre\",     text = ifelse(is_code, str_replace(text, \"```\", \"```r\"), text)   ) |>   group_by(h1, h2, h3) |>   summarise(text = str_flatten(text, \"\\n\\n\"), .groups = \"drop\") |>   glue::glue_data(r\"--(     # Excerpt from the book \"R for Data Science (2e)\"     chapter: {h1}     section: {h2}     content: {text}      )--\") |>   # inspect   _[9:10] |> cat(sep = \"\\n~~~~~~~~~~~\\n\") #> # Excerpt from the book \"R for Data Science (2e)\" #> chapter: # 27¬† A field guide to base R #> section: ## 27.3 Selecting a single element with `$` and `[[` #> content: There are a couple of important differences between tibbles and base `data.frame`s when it comes to `$`. Data frames match the prefix of any variable names (so-called **partial matching**) and don‚Äôt complain if a column doesn‚Äôt exist: #>  #> ```r #> df <- data.frame(x1 = 1) #> df$x #> #> [1] 1 #> df$z #> #> NULL #> ``` #>  #> Tibbles are more strict: they only ever match variable names exactly and they will generate a warning if the column you are trying to access doesn‚Äôt exist: #>  #> ```r #> tb <- tibble(x1 = 1) #>  #> tb$x #> #> Warning: Unknown or uninitialised column: `x`. #> #> NULL #> tb$z #> #> Warning: Unknown or uninitialised column: `z`. #> #> NULL #> ``` #>  #> For this reason we sometimes joke that tibbles are lazy and surly: they do less and complain more. #>  #> ~~~~~~~~~~~ #> # Excerpt from the book \"R for Data Science (2e)\" #> chapter: # 27¬† A field guide to base R #> section: ## 27.3 Selecting a single element with `$` and `[[` #> content: `[[` and `$` are also really important for working with lists, and it‚Äôs important to understand how they differ from `[`. Let‚Äôs illustrate the differences with a list named `l`: #>  #> ```r #> l <- list( #>   a = 1:3, #>   b = \"a string\", #>   c = pi, #>   d = list(-1, -5) #> ) #> ``` #>  #> * #>  #> `[` extracts a sub-list. It doesn‚Äôt matter how many elements you extract, the result will always be a list. #>  #> ```r #>   str(l[1:2]) #>   #> List of 2 #>   #>  $ a: int [1:3] 1 2 3 #>   #>  $ b: chr \"a string\" #>  #>   str(l[1]) #>   #> List of 1 #>   #>  $ a: int [1:3] 1 2 3 #>  #>   str(l[4]) #>   #> List of 1 #>   #>  $ d:List of 2 #>   #>   ..$ : num -1 #>   #>   ..$ : num -5 #>   ``` #>  #> Like with vectors, you can subset with a logical, integer, or character vector. #>  #> * #>  #> `[[` and `$` extract a single component from a list. They remove a level of hierarchy from the list. #>  #> ```r #>   str(l[[1]]) #>   #>  int [1:3] 1 2 3 #>  #>   str(l[[4]]) #>   #> List of 2 #>   #>  $ : num -1 #>   #>  $ : num -5 #>  #>   str(l$a) #>   #>  int [1:3] 1 2 3 #>   ``` #>  #> The difference between `[` and `[[` is particularly important for lists because `[[` drills down into the list while `[` returns a new, smaller list. To help you remember the difference, take a look at the unusual pepper shaker shown in [Figure¬†27.1](#fig-pepper). If this pepper shaker is your list `pepper`, then, `pepper[1]` is a pepper shaker containing a single pepper packet. `pepper[2]` would look the same, but would contain the second packet. `pepper[1:2]` would be a pepper shaker containing two pepper packets. `pepper[[1]]` would extract the pepper packet itself. #>  #> ![Three photos. On the left is a photo of a glass pepper shaker. Instead of  the pepper shaker containing pepper, it contains a single packet of pepper. In the middle is a photo of a single packet of pepper. On the right is a  photo of the contents of a packet of pepper.](diagrams/pepper.png) #>  #> Figure¬†27.1: (Left) A pepper shaker that Hadley once found in his hotel room. (Middle) `pepper[1]`. (Right) `pepper[[1]]` #>  #> This same principle applies when you use 1d `[` with a data frame: `df[\"x\"]` returns a one-column data frame and `df[[\"x\"]]` returns a vector. #>"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_read_document.html","id":null,"dir":"Reference","previous_headings":"","what":"Read an HTML document ‚Äî ragnar_read_document","title":"Read an HTML document ‚Äî ragnar_read_document","text":"Read HTML document","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_read_document.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read an HTML document ‚Äî ragnar_read_document","text":"","code":"ragnar_read_document(   x,   ...,   split_by_tags = frame_by_tags,   frame_by_tags = NULL )"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_read_document.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read an HTML document ‚Äî ragnar_read_document","text":"x file path url, passed rvest::read_html(), xml_node. ... passed rvest::read_html() split_by_tags character vector html tag names used split returned text frame_by_tags character vector html tag names used create dataframe returned content","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_read_document.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read an HTML document ‚Äî ragnar_read_document","text":"frame_by_tags NULL, data frame returned, column names c(\"frame_by_tags\", \"text\"). frame_by_tags NULL split_by_tags NULL, named character vector returned. frame_by_tags split_by_tags NULL, string (length-1 character vector) returned.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_read_document.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read an HTML document ‚Äî ragnar_read_document","text":"","code":"file <- tempfile(fileext = \".html\") download.file(\"https://r4ds.hadley.nz/base-R.html\", file, quiet = TRUE)  # with no arguments, returns a single string of the text. file |> ragnar_read_document() |> str() #>  chr \"Program\\n27 A field guide to base R\\nR for Data Science (2e)\\nWelcome\\nPreface to the second edition\\nIntroduct\"| __truncated__  # use `split_by_tags` to get a named character vector of length > 1 file |>   ragnar_read_document(split_by_tags = c(\"h1\", \"h2\", \"h3\")) |>   tibble::enframe(\"tag\", \"text\") #> # A tibble: 36 √ó 2 #>    tag   text                                                                    #>    <chr> <chr>                                                                   #>  1 \"\"    \"Program\\n27 A field guide to base R\\nR for Data Science (2e)\\nWelcome‚Ä¶ #>  2 \"h2\"  \"Table of contents\"                                                     #>  3 \"\"    \"27.1 Introduction\\n27.1.1 Prerequisites\\n27.2 Selecting multiple elem‚Ä¶ #>  4 \"h1\"  \"27 A field guide to base R\"                                            #>  5 \"h2\"  \"27.1 Introduction\"                                                     #>  6 \"\"    \"To finish off the programming section, we‚Äôre going to give you a quic‚Ä¶ #>  7 \"h3\"  \"27.1.1 Prerequisites\"                                                  #>  8 \"\"    \"This package focuses on base R so doesn‚Äôt have any real prerequisites‚Ä¶ #>  9 \"h2\"  \"27.2 Selecting multiple elements with [\"                               #> 10 \"\"    \"[ is used to extract sub-components from vectors and data frames, and‚Ä¶ #> # ‚Ñπ 26 more rows  # use `frame_by_tags` to get a dataframe where the # headings associated with each text chunk are easily accessible file |>   ragnar_read_document(frame_by_tags = c(\"h1\", \"h2\", \"h3\")) #> # A tibble: 18 √ó 4 #>    h1                         h2                                     h3    text  #>    <chr>                      <chr>                                  <chr> <chr> #>  1 NA                         NA                                     NA    \"Pro‚Ä¶ #>  2 NA                         Table of contents                      NA    \"27.‚Ä¶ #>  3 27 A field guide to base R 27.1 Introduction                      NA    \"To ‚Ä¶ #>  4 27 A field guide to base R 27.1 Introduction                      27.1‚Ä¶ \"Thi‚Ä¶ #>  5 27 A field guide to base R 27.2 Selecting multiple elements with‚Ä¶ NA    \"[ i‚Ä¶ #>  6 27 A field guide to base R 27.2 Selecting multiple elements with‚Ä¶ 27.2‚Ä¶ \"The‚Ä¶ #>  7 27 A field guide to base R 27.2 Selecting multiple elements with‚Ä¶ 27.2‚Ä¶ \"The‚Ä¶ #>  8 27 A field guide to base R 27.2 Selecting multiple elements with‚Ä¶ 27.2‚Ä¶ \"Sev‚Ä¶ #>  9 27 A field guide to base R 27.2 Selecting multiple elements with‚Ä¶ 27.2‚Ä¶ \"Cre‚Ä¶ #> 10 27 A field guide to base R 27.3 Selecting a single element with ‚Ä¶ NA    \"[, ‚Ä¶ #> 11 27 A field guide to base R 27.3 Selecting a single element with ‚Ä¶ 27.3‚Ä¶ \"[[ ‚Ä¶ #> 12 27 A field guide to base R 27.3 Selecting a single element with ‚Ä¶ 27.3‚Ä¶ \"The‚Ä¶ #> 13 27 A field guide to base R 27.3 Selecting a single element with ‚Ä¶ 27.3‚Ä¶ \"[[ ‚Ä¶ #> 14 27 A field guide to base R 27.3 Selecting a single element with ‚Ä¶ 27.3‚Ä¶ \"Wha‚Ä¶ #> 15 27 A field guide to base R 27.4 Apply family                      NA    \"In ‚Ä¶ #> 16 27 A field guide to base R 27.5 for loops                         NA    \"for‚Ä¶ #> 17 27 A field guide to base R 27.6 Plots                             NA    \"Man‚Ä¶ #> 18 27 A field guide to base R 27.7 Summary                           NA    \"In ‚Ä¶  # use `split_by_tags` and `frame_by_tags` together to further break up `text`. file |>   ragnar_read_document(     split_by_tags = c(\"p\"),     frame_by_tags = c(\"h1\", \"h2\", \"h3\")   ) #> # A tibble: 117 √ó 5 #>    h1                         h2                               h3    tag   text  #>    <chr>                      <chr>                            <chr> <chr> <chr> #>  1 NA                         NA                               NA    \"\"    \"Pro‚Ä¶ #>  2 NA                         Table of contents                NA    \"\"    \"27.‚Ä¶ #>  3 27 A field guide to base R 27.1 Introduction                NA    \"p\"   \"To ‚Ä¶ #>  4 27 A field guide to base R 27.1 Introduction                NA    \"p\"   \"Thi‚Ä¶ #>  5 27 A field guide to base R 27.1 Introduction                NA    \"p\"   \"Aft‚Ä¶ #>  6 27 A field guide to base R 27.1 Introduction                NA    \"p\"   \"In ‚Ä¶ #>  7 27 A field guide to base R 27.1 Introduction                27.1‚Ä¶ \"p\"   \"Thi‚Ä¶ #>  8 27 A field guide to base R 27.1 Introduction                27.1‚Ä¶ \"\"    \"lib‚Ä¶ #>  9 27 A field guide to base R 27.2 Selecting multiple element‚Ä¶ NA    \"p\"   \"[ i‚Ä¶ #> 10 27 A field guide to base R 27.2 Selecting multiple element‚Ä¶ 27.2‚Ä¶ \"p\"   \"The‚Ä¶ #> # ‚Ñπ 107 more rows  # Example workflow adding context to each chunk file |>   ragnar_read_document(frame_by_tags = c(\"h1\", \"h2\", \"h3\")) |>   glue::glue_data(r\"--(     ## Excerpt from the book \"R for Data Science (2e)\"     chapter: {h1}     section: {h2}     content: {text}      )--\") |>     # inspect     _[6:7] |> cat(sep = \"\\n~~~~~~~~~~~\\n\") #> ## Excerpt from the book \"R for Data Science (2e)\" #> chapter: 27 A field guide to base R #> section: 27.2 Selecting multiple elements with [ #> content: There are five main types of things that you can subset a vector with, i.e., that can be the i in x[i]: #>  #> A vector of positive integers. Subsetting with positive integers keeps the elements at those positions: #>  #> x <- c(\"one\", \"two\", \"three\", \"four\", \"five\") #> x[c(3, 2, 5)] #> #> [1] \"three\" \"two\"   \"five\" #>  #> By repeating a position, you can actually make a longer output than input, making the term ‚Äúsubsetting‚Äù a bit of a misnomer. #>  #> x[c(1, 1, 5, 5, 5, 2)] #> #> [1] \"one\"  \"one\"  \"five\" \"five\" \"five\" \"two\" #>  #> A vector of negative integers. Negative values drop the elements at the specified positions: #>  #> x[c(-1, -3, -5)] #> #> [1] \"two\"  \"four\" #>  #> A logical vector. Subsetting with a logical vector keeps all values corresponding to a TRUE value. This is most often useful in conjunction with the comparison functions. #>  #> x <- c(10, 3, NA, 5, 8, 1, NA) #>  #> # All non-missing values of x #> x[!is.na(x)] #> #> [1] 10  3  5  8  1 #>  #> # All even (or missing!) values of x #> x[x %% 2 == 0] #> #> [1] 10 NA  8 NA #>  #> Unlike filter(), NA indices will be included in the output as NAs. #>  #> A character vector. If you have a named vector, you can subset it with a character vector: #>  #> x <- c(abc = 1, def = 2, xyz = 5) #> x[c(\"xyz\", \"def\")] #> #> xyz def  #> #>   5   2 #>  #> As with subsetting with positive integers, you can use a character vector to duplicate individual entries. #>  #> Nothing. The final type of subsetting is nothing, x[], which returns the complete x. This is not useful for subsetting vectors, but as we‚Äôll see shortly, it is useful when subsetting 2d structures like tibbles. #>  #> ~~~~~~~~~~~ #> ## Excerpt from the book \"R for Data Science (2e)\" #> chapter: 27 A field guide to base R #> section: 27.2 Selecting multiple elements with [ #> content: There are quite a few different ways1 that you can use [ with a data frame, but the most important way is to select rows and columns independently with df[rows, cols]. Here rows and cols are vectors as described above. For example, df[rows, ] and df[, cols] select just rows or just columns, using the empty subset to preserve the other dimension. #>  #> Here are a couple of examples: #>  #> df <- tibble( #>   x = 1:3,  #>   y = c(\"a\", \"e\", \"f\"),  #>   z = runif(3) #> ) #>  #> # Select first row and second column #> df[1, 2] #> #> # A tibble: 1 √ó 1 #> #>   y     #> #>   <chr> #> #> 1 a #>  #> # Select all rows and columns x and y #> df[, c(\"x\" , \"y\")] #> #> # A tibble: 3 √ó 2 #> #>       x y     #> #>   <int> <chr> #> #> 1     1 a     #> #> 2     2 e     #> #> 3     3 f #>  #> # Select rows where `x` is greater than 1 and all columns #> df[df$x > 1, ] #> #> # A tibble: 2 √ó 3 #> #>       x y         z #> #>   <int> <chr> <dbl> #> #> 1     2 e     0.834 #> #> 2     3 f     0.601 #>  #> We‚Äôll come back to $ shortly, but you should be able to guess what df$x does from the context: it extracts the x variable from df. We need to use it here because [ doesn‚Äôt use tidy evaluation, so you need to be explicit about the source of the x variable. #>  #> There‚Äôs an important difference between tibbles and data frames when it comes to [. In this book, we‚Äôve mainly used tibbles, which are data frames, but they tweak some behaviors to make your life a little easier. In most places, you can use ‚Äútibble‚Äù and ‚Äúdata frame‚Äù interchangeably, so when we want to draw particular attention to R‚Äôs built-in data frame, we‚Äôll write data.frame. If df is a data.frame, then df[, cols] will return a vector if col selects a single column and a data frame if it selects more than one column. If df is a tibble, then [ will always return a tibble. #>  #> df1 <- data.frame(x = 1:3) #> df1[, \"x\"] #> #> [1] 1 2 3 #>  #> df2 <- tibble(x = 1:3) #> df2[, \"x\"] #> #> # A tibble: 3 √ó 1 #> #>       x #> #>   <int> #> #> 1     1 #> #> 2     2 #> #> 3     3 #>  #> One way to avoid this ambiguity with data.frames is to explicitly specify drop = FALSE: #>  #> df1[, \"x\" , drop = FALSE] #> #>   x #> #> 1 1 #> #> 2 2 #> #> 3 3 #>   # Advanced example of postprocessing the output of ragnar_read_document() # to wrap code blocks in backticks, markdown style library(dplyr, warn.conflicts = FALSE) library(stringr) library(rvest) library(xml2) file |>   ragnar_read_document(frame_by_tags = c(\"h1\", \"h2\", \"h3\"),                        split_by_tags = c(\"p\", \"pre\")) |>   mutate(     is_code = tag == \"pre\",     text = ifelse(is_code,                   str_c(\"```\", text, \"```\", sep = \"\\n\"),                   text)) |>   group_by(h1, h2, h3) |>   summarise(text = str_flatten(text, \"\\n\"), .groups = \"drop\") |>   glue::glue_data(r\"--(     # Excerpt from the book \"R for Data Science (2e)\"     chapter: {h1}     section: {h2}     content: {text}      )--\") |>     # inspect     _[9:10] |> cat(sep = \"\\n~~~~~~~~~~~\\n\") #> # Excerpt from the book \"R for Data Science (2e)\" #> chapter: 27 A field guide to base R #> section: 27.3 Selecting a single element with $ and [[ #> content: There are a couple of important differences between tibbles and base data.frames when it comes to $. Data frames match the prefix of any variable names (so-called partial matching) and don‚Äôt complain if a column doesn‚Äôt exist: #> ``` #> df <- data.frame(x1 = 1) #> df$x #> #> [1] 1 #> df$z #> #> NULL #> ``` #> Tibbles are more strict: they only ever match variable names exactly and they will generate a warning if the column you are trying to access doesn‚Äôt exist: #> ``` #> tb <- tibble(x1 = 1) #>  #> tb$x #> #> Warning: Unknown or uninitialised column: `x`. #> #> NULL #> tb$z #> #> Warning: Unknown or uninitialised column: `z`. #> #> NULL #> ``` #> For this reason we sometimes joke that tibbles are lazy and surly: they do less and complain more. #>  #> ~~~~~~~~~~~ #> # Excerpt from the book \"R for Data Science (2e)\" #> chapter: 27 A field guide to base R #> section: 27.3 Selecting a single element with $ and [[ #> content: [[ and $ are also really important for working with lists, and it‚Äôs important to understand how they differ from [. Let‚Äôs illustrate the differences with a list named l: #> ``` #> l <- list( #>   a = 1:3,  #>   b = \"a string\",  #>   c = pi,  #>   d = list(-1, -5) #> ) #> ``` #> [ extracts a sub-list. It doesn‚Äôt matter how many elements you extract, the result will always be a list. #> ``` #> str(l[1:2]) #> #> List of 2 #> #>  $ a: int [1:3] 1 2 3 #> #>  $ b: chr \"a string\" #>  #> str(l[1]) #> #> List of 1 #> #>  $ a: int [1:3] 1 2 3 #>  #> str(l[4]) #> #> List of 1 #> #>  $ d:List of 2 #> #>   ..$ : num -1 #> #>   ..$ : num -5 #> ``` #> Like with vectors, you can subset with a logical, integer, or character vector. #> [[ and $ extract a single component from a list. They remove a level of hierarchy from the list. #> ``` #> str(l[[1]]) #> #>  int [1:3] 1 2 3 #>  #> str(l[[4]]) #> #> List of 2 #> #>  $ : num -1 #> #>  $ : num -5 #>  #> str(l$a) #> #>  int [1:3] 1 2 3 #> ``` #> The difference between [ and [[ is particularly important for lists because [[ drills down into the list while [ returns a new, smaller list. To help you remember the difference, take a look at the unusual pepper shaker shown in Figure 27.1. If this pepper shaker is your list pepper, then, pepper[1] is a pepper shaker containing a single pepper packet. pepper[2] would look the same, but would contain the second packet. pepper[1:2] would be a pepper shaker containing two pepper packets. pepper[[1]] would extract the pepper packet itself. #> Figure 27.1: (Left) A pepper shaker that Hadley once found in his hotel room. (Middle) pepper[1]. (Right) pepper[[1]] #> This same principle applies when you use 1d [ with a data frame: df[\"x\"] returns a one-column data frame and df[[\"x\"]] returns a vector. #>   # Example of preprocessing the input to ragnar_read_document() # to wrap code in backticks, markdown style # same outcome as above, except via pre processing instead of post processing. file |>   read_html() |>   (\\(doc) {     # fence preformatted code with triple backticks     for (node in html_elements(doc, \"pre\")) {       xml_add_child(node, \"code\", \"```\\n\", .where = 0)       xml_add_child(node, \"code\", \"\\n```\")     }     # wrap inline code with single backticks     for (node in html_elements(doc, \"code\")) {       if (!\"pre\" %in% xml_name(xml_parents(node))) {         xml_text(node) <- str_c(\"`\", xml_text(node), \"`\")       }     }     doc   })() |>   ragnar_read_document(frame_by_tags = c(\"h1\", \"h2\", \"h3\")) |>   glue::glue_data(r\"--(     # Excerpt from the book \"R for Data Science (2e)\"     chapter: {h1}     section: {h2}     content: {text}      )--\") |> _[6] #> # Excerpt from the book \"R for Data Science (2e)\" #> chapter: 27 A field guide to base R #> section: 27.2 Selecting multiple elements with `[` #> content: There are five main types of things that you can subset a vector with, i.e., that can be the `i` in `x[i]`: #>  #> A vector of positive integers. Subsetting with positive integers keeps the elements at those positions: #>  #> ``` #> x <- c(\"one\", \"two\", \"three\", \"four\", \"five\") #> x[c(3, 2, 5)] #> #> [1] \"three\" \"two\"   \"five\" #> ``` #>  #> By repeating a position, you can actually make a longer output than input, making the term ‚Äúsubsetting‚Äù a bit of a misnomer. #>  #> ``` #> x[c(1, 1, 5, 5, 5, 2)] #> #> [1] \"one\"  \"one\"  \"five\" \"five\" \"five\" \"two\" #> ``` #>  #> A vector of negative integers. Negative values drop the elements at the specified positions: #>  #> ``` #> x[c(-1, -3, -5)] #> #> [1] \"two\"  \"four\" #> ``` #>  #> A logical vector. Subsetting with a logical vector keeps all values corresponding to a `TRUE` value. This is most often useful in conjunction with the comparison functions. #>  #> ``` #> x <- c(10, 3, NA, 5, 8, 1, NA) #>  #> # All non-missing values of x #> x[!is.na(x)] #> #> [1] 10  3  5  8  1 #>  #> # All even (or missing!) values of x #> x[x %% 2 == 0] #> #> [1] 10 NA  8 NA #> ``` #>  #> Unlike `filter()`, `NA` indices will be included in the output as `NA`s. #>  #> A character vector. If you have a named vector, you can subset it with a character vector: #>  #> ``` #> x <- c(abc = 1, def = 2, xyz = 5) #> x[c(\"xyz\", \"def\")] #> #> xyz def  #> #>   5   2 #> ``` #>  #> As with subsetting with positive integers, you can use a character vector to duplicate individual entries. #>  #> Nothing. The final type of subsetting is nothing, `x[]`, which returns the complete `x`. This is not useful for subsetting vectors, but as we‚Äôll see shortly, it is useful when subsetting 2d structures like tibbles. #>"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_register_tool_retrieve.html","id":null,"dir":"Reference","previous_headings":"","what":"Register a 'retrieve' tool with ellmer ‚Äî ragnar_register_tool_retrieve","title":"Register a 'retrieve' tool with ellmer ‚Äî ragnar_register_tool_retrieve","text":"Register 'retrieve' tool ellmer","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_register_tool_retrieve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Register a 'retrieve' tool with ellmer ‚Äî ragnar_register_tool_retrieve","text":"","code":"ragnar_register_tool_retrieve(   chat,   store,   store_description = \"the knowledge store\",   ... )"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_register_tool_retrieve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Register a 'retrieve' tool with ellmer ‚Äî ragnar_register_tool_retrieve","text":"chat ellmer:::Chat object. store string store location, RagnarStore object. store_description Optional string, used composing tool description. ... arguments passed ragnar_retrieve().","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_register_tool_retrieve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Register a 'retrieve' tool with ellmer ‚Äî ragnar_register_tool_retrieve","text":"chat, invisibly.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_register_tool_retrieve.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Register a 'retrieve' tool with ellmer ‚Äî ragnar_register_tool_retrieve","text":"","code":"if (FALSE) { # (file.exists(\"r4ds.ragnar.duckdb\") && Sys.getenv(\"OPENAI_API_KEY\") != \"\") } if (FALSE) { # file.exists(\"r4ds.ragnar.duckdb\") && Sys.getenv(\"OPENAI_API_KEY\") != \"\"  system_prompt <- stringr::str_squish(\"   You are an expert assistant in R programming.   When responding, you first quote relevant material from books or documentation,   provide links to the sources, and then add your own context and interpretation. \") chat <- ellmer::chat_openai(system_prompt, model = \"gpt-4o\")  store <- ragnar_store_connect(\"r4ds.ragnar.duckdb\", read_only = TRUE) ragnar_register_tool_retrieve(chat, store) chat$chat(\"How can I subset a dataframe?\") }"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_retrieve.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve chunks from a RagnarStore ‚Äî ragnar_retrieve_vss","title":"Retrieve chunks from a RagnarStore ‚Äî ragnar_retrieve_vss","text":"Retrieve chunks RagnarStore","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_retrieve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve chunks from a RagnarStore ‚Äî ragnar_retrieve_vss","text":"","code":"ragnar_retrieve_vss(store, text, top_k = 3L)  ragnar_retrieve_bm25(store, text, top_k = 3L)  ragnar_retrieve(store, text, top_k = 3L, methods = c(\"vss\", \"bm25\"))"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_retrieve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve chunks from a RagnarStore ‚Äî ragnar_retrieve_vss","text":"store RagnarStore object. text string find nearest match top_k Integer, number nearest entries find per method. methods character vector methods. vss bm25 implemented.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_retrieve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve chunks from a RagnarStore ‚Äî ragnar_retrieve_vss","text":"dataframe retrieved chunks. row corresponds individual chunk store, last column dataframe always named 'text', contains chunks.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_build_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a Ragnar Store index ‚Äî ragnar_store_build_index","title":"Build a Ragnar Store index ‚Äî ragnar_store_build_index","text":"search index must built calling ragnar_retrieve(). additional entries added store ragnar_store_insert(), ragnar_store_build_index() must called rebuild index.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_build_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a Ragnar Store index ‚Äî ragnar_store_build_index","text":"","code":"ragnar_store_build_index(store, type = c(\"vss\", \"fts\"))"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_build_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a Ragnar Store index ‚Äî ragnar_store_build_index","text":"store RagnarStore object type retrieval search type build index .","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_build_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a Ragnar Store index ‚Äî ragnar_store_build_index","text":"store, invisibly.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_create.html","id":null,"dir":"Reference","previous_headings":"","what":"Create and connect to a vector store ‚Äî ragnar_store_create","title":"Create and connect to a vector store ‚Äî ragnar_store_create","text":"Create connect vector store","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_create.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create and connect to a vector store ‚Äî ragnar_store_create","text":"","code":"ragnar_store_create(   location = \":memory:\",   embed = embed_ollama(),   embedding_size = ncol(embed(\"foo\")),   overwrite = FALSE )"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_create.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create and connect to a vector store ‚Äî ragnar_store_create","text":"location filepath, :memory: embed function called character vector returns matrix embeddings. Note function serialized deserialized new R sessions, reference objects global parent environments. Make sure namespace function calls ::. additional R objects must available function, can optionally supply carrier::crate() packaged data. embedding_size integer overwrite logical, location already exists","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_create.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create and connect to a vector store ‚Äî ragnar_store_create","text":"DuckDBRagnarStore object","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_insert.html","id":null,"dir":"Reference","previous_headings":"","what":"Insert chunks into a RagnarStore ‚Äî ragnar_store_insert","title":"Insert chunks into a RagnarStore ‚Äî ragnar_store_insert","text":"Insert chunks RagnarStore","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_insert.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Insert chunks into a RagnarStore ‚Äî ragnar_store_insert","text":"","code":"ragnar_store_insert(store, chunks)"},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_insert.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Insert chunks into a RagnarStore ‚Äî ragnar_store_insert","text":"store RagnarStore object chunks character vector dataframe text column, optionally, pre-computed embedding matrix column. embedding present, store@embed() used. chunks can also character vector.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/ragnar_store_insert.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Insert chunks into a RagnarStore ‚Äî ragnar_store_insert","text":"store, invisibly.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/rangar_store_create.html","id":null,"dir":"Reference","previous_headings":"","what":"Connect to RagnarStore ‚Äî ragnar_store_connect","title":"Connect to RagnarStore ‚Äî ragnar_store_connect","text":"Connect RagnarStore","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/rangar_store_create.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Connect to RagnarStore ‚Äî ragnar_store_connect","text":"","code":"ragnar_store_connect(   location = \":memory:\",   ...,   read_only = FALSE,   build_index = FALSE )"},{"path":"https://t-kalinowski.github.io/ragnar/reference/rangar_store_create.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Connect to RagnarStore ‚Äî ragnar_store_connect","text":"location string, filepath location. ... unused; must empty. read_only logical, whether returned connection can used modify store. build_index logical, whether call ragnar_store_build_index() creating connection","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/rangar_store_create.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Connect to RagnarStore ‚Äî ragnar_store_connect","text":"RagnarStore object.","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/read_as_markdown.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert files to markdown ‚Äî read_as_markdown","title":"Convert files to markdown ‚Äî read_as_markdown","text":"Convert files markdown","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/read_as_markdown.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert files to markdown ‚Äî read_as_markdown","text":"","code":"read_as_markdown(x, ..., canonical = FALSE)"},{"path":"https://t-kalinowski.github.io/ragnar/reference/read_as_markdown.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert files to markdown ‚Äî read_as_markdown","text":"x filepath url ... dots future extensions must empty. canonical logical, whether postprocess output MarkItDown commonmark::markdown_commonmark().","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/read_as_markdown.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert files to markdown ‚Äî read_as_markdown","text":"single string markdown","code":""},{"path":"https://t-kalinowski.github.io/ragnar/reference/read_as_markdown.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert files to markdown ‚Äî read_as_markdown","text":"","code":"# convert html read_as_markdown(\"https://r4ds.hadley.nz/base-R.html\") |>   substr(1, 1000) |> cat() #> # 27¬† A field guide to base R ‚Äì R for Data Science (2e) #>  #> 1. [Program](./program.html) #> 2. [27¬† A field guide to base R](./base-R.html) #>  #> [R for Data Science (2e)](./) #>  #> * [Welcome](./index.html) #> * [Preface to the second edition](./preface-2e.html) #> * [Introduction](./intro.html) #> * [Whole game](./whole-game.html) #>  #>   + [1¬† Data visualization](./data-visualize.html) #>   + [2¬† Workflow: basics](./workflow-basics.html) #>   + [3¬† Data transformation](./data-transform.html) #>   + [4¬† Workflow: code style](./workflow-style.html) #>   + [5¬† Data tidying](./data-tidy.html) #>   + [6¬† Workflow: scripts and projects](./workflow-scripts.html) #>   + [7¬† Data import](./data-import.html) #>   + [8¬† Workflow: getting help](./workflow-help.html) #> * [Visualize](./visualize.html) #>  #>   + [9¬† Layers](./layers.html) #>   + [10¬† Exploratory data analysis](./EDA.html) #>   + [11¬† Communication](./communication.html) #> * [Transform](./transform.html) #>  #>   + [12¬† Logical vectors](./logicals.html) #>   + [13¬† Numbers](./numbers.html) #>   + [14¬† String  read_as_markdown(\"https://r4ds.hadley.nz/base-R.html\", canonical = TRUE) |>   substr(1, 1000) |> cat() #> # 27¬† A field guide to base R ‚Äì R for Data Science (2e) #>  #> 1.  [Program](./program.html) #> 2.  [27¬† A field guide to base R](./base-R.html) #>  #> [R for Data Science (2e)](./) #>  #>   - [Welcome](./index.html) #>  #>   - [Preface to the second edition](./preface-2e.html) #>  #>   - [Introduction](./intro.html) #>  #>   - [Whole game](./whole-game.html) #>      #>       - [1¬† Data visualization](./data-visualize.html) #>       - [2¬† Workflow: basics](./workflow-basics.html) #>       - [3¬† Data transformation](./data-transform.html) #>       - [4¬† Workflow: code style](./workflow-style.html) #>       - [5¬† Data tidying](./data-tidy.html) #>       - [6¬† Workflow: scripts and projects](./workflow-scripts.html) #>       - [7¬† Data import](./data-import.html) #>       - [8¬† Workflow: getting help](./workflow-help.html) #>  #>   - [Visualize](./visualize.html) #>      #>       - [9¬† Layers](./layers.html) #>       - [10¬† Exploratory data analysis](./EDA.html) #>       - [11¬† Communication](./communication.html) #>  #>   - [Transform](./transform.html) #>      #>       - [12¬† Logi  # convert pdf pdf <- file.path(R.home(\"doc\"), \"NEWS.pdf\") read_as_markdown(pdf) |> substr(1, 1000) |> cat() #> NEWS for R version 4.4.3 (2025-02-28) #>  #> NEWS #>  #> R News #>  #> CHANGES IN R 4.4.3 #>  #> INSTALLATION: #>  #> (cid:136) R can be installed using C23 (for example with ‚Äò-std=gnu23‚Äô or ‚Äò-std=gnu2x‚Äô) with #> recent compilers including gcc 12(cid:21)14, Apple clang 15(cid:21)16, LLVM clang 17(cid:21)20 and #> Intel icx 2024.2. #> It can be installed with the upcoming (at the time of writing) gcc 15, which defaults #> to C23. #>  #> C-LEVEL FACILITIES: #>  #> (cid:136) The functions R_strtod and R_atof now allow hexadecimal constants without an #>  #> exponent, for compatibility with their C99 versions (PR#18805). #>  #> UTILITIES: #>  #> (cid:136) R CMD build and R CMD check now allow reference output #>  #> for demo scripts #> (‚Äòdemo/demo.Rout.save‚Äô (cid:28)les) to be shipped with the package, as proposed by #> Torsten Hothorn in PR#18816. #>  #> BUG FIXES: #>  #> (cid:136) kappa(A, exact=TRUE) for singular A returns Inf more generally, (cid:28)xing PR#18817 #>  #> reported by Mikael Jagan. #>  #> (cid:136) Fixed URLs of the sun spots (sunspot.month etc) data sets and mention future #>  #> ch ## alternative: # pdftools::pdf_text(pdf) |> substr(1, 2000) |> cat()"}]
