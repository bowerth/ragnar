<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert files to markdown — read_as_markdown • ragnar</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert files to markdown — read_as_markdown"><meta name="description" content="Convert files to markdown"><meta property="og:description" content="Convert files to markdown"><meta property="og:image" content="https://t-kalinowski.github.io/ragnar/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ragnar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convert files to markdown</h1>

      <div class="d-none name"><code>read_as_markdown.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert files to markdown</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_as_markdown</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, canonical <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A filepath or url</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>


<dt id="arg-canonical">canonical<a class="anchor" aria-label="anchor" href="#arg-canonical"></a></dt>
<dd><p>logical, whether to postprocess the output from MarkItDown
with <code><a href="https://docs.ropensci.org/commonmark/reference/commonmark.html" class="external-link">commonmark::markdown_commonmark()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A single string of markdown</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># convert html</span></span></span>
<span class="r-in"><span><span class="fu">read_as_markdown</span><span class="op">(</span><span class="st">"https://r4ds.hadley.nz/base-R.html"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5000</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. [Program](./program.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. [27  A field guide to base R](./base-R.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [R for Data Science (2e)](./)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Welcome](./index.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Preface to the second edition](./preface-2e.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Introduction](./intro.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Whole game](./whole-game.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [1  Data visualization](./data-visualize.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [2  Workflow: basics](./workflow-basics.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [3  Data transformation](./data-transform.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [4  Workflow: code style](./workflow-style.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [5  Data tidying](./data-tidy.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [6  Workflow: scripts and projects](./workflow-scripts.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [7  Data import](./data-import.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [8  Workflow: getting help](./workflow-help.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Visualize](./visualize.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [9  Layers](./layers.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [10  Exploratory data analysis](./EDA.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [11  Communication](./communication.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Transform](./transform.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [12  Logical vectors](./logicals.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [13  Numbers](./numbers.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [14  Strings](./strings.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [15  Regular expressions](./regexps.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [16  Factors](./factors.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [17  Dates and times](./datetimes.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [18  Missing values](./missing-values.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [19  Joins](./joins.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Import](./import.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [20  Spreadsheets](./spreadsheets.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [21  Databases](./databases.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [22  Arrow](./arrow.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [23  Hierarchical data](./rectangling.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [24  Web scraping](./webscraping.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Program](./program.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [25  Functions](./functions.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [26  Iteration](./iteration.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [27  A field guide to base R](./base-R.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Communicate](./communicate.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [28  Quarto](./quarto.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [29  Quarto formats](./quarto-formats.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Table of contents</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [27.1 Introduction](#introduction)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [27.1.1 Prerequisites](#prerequisites)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [27.2 Selecting multiple elements with `[`](#sec-subset-many)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [27.2.1 Subsetting vectors](#subsetting-vectors)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [27.2.2 Subsetting data frames](#subsetting-data-frames)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [27.2.3 dplyr equivalents](#dplyr-equivalents)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [27.2.4 Exercises](#exercises)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [27.3 Selecting a single element with `$` and `[[`](#sec-subset-one)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [27.3.1 Data frames](#data-frames)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [27.3.2 Tibbles](#tibbles)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [27.3.3 Lists](#lists)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   + [27.3.4 Exercises](#exercises-1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [27.4 Apply family](#apply-family)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [27.5 `for` loops](#for-loops)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [27.6 Plots](#plots)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [27.7 Summary](#summary)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Edit this page](https://github.com/hadley/r4ds/edit/main/base-R.qmd)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * [Report an issue](https://github.com/hadley/r4ds/issues/new)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. [Program](./program.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. [27  A field guide to base R](./base-R.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 27  A field guide to base R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## 27.1 Introduction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> To finish off the programming section, we’re going to give you a quick tour of the most important base R functions that we don’t otherwise discuss in the book. These tools are particularly useful as you do more programming and will help you read code you’ll encounter in the wild.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This is a good place to remind you that the tidyverse is not the only way to solve data science problems. We teach the tidyverse in this book because tidyverse packages share a common design philosophy, increasing the consistency across functions, and making each new function or package a little easier to learn and use. It’s not possible to use the tidyverse without using base R, so we’ve actually already taught you a **lot** of base R functions: from `[library()](https://rdrr.io/r/base/library.html)` to load packages, to `[sum()](https://rdrr.io/r/base/sum.html)` and `[mean()](https://rdrr.io/r/base/mean.html)` for numeric summaries, to the factor, date, and POSIXct data types, and of course all the basic operators like `+`, `-`, `/`, `*`, `|`, `&amp;`, and `!`. What we haven’t focused on so far is base R workflows, so we will highlight a few of those in this chapter.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> After you read this book, you’ll learn other approaches to the same problems using base R, data.table, and other packages. You’ll undoubtedly encounter these other approaches when you start reading R code written by others, particularly if you’re using StackOverflow. It’s 100% okay to write code that uses a mix of approaches, and don’t let anyone tell you otherwise!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> In this chapter, we’ll focus on four big topics: subsetting with `[`, subsetting with `[[` and `$`, the apply family of functions, and `for` loops. To finish off, we’ll briefly discuss two essential plotting functions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### 27.1.1 Prerequisites</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This package focuses on base R so doesn’t have any real prerequisites, but we’ll load the tidyverse in order to explain some of the differences.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> library(tidyverse)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## 27.2 Selecting multiple elements with `[`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> `[` is used to extract sub-components from vectors and data frames, and is called like `x[i]` or `x[i, j]`. In this section, we’ll introduce you to the power of `[`, first showing you how you can use it with vectors, then how the same principles extend in a straightforward way to two-dimensional (2d) structures like data frames. We’ll then help you cement that knowledge by sho</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">read_as_markdown</span><span class="op">(</span><span class="st">"https://r4ds.hadley.nz/base-R.html"</span>, canonical <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5000</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.  [Program](./program.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2.  [27  A field guide to base R](./base-R.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [R for Data Science (2e)](./)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Welcome](./index.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Preface to the second edition](./preface-2e.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Introduction](./intro.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Whole game](./whole-game.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [1  Data visualization](./data-visualize.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [2  Workflow: basics](./workflow-basics.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [3  Data transformation](./data-transform.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [4  Workflow: code style](./workflow-style.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [5  Data tidying](./data-tidy.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [6  Workflow: scripts and projects](./workflow-scripts.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [7  Data import](./data-import.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [8  Workflow: getting help](./workflow-help.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Visualize](./visualize.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [9  Layers](./layers.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [10  Exploratory data analysis](./EDA.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [11  Communication](./communication.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Transform](./transform.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [12  Logical vectors](./logicals.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [13  Numbers](./numbers.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [14  Strings](./strings.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [15  Regular expressions](./regexps.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [16  Factors](./factors.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [17  Dates and times](./datetimes.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [18  Missing values](./missing-values.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [19  Joins](./joins.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Import](./import.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [20  Spreadsheets](./spreadsheets.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [21  Databases](./databases.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [22  Arrow](./arrow.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [23  Hierarchical data](./rectangling.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [24  Web scraping](./webscraping.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Program](./program.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [25  Functions](./functions.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [26  Iteration](./iteration.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [27  A field guide to base R](./base-R.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Communicate](./communicate.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [28  Quarto](./quarto.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [29  Quarto formats](./quarto-formats.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Table of contents</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [27.1 Introduction](#introduction)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [27.1.1 Prerequisites](#prerequisites)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [27.2 Selecting multiple elements with `[`](#sec-subset-many)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [27.2.1 Subsetting vectors](#subsetting-vectors)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [27.2.2 Subsetting data frames](#subsetting-data-frames)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [27.2.3 dplyr equivalents](#dplyr-equivalents)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [27.2.4 Exercises](#exercises)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [27.3 Selecting a single element with `$` and `[[`](#sec-subset-one)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [27.3.1 Data frames](#data-frames)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [27.3.2 Tibbles](#tibbles)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [27.3.3 Lists](#lists)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       - [27.3.4 Exercises](#exercises-1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [27.4 Apply family](#apply-family)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [27.5 `for` loops](#for-loops)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [27.6 Plots](#plots)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [27.7 Summary](#summary)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Edit this</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     page](https://github.com/hadley/r4ds/edit/main/base-R.qmd)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - [Report an issue](https://github.com/hadley/r4ds/issues/new)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;!-- end list --&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.  [Program](./program.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2.  [27  A field guide to base R](./base-R.html)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 27  A field guide to base R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## 27.1 Introduction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> To finish off the programming section, we’re going to give you a quick</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tour of the most important base R functions that we don’t otherwise</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> discuss in the book. These tools are particularly useful as you do more</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> programming and will help you read code you’ll encounter in the wild.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This is a good place to remind you that the tidyverse is not the only</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> way to solve data science problems. We teach the tidyverse in this book</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> because tidyverse packages share a common design philosophy, increasing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the consistency across functions, and making each new function or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> package a little easier to learn and use. It’s not possible to use the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tidyverse without using base R, so we’ve actually already taught you a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **lot** of base R functions: from</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> `[library()](https://rdrr.io/r/base/library.html)` to load packages, to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> `[sum()](https://rdrr.io/r/base/sum.html)` and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> `[mean()](https://rdrr.io/r/base/mean.html)` for numeric summaries, to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the factor, date, and POSIXct data types, and of course all the basic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> operators like `+`, `-`, `/`, `*`, `|`, `&amp;`, and `!`. What we haven’t</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> focused on so far is base R workflows, so we will highlight a few of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> those in this chapter.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> After you read this book, you’ll learn other approaches to the same</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> problems using base R, data.table, and other packages. You’ll</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> undoubtedly encounter these other approaches when you start reading R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> code written by others, particularly if you’re using StackOverflow.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It’s 100% okay to write code that uses a mix of approaches, and don’t</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> let anyone tell you otherwise\!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> In this chapter, we’ll focus on four big topics: subsetting with `[`,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> subsetting with `[[` and `$`, the apply family of functions, and `for`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> loops. To finish off, we’ll briefly discuss two essential plotting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### 27.1.1 Prerequisites</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This package focuses on base R so doesn’t have any real prerequisites,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> but we’ll load the tidyverse in order to explain some of the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> differences.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     library(tidyverse)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## 27.2 Selecting multiple elements with `[`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> `[` is used to extract sub-components from vectors and data frames, and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is called like `x[i]` or `x[i, j]`. In t</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert pdf</span></span></span>
<span class="r-in"><span><span class="va">pdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Rhome.html" class="external-link">R.home</a></span><span class="op">(</span><span class="st">"doc"</span><span class="op">)</span>, <span class="st">"NEWS.pdf"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">read_as_markdown</span><span class="op">(</span><span class="va">pdf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS for R version 4.4.2 (2024-10-31)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R News</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.4.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The S-compatibility macros F77_COM and F77_COMDECL de(cid:28)ned in header</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘R_ext/RS.h’ are deprecated and will be removed shortly. We could (cid:28)nd no record of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> their use.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Mathlib function lgammacor(x) no longer warns about under(cid:29)ow to zero for large x.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Text widths and heights were incorrectly reported by the Quartz device if the drawing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> context didn’t exist yet (typically when drawing o(cid:27)-screen to a window that is yet to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> appear, see PR#18591).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The Quartz device could segfault in cases where paths with spaces are used in the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new glyph drawing API. Thanks to Tomek Gieorgijewski (PR#18758).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) On macOS in R CRAN builds, it is again possible to read little-endian UTF-16 text</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with a BOM from a connection using encoding="UTF-16". Users building R from</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> source should avoid using the system libiconv in macOS 14.1 and later.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) methods’ internal .requirePackage() now re-enables primitive method dispatch</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> when needed; thanks to Ivan Krylov for demystifying CRAN package check failures</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on the R-devel mailing list.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.4.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Functions R_atof and R_strtod declared in header ‘R_ext/Utils.h’ are now docu-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mented in ‘Writing R Extensions’ and so formally part of the API.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The non-API entry points Rf_setSVector, Rf_StringFalse, Rf_StringTrue and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rf_isBlankString have been added to those reported by R CMD check.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The new function Rf_allocLang is now available. This provides an alternative to the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> idiom of calling Rf_allocList followed by SET_TYPEOF.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check now reports as warnings what gfortran calls ‘Fortran 2018 deleted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> features’, all of which have long been marked as ‘obsolescent’ and some of which were</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> deleted in Fortran 2008 or earlier. Fortran compilers are no longer required to support</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> these.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.numeric(), scan(), type.convert() and other places which use the internal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C function R_strtod now require a non-empty digit sequence in a decimal or bi-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nary exponent. This aligns with the C/POSIX standard for strtod and with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ?NumericConstants.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.data.frame(m, make.names=NA) now works correctly for a matrix m with NA’s in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> row names.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The error message from &lt;POSIXlt&gt;[["hour"]] and similar now mentions *[[,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "hour"]], as wished for in PR#17409 and proposed by Michael Chirico.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qbinom() and potentially qpois(), qnbinom(), no longer sometimes fail accurate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inversion (of pbinom(), etc), thanks to Christopher Chang’s report and patch in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#18711.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The internal help server on Windows can again serve requests sent in quick succession,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)xing a regression in R 4.4.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) debugcall(S3Generic()) now also works when a corresponding S4-generic version is</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in the methods cache (PR#18143).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Package tools’ toTitleCase(ch0) now returns character(0) when ch0 is of zero</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> length; (cid:28)xing PR#18724, reported by David Hugh Jones.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check is no longer broken (without a check result and no explanation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in ‘00check.log’) for a package which declares an invalid VignetteBuilder in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘DESCRIPTION’ but has no vignettes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.4.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SIGNIFICANT USER-VISIBLE CHANGES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Startup banners, R --version, sessionInfo() and R CMD check no longer report</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (64-bit) as part of the platform as this is almost universal (cid:21) the increasingly rare</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32-bit platforms will still report (32-bit).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> On Windows, ditto for window titles.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) is.atomic(NULL) now returns FALSE, as NULL is not an atomic vector.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Strict back-compatibility would replace is.atomic(foo) by (is.null(foo) ||</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is.atomic(foo)) but should happen only sparingly.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The confint() methods for "glm" and "nls" objects have been copied to the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats package. Previously, they were stubs which called versions in package MASS.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The MASS namespace is no longer loaded if you invoke (say) confint(glmfit).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Further, the "glm" method for profile() and the plot() and pairs() methods</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for class "profile" have been copied from MASS to stats.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (profile.nls() and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plot.profile.nls() were already in stats.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The confint() and profile methods for "glm" objects have gained a possibility to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> do pro(cid:28)ling based on the Rao Score statistic in addition to the default Likelihood</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ratio. This is controlled by a new test = argument.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The pairs() method for "profile" objects has been extended with a which = argu-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ment to allow plotting only a subset of the parameters.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The "glm" method for anova() computes test statistics and p-values by default, using</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a chi-squared test or an F test depending on whether the dispersion is (cid:28)xed or free.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test statistics can be suppressed by giving argument test a false logical value.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) In setRepositories() the repositories can be set using their names via name = in-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stead of index ind =.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) methods() and .S3methods() gain a all.names option for the (rare) case where</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functions starting with a ‘.’ should be included.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Serializations can now be interrupted (e.g., by Ctrl-C on a Unix-alike) if they take</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> too long, e.g., from save.image(), thanks to suggestions by Ivan Krylov and others</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on R-devel.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New startup option ‘--max-connections’ to set the maximum number of simultane-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ous connections for the session. Defaults to 128 as before: allowed values up to 4096</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (but resource limits may in practice restrict to smaller values).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R on Windows (since Windows 10 2004) now uses the new Segment Heap allocator.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> are built,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When R packages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This may improve performance of some memory-intensive applications.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> typically by R CMD build &lt;pkg&gt;,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the new</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --user=&lt;build_user&gt; option overrides the (internally determined) user name, cur-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rently Sys.info()["user"] or LOGNAME. This is a (modi(cid:28)ed) ful(cid:28)llment of Will Lan-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dau’s suggestion in PR#17530.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::testInstalledBasic()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> testSrcdir, e.g., allowing to use it in a builddir != srcdir setup, and in stan-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dard (cid:16)binary(cid:17) Windows installation if a source ‘tests/’ folder is present.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gets new optional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> arguments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> outDir</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) range(&lt;DT_with_Inf&gt;, finite = TRUE) now work for objects of class "Date",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "POSIXct", and "POSIXlt" with in(cid:28)nite entries, analogously to range.default(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as proposed by Davis Vaughan on R-devel. Other range()-methods can make use of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new function .rangeNum().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New .internalGenerics object complementing .S3PrimitiveGenerics, for docu-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mentation and low-level book-keeping.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) grid() now invisibly returns the x- and y- coordinates at which the grid-lines were</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> drawn.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) norm(., type) now also works for complex matrices.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) kappa(., exact = TRUE, norm = *) now works for all norms and also for complex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> matrices. In symmetric / triangular cases, the new argument uplo = "U" | "L" allows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the upper or lower triangular part to be speci(cid:28)ed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) memDecompress(type = "unknown") recognizes compression in the default ‘zlib’ for-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mat as used by memCompress(type = "gzip").</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) memCompress() and memDecompress() will use the libdeflate library (https:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> //github.com/ebiggers/libdeflate) if installed. This uses the same type of com-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pression for type = "gzip" but is 1.5-2x faster than the system libz library on some</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> common platforms: the speed-up may depend on the library version.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) diff() for objects of class "Date", "POSIXct", and "POSIXlt" accepts a units ar-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gument passed via ....</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Dynamic help now does a much better job of rendering package ‘DESCRIPTION’ meta-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rprof() gains an event argument and support for elapsed (real) time pro(cid:28)ling on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unix (PR#18076).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) filled.contour() gains a key.border argument.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::update_pkg_po() gets arguments pot_make and mo_make for not re-making</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the corresponding (cid:28)les, and additionally a verbose argument.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Hexadecimal string colour speci(cid:28)cations are now accepted in short form, so, for ex-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ample, we can use "#123", which is equivalent to "#112233".</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thanks to MikeFC for the original idea and Ella Kaye, Malcolm Barrett, George</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Stagg, and Hanne Oberman for the patch.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Plain-text help shows \var markup by angle brackets.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The new experimental primitive function declare() is intended to eventually allow</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> information about R code to be communicated to the interpreter, compiler, and code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> analysis tools. The syntax for declarations is still being developed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Functions psmirnov(), qsmirnov() and rsmirnov() in package stats have had argu-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ment two.sided renamed to alternative, to take into account that the permutation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> distributions of the one-sided statistics can be di(cid:27)erent in the case of ties. Conse-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> quence of PR#18582.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sort() is now an implicit S4 generic in methods.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Formatting and printing, format(z), print(z), of complex vectors z no longer zap</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> relatively small real or imaginary parts to zero, (cid:28)xing PR#16752. This is an API</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> change, as it was documented previously to round real and imaginary parts together</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on purpose, producing nicer looking output. As mentioned, e.g. in the PR, this change</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is compatible with many other (cid:16)R-like(cid:17) programming environments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We have simpli(cid:28)ed the internal code and now basically format the real and imaginary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> parts independently of each other.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New experimental functions Tailcall() and Exec() to support writing stack-space-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e(cid:30)cient recursive functions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Where characters are attempted to be plotted by pdf(), postscript() and xfig()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> which are not in the selected 8-bit character set (most often Latin-1) and the R session</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is using a UTF-8 locale, the warning messages will show the UTF-8 character rather</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> than its bytes and one dot will be substituted per character rather than per byte.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Platforms whose iconv() does transliteration silently plot the transliteration.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> In a UTF-8 locale some transliterations are now done with a warning (e.g., dashes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and Unicode minus to hyphen, ligatures are expanded, permille (‘(cid:135)’) is replaced by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘o/oo’), although the OS may have got there (cid:28)rst. These are warnings as they will</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> continue to be replaced by dots in earlier versions of R.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The matrix multiplication functions crossprod() and tcrossprod() are now also</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> primitive and S3 generic, as %*% had become in R 4.3.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) source() and example() have a new optional argument catch.aborts which allows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> continued evaluation of the R code after an error.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The non-Quartz tiff() devices allow additional types of compression if supported</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by the platform’s ‘libtiff’ library.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> list of base and recommended package names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is now provided by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tools::standard_package_names().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) cairo_pdf() and cairo_ps() default to onefile = TRUE to closer match pdf() and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> postscript().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New option catch.script.errors provides a documented way to catch errors and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> then continue in non-interactive use.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) L %||% R newly in base is an expressive idiom for the phrases if(!is.null(L)) L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> else R or if(is.null(L)) R else L.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The return value from warnings() now always inherits from "warnings" as docu-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mented, now also in the case of no warnings where it previously returned NULL.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.complex("1i") now returns 0 + 1i instead of NA with a warning.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) z &lt;- c(NA, 1i) now keeps the imaginary part Im(z[1]) == 0, no longer coercing to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NA_complex_. Similarly, cumsum(z) correctly sums real and imaginary parts sepa-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rately, i.e., without (cid:16)crosstalk(cid:17) in case of NAs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) On Alpine Linux iconv() now maps "latin2", "latin-2", "latin9" and "latin-9"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to encoding names the OS knows about (case-insensitively).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) iconv(sub = "Unicode") now always zero-pads to four (hex) digits, rather than to 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> or 8. (This seems to have become the convention once Unicode restricted the number</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of Unicode points to 221 − 1 and so will never need more than 6 digits.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) NCOL(NULL) now returns 0 instead of 1, for consistency with cbind().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The information for the Euro glyph missing from the Adobe ‘.afm’ (cid:28)les for the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Courier, Helvetica and Times families has been copied from their URW equivalents (cid:21)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> this will improve vertical centring in the pdf() and postscript() devices.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The included BLAS sources have been updated to those shipped with LAPACK ver-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sion 3.12.0. The changes are almost entirely cosmetic.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The included LAPACK sources have been updated to version 3.12.0 and some further</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> double-complex routines added.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There are new font families for the 2014(cid:21)5 URW 2.0 fonts (see ?pdf) which are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> included in recent versions of Ghostscript. These have font widths for most Greek</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> glyphs and a few others which were missing from the original versions (whose font</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> families remain available for reproducibility, although Ghostscript-based viewers will</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> render using the 2.0 versions).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Improve the large-n e(cid:30)ciency of as.matrix(&lt;dist&gt;), thanks an R contributors e(cid:27)ort,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> notably by Tim Taylor and Heather Turner, see PR#18660.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default and numeric methods of all.equal() get a check.class option.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) zapsmall() gets new optional arguments, function mFUN and min.d, for extra (cid:29)exi-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bility; ful(cid:28)lls a wish in PR#18199. Also, it is now an implicit S4 generic in package</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> methods.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The Rd (cid:28)lter for aspell() gains an ignore argument.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New generic function sort_by(), primarily useful for the data.frame method which</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> can be used to sort rows of a data frame by one or more columns.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The licence headers for the RPC code in ‘src/extra/xdr’ have been updated to use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the GPL-compatible licence published by Oracle America in 2010.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function pkg2HTML() in tools to create single-page HTML reference manuals for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R packages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The byte code evaluator now uses less C stack space for recursive calls to byte-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> compiled functions. It also makes more of an e(cid:27)ort to avoid allocations for scalar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> return values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New completion option backtick (disabled by default) allows non-syntactic comple-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tions to be wrapped in backquotes. This is currently only useful for Jupyter notebooks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> via the IRkernel package, and may cause problems for other backends.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The numeric version creators now stop on invalid non-character version speci(cid:28)cations.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The parser has been updated to work with bison 3.8.2, which is now used for the pre-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> generated parsers in ‘gram.c’, file.c, and ‘gramRd.c’. A few parser error messages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> have changed, which may a(cid:27)ect code that relies on exact messages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on a UNIX-ALIKE:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) System valgrind</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘--with-valgrind-instrumentation’ with value 1 or 2.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now required</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> headers</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> configure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> option</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) configure will warn if it encounters a 32-bit build, as that is nowadays almost</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> untested.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Environment variable R_SYSTEM_ABI is no longer used and so no longer recorded in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘etc/Renviron’ (it was not on Windows and was only ever used when preparing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> package tools).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) If the libdeflate library and headers are available, libdeflate rather than libz is</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used to (de)compress R objects in lazy-load databases. Typically tasks spend up to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5% of their time on such operations, although creating lazy-data databases is one of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the exceptions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This can be suppressed if the library is available by the configure option</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘--without-libdeflate-compression’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) configure option ‘--enable-lto=check’ has not worked reliably since 2019 and has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> been removed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The minimum autoconf requirement for a maintainer build has been increased to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> autoconf 2.71.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It is intended to increase this to 2.72 for R 4.5.0: the distributed ‘configure’ (cid:28)le was</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> generated using 2.72.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The minimum version requirement for an external LAPACK has been reduced to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3.9.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) No default C++ compiler is set if no C++17 compiler is detected: there is no longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> an automatic fallback to C++14 or C++11.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compilers from the last (cid:28)ve years should have su(cid:30)cient support: for others macros</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CXX and CXXSTD can be set in (cid:28)le ‘config.site’ to provide a fallback if needed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The Objective-C++ compiler now by default uses the standard selected by R for C++</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (currently C++17) rather than the default standard for the C++ compiler (which on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> macOS is still C++98).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on macOS:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) A new configure option ‘--with-newAccelerate’ makes use of Apple’s ‘new’ BLAS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> / LAPACK interfaces in their Accelerate framework. Those interfaces are only avail-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> able in macOS 13.3 or later, and building requires SDK 13.3 or later (from the Com-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mand Line Tools or Xcode 14.3 or later).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> By default the option uses new Accelerate for BLAS calls: to also use it for LAPACK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> use option ‘--with-newAccelerate=lapack’. The later interfaces provide LAPACK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3.9.1 rather than 3.2.1: 3.9.1 is from 2021-04 and does not include the improved</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> algorithms introduced in LAPACK 3.10.0 (including for BLAS calls).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on WINDOWS:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The make(cid:28)les and installer scripts for Windows have been tailored to Rtools44, an</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> update of the Rtools43 toolchain.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It is based on GCC 13 and newer versions of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MinGW-W64, binutils and libraries (targeting 64-bit Intel CPUs). R-devel can no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> longer be built using Rtools43 without changes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rtools44 has experimental support for 64-bit ARM (aarch64) CPUs via the LLVM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 toolchain using lld, clang/flang-new and libc++.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check notes when S4-style exports are used without declaring a strong depen-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dence on package methods.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::checkRd() (used by R CMD check) detects more problems with \Sexpr-based</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dynamic content, including bad nesting of \Sexprs and invalid arguments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::checkRd() now reports Rd titles</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and section names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a period;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _R_CHECK_RD_CHECKRD_MINLEVEL_ is set to -5 or smaller.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R CMD check unless</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ignored by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> this</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> environment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ending</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check now notes Rd (cid:28)les without an \alias, as long documented in ‘Writing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R Extensions’ (cid:159)1.3.1. The check for a missing \description has been moved from</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tools::checkRd() to tools::checkRdContents().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check now visits ‘inst/NEWS.Rd’ and OS-speci(cid:28)c ‘man’ subdirectories when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> checking Rd (cid:28)les.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::checkDocFiles() and tools::checkRdContents() now also check internal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rd (cid:28)les by default, but (cid:16)specially(cid:17) (ignoring missing documentation of arguments).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD Rdiff gets option ‘--useEx’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check now warns on non-portable uses of Fortran KIND such as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INTEGER(KIND=4) and REAL(KIND=8).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> To see the failing lines set environment variable _R_CHECK_FORTRAN_KIND_DETAILS_</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to a true value.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When checking Rd (cid:28)les, R CMD check now notes some of the (cid:16)lost braces(cid:17) that</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tools::checkRd() (cid:28)nds. Typical problems are Rd macros missing the initial back-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘{1, 2}’, where the braces</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> slash (e.g.,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in-text set notation (e.g.,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> need escaping), and \itemize lists with \describe-style entries of the form</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \item{label}{description}.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘code{...}’),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD INSTALL (and hence check) will compile C++ code with -DR_NO_REMAP if en-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vironment variable _R_CXX_USE_NO_REMAP_ is set to a true value. It is planned that</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> this will in future become the default for compiling C++.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The new built-in Rd macro \dontdiff{} can be used to mark example code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> whose output should be ignored when comparing check output to reference out-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> put (‘tests/Examples/pkg-Ex.Rout.save’). The \dontdiff tag, like \donttest,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is not shown on the rendered help page, so provides a clean alternative to ‘##</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IGNORE_RDIFF_(BEGIN|END)’ comments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD build when there</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is no ‘NAMESPACE’, now uses</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> recommended</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exportPattern("^[^.]"), instead of exporting everything.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check now warns about non-ASCII characters in the ‘NAMESPACE’ (cid:28)le (in ad-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dition to R (cid:28)les). Such packages are not portable and may fail to install on some</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platforms.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Headers ‘R_ext/Applic.h’ and ‘R-ext/Linpack.h’ used to include ‘R_ext/BLAS.h’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> although this was undocumented and unneeded by their documented entry points.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> They no longer do so.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function R_missing(), factored out from do_missing(), used to (cid:28)x PR#18579.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) SEXP type S4SXP has been renamed to OBJSXP to support experimenting with al-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ternative object systems. The S4SXP value can still be used in C code but is now</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> deprecated. Based on contributions from the R Consortium’s Object-Oriented Pro-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gramming Working Group.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function pow1p(x,y) for accurate (1+x)^y.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) mkCharLenCE was incorrectly documented to take a size_t length but was imple-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mented with int (and character strings in R are limited to 231 − 1 bytes).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DEPRECATED AND DEFUNCT:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) data() no longer handles zipped data from long-defunct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (since R 2.13.0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘--use-zip-data’ installations.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The legacy graphics devices pictex() and xfig() are now deprecated. They do not</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> support recent graphics enhancements and their font handling is rudimentary. The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> intention is to retain them for historical interest as long as they remain somewhat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functional.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Support for encoding = "MacRoman" has been removed from the pdf() and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> postscript() devices (cid:21) this was a legacy encoding supporting classic macOS up</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to 2001 and no longer has universal libiconv support.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) is.R() is deprecated as no other S dialect is known to be in use (and this could only</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> identify historical dialects, not future ones).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Further information on calls can be obtained by setting the environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _R_DEPRECATED_IS_R_ to ‘error’ which turns the deprecation warning into an error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and so by default gives a traceback. (This is done by R CMD check --as-cran.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) UseMethod() no longer forwards local variables assigned in the generic function into</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> method call environments before evaluating the method body. This makes method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> calls behave more like standard function calls and makes method code easier to analyze</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> correctly.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> twelve</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> via</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _R_CHECK_AS_DATA_FRAME_EXPLICIT_METHOD_</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as.data.frame.&lt;class&gt;() methods which were</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> deprecated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and in R CMD check</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> only</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --as-cran are formally deprecated now in favour of calling as.data.frame()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> or as.data.frame.vector().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The deprecation (cid:16)check(cid:17) now works also when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as.data.frame() is S4 generic thanks to Ivan Krylov.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default method for the directional comparison operators &lt;, &gt;, &lt;=, and &gt;= now</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> signals an error when one of the operands is a language object, i.e. a symbol or a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> call.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) For terms.formula(), deprecate abb and neg.out arguments formally in addition</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to just documenting it.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The methods package is more robust to not being attached to the search path. More</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> work needs to be done.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) pairwise.t.test() misbehaved when subgroups had 0 DF for variance, even with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pool.sd = TRUE. (PR#18594 by Jack Berry).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Probability</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> distribution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> also</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bessel[IKJY](x, .) now consistently preserve attributes(x) when length(x) ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0, e.g., for a 2 × 0 matrix, thanks to Karolis Koncevi£ius’ report PR#18509.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [dpq]&lt;distrib&gt;(x, *),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> but</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Group (cid:16)Summary(cid:17) computations such as sum(1:3, 4, na.rm = 5, NA, 7, na.rm =</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LL) now give an error instead of either 17 or NN for LL true or false, as proposed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by Ivan Krylov on the R-devel mailing list. (This also means it is now an error to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> specify na.rm more than once.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.complex(x) now returns complex(real = x, imaginary = 0) for all numerical</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and logical x, notably also for NA or NA_integer_.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Directories</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> are now omitted by file.copy(, recursive = FALSE) and in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> file.append() (PR#17337).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) gsub() and sub() are now more robust to integer over(cid:29)ow when reporting errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> caused by too large input strings (PR#18346).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Top-level handlers are now more robust to attempts to remove a handler whilst han-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dlers are running (PR#18508).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The handling of Alt+F4 in dialogs created on Windows using GraphApp has been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)xed (PR#13870).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) density() more consistently computes grid values for the FFT-based convolution,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> following Robert Schlicht’s analysis and proposal in PR#18337, correcting density</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> values typically by a factor of about 0.999. Argument old.coords = TRUE provides</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> back compatibility.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) palette.colors() gains a name argument that defaults to FALSE controlling whether</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the vector of colours that is returned has names (where possible). PR#18529.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::xgettext() no longer extracts the (non-translatable) class names from</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> warningCondition and errorCondition calls.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) S3method(&lt;gen&gt;, &lt;class&gt;, &lt;func&gt;) in the ‘NAMESPACE’ (cid:28)le now works (again) when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;func&gt; is visible from the namespace, e.g., imported, or in base.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) getParseData(f) now also works for a function de(cid:28)ned in the (cid:28)rst of several</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘&lt;pkg&gt;/R/*.R’ source (cid:28)les, thanks to Kirill M(cid:252)ller’s report and Duncan Murdoch’s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> patch in PR#16756.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rd \Sexpr macros with nested #ifdef conditionals were not processed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) A non-blocking connection with non-default encoding (such as a socket) now correctly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> returns from readLines() after new data has arrived also when its EOF had been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> reached previously. Thanks to Peter Meilstrup’s report on R-devel and Ivan Krylov’s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> report and patch proposal in PR#18555.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::checkRdContents() failed to detect empty argument descriptions when they</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> spanned multiple lines, including those generated by prompt(). These cases are now</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> noted by R CMD check.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Plain-text help no longer outputs spurious colons in the arguments list (for multi-line</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \item labels in the Rd source).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) kappa() and rcond() work correctly in more cases; kappa(., norm = "2") now warns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> that it computes the 1-norm with (default) exact = FALSE; prompted by Mikael Ja-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gan’s quite comprehensive PR#18543.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rd skeletons generated by prompt() or promptData() now use a dummy title (so</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R CMD build works). tools::checkRdContents() has been updated to detect such</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> template leftovers, including from promptPackage().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When S4 method dispatch fails because no method was found, the error message now</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> includes the signature argument names; thanks to Michael Chirico’s proposal on the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R-devel list.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) withAutoprint({ .. }) now preserves srcrefs previously lost, thanks to Andrew</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simmons’ report plus (cid:28)x in PR#18572.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) transform.data.frame() no longer adjusts names; in particular, untransformed vari-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ables are kept as-is, including those with syntactically invalid names (PR#17890).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The keep.source option for Rd \Sexpr blocks is no longer ignored.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The formula methods for t.test() and wilcox.test() now catch when paired is</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> passed, addressing PR#14359; use Pair(x1, x2) ~ 1 for a paired test.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The level reported in the browser prompt was often too large.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It now shows the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> number of browser contexts on the stack.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) For cbind() and rbind(), the optional deparse.level argument is now properly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> passed to methods, thanks to Mikael Jagan’s PR#18579 and comments there.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Some error and warning messages for large (‘long vector’) matrix(v, nr, nc)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and dim(m) &lt;- d are now correct about sizes, using long long formatting, (cid:28)xing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#18612 (and more) reported by Mikael Jagan.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) readChar(useBytes = TRUE) now terminates strings even when the underlying con-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nection uses extra spaces in the input bu(cid:27)er. This (cid:28)xes problems with extra garbage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> seen with gzip connections, PR#18605.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Named capture in PCRE regular expressions now works also with more than 127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> named groups (PR#18588).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Datetime functions are now robust against long jumps when dealing with internal time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> zone changes. This avoids confusing warnings about an invalid time zone, previously</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> triggered by turning warnings into errors or handling them via tryCatch (PR#17966,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#17780).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Datetime functions now restore even an empty TZ environment variable after internal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> time zone changes (PR#17724). This makes results of datetime functions with this</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (typically unintentional) setting more predictable.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) drop.terms(*) now drops response as by default, keep.response = FALSE, (cid:28)xing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#18564 thanks to Mikael Jagan.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) dummy.coef(.) now also works for lm()-models with character categorical predictor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> variables rather than factor ones, (cid:28)xing PR#18635 reported by Jinsong Zhao.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) formals(f) &lt;- formals(f) now also works for a function w/o arguments and atomic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> constant body(f).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Correct as.function(&lt;invalid list&gt;, .)’s error message.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) removeSource() is yet more thorough in (cid:28)nding and removing "srcref" and the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> other source references from parsed R language chunks, (cid:28)xing PR#18638 thanks to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Andrew Simmons.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) dgeom() is more accurate now, notably when its result is very small, (cid:28)xing PR#18642</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> thanks to the proposal of Morten Welinder, also improving other instances where C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> level binom_raw(x, n, ..) has x == 0 or x== n.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) warning() with options(warn = 1) has improved output for multi-line messages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) axis.Date() and axis.POSIXct() now respect the par("lab") setting for the num-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ber of pretty() intervals.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Comparisons for language objects (which are based on deparsing) are now more careful</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> about using accurate deparsed results (PR#18676).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Plain-text help (Rd2txt) now correctly preserves blank lines following single-line</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \dontrun code.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) &lt;POSIXlt&gt;[*] no longer sets wrong "balanced" attribute, (cid:28)xing PR#18681 thanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to Mikael Jagan.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) str(&lt;classed-call&gt;) now deparses the call as expected, (cid:28)xing PR#18684, reported</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by Dave Slager.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) In Rd examples, code following the closing brace of a \dontrun, \dontshow or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \donttest tag on the same line is no longer skipped when R CMD check runs the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> examples.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.data.frame(matrix(*, ncol=0)) now gets valid names() and colnames(); re-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ported by Davis Vaughan on the R-devel list.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Internal Mathlib function stirlerr(n) is now almost fully (52-bit) accurate for all</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n &gt;= 5.9 and more accurate also in the range 1 − −5.9. This entails small ((cid:16)after</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12th decimal(cid:17)) changes in density functions, e.g., dgamma() in some regions of their</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> support. The (cid:28)x was partly prompted by Morten Welinder’s PR#18640.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Numbers like 9876543.2 are now considered non-integer by Mathlib internal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R_nonint(), amending original (cid:28)x of PR#15734.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rd comment lines no longer cause broken paragraphs in the rendered PDF and plain-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> text help. In code blocks, pure comment lines (starting with ‘%’) no longer produce</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> an empty line.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) xtabs(Freq ~ .) now consistently defaults to na.action = na.pass, using na.rm =</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FALSE (added as an argument) when summing over Freq (PR#17770).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::testInstalledPackage() is no longer silent about failures from running ex-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> amples or tests and its return code no longer ignores failures from checking vignettes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.3.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) iconv() now (cid:28)xes up variant encoding names such as "utf8" case-insensitively.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DEPRECATED AND DEFUNCT:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The legacy encoding = "MacRoman" is deprecated in pdf() and postscript(): sup-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> port was incomplete in earlier versions of R.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Arguments are now properly forwarded to methods on S4 generics with . . . in the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> middle of their formal arguments. This was broken for the case when a method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> introduced an argument but did not include . . . in its own formals. Thanks to HervØ</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PagŁs for the report PR#18538.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Some invalid file arguments to pictex(), postscript() and xfig() opened a (cid:28)le</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> called ‘NA’ rather than throw an error. These included postscript(NULL) (which</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> some people expected to work like pdf(NULL)).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Passing filename = NA to svg(), cairo_pdf(), cairo_ps() or the Cairo-based</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bitmap devices opened a (cid:28)le called ‘NA’: it now throws an error.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) quartz(file = NA) opened a (cid:28)le called ‘NA’, including when used as a Quartz-based</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bitmap device. It now gives an error.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) rank(&lt;long vector&gt;) now works, (cid:28)xing PR#18617, thanks to Ilia Kats.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) seq.int() did not adequately check its length.out argument.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) match(&lt;POSIXct&gt;, .) is correct again for di(cid:27)ering time zones, ditto for "POSIXlt",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)xing PR#18618 reported by Bastian Klein.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) drop.terms(*, dropx = &lt;0-length&gt;) now works, (cid:28)xing PR#18563 as proposed by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mikael Jagan.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) drop.terms(*) keeps + offset(.) terms when it</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> drop.terms() no longer makes up a response, PR#18566, (cid:28)xing both bugs thanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to Mikael Jagan.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> should, PR#18565,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) getS3method("t", "test") no longer (cid:28)nds the t.test() function, (cid:28)xing PR#18627.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) pdf() and postscript() support for the documented Adobe encodings "Greek" and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "Cyrilllic" was missing (although the corresponding Windows’ codepages could be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Computations of glyph metric information for pdf() and postscript() did not take</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> into account that transliteration could replace one character by two or more (only</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> seen on macOS 14) and typically warned that the information was not known.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) rank(x) no longer over(cid:29)ows during integer addition, when computing rank average</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for largish but not-yet long vector x, (cid:28)xing PR#18630, thanks to Ilia Kats.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) list.files() on Windows now returns also (cid:28)les with names longer that 260 bytes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (the Windows limit is 260 characters). Previously, some (cid:28)le names particularly with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘East Asian’ characters were omitted.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) cov2cor(&lt;0 x 0&gt;) now works, (cid:28)xing PR#18423 thanks to Mikael Jagan and Elin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Waring.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) cov2cor(&lt;negative diagonal&gt;) and similar now give one warning instead of two,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with better wording, (cid:28)xing PR#18424 thanks to Mikael Jagan.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools:: startDynamicHelp() now ensures port is in proper range, (cid:28)xing PR#18645.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) pbeta(x, a,b) is correct now for x=0 or 1 in the boundary cases where a or b or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> both are 0, (cid:28)xing PR#18672 thanks to Michael Fay.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) pmatch(x, table) for large table, also called for data frame row selection, dfrm[nm,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ], is now interruptible, (cid:28)xing PR#18656.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) predict(&lt;rank-deficient lm&gt;, newdata=*) (cid:28)x computing of nbasis, see Russ</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lenth’s comment 29 in PR#16158.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Added a work-around for a bug in macOS 14.3.1 and higher which prevents R plots</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in the Quartz Cocoa device from updating on screen.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.3.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default initialization of the "repos" option from the ‘repositories’ (cid:28)le at</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> startup can be skipped by setting environment variable R_REPOSITORIES to NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> such that getOption("repos") is empty if not set elsewhere.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qr.X() is now an implicit S4 generic in methods.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) iconv(to = "ASCII//TRANSLIT") is emulated using substitution on platforms which</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> do not support it (notably Alpine Linux). This should give a human-readable con-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> version in ASCII on all platforms (rather than NA_character_).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) trans3d() gains options continuous and verbose addressing the problem of possible</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:16)wrap around(cid:17) when projecting too long curves, as reported by Achim Zeileis in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#18537.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::showNonASCII() has been rewritten to work better on macOS 14 (which has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a changed implementation of iconv()).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tiff(type = "quartz") (the default on macOS) now warns if compression is spec-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> i(cid:28)ed: it continues to be ignored.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on a UNIX-ALIKE:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is some support for building with Intel’s LLVM-based compilers on ‘x86_64’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Linux, such as (C) icx, (C++) ipcx and (Fortran) ifx from oneAPI 2023.x.y.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is support for using LLVM’s flang-new as the Fortran compiler from LLVM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16.0.x (preferably 17.0.0 or later).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check reports</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the use of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the Fortran 90 random number generator</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RANDOM_NUMBER() and the subroutines to initialize it.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘Writing R Extensions’ has example code to use R’s RNGs from Fortran.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) substr(x, n, L) &lt;- cc now works (more) correctly for multibyte UTF-8 strings x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> when L &gt; nchar(x), thanks to a report and patch by ‘Architect 95’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) contrib.url(character()) now returns 0-length character() as documented,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> which also avoids spurious warnings from available.packages() et al. in the edge</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> case of an empty vector of repository URLs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) readChar(., 4e8) no longer fails, thanks to Kodi Arfer’s report (PR#18557).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) lapply(&lt;list&gt;, as.data.frame) no longer warns falsely for some base vector com-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ponents.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Communication between parent and child processes in the multicore part of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> parallel could fail on platforms that do not support an arbitrarily large payload</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in system functions read()/write() on pipes (seen on macOS where a restriction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to INT_MAX bytes is documented, without doing a partial read unlike Linux). The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> payload is now split into 1Gb chunks to avoid that problem. (PR#18571)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qqplot(x,y, conf.level=.) gives better con(cid:28)dence bounds when length(x) !=</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> length(y), thanks to Alexander Ploner’s report and patch proposal (PR#18557).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) norm(&lt;0-length&gt;, "2") now gives zero instead of an error, as all the other norm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> types, thanks to Mikael Jagan’s PR#18542.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Build-stage Rd macros \packageAuthor and \packageMaintainer now process</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘Authors@R’, (cid:28)xing ‘NA’ results when the package ‘DESCRIPTION’ omits ‘Author’ and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘Maintainer’ (cid:28)elds.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Formatting and printing complex numbers could give things like ‘0.1683-0i’ because</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of rounding error: ‘-0i’ is now replaced by ‘+0i’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) postscript() refused to accept a title comment containing the letter (cid:16)W(cid:17)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#18599).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) isoreg(c(1,Inf)) signals an error instead of segfaulting, (cid:28)xing PR#18603.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tiff(type = "Xlib") was only outputting the last page of multi-page plots.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::latexToUtf8() again knows about ‘\~{n}’ and other letters with tilde, (cid:28)xing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a regression in R 4.3.0, and about ‘\^{i}’ as an alternative to ‘\^{\i}’ (similarly with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> other accents). Furthermore, LATEX codes for accented I letters are now correctly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> converted, also (cid:28)xing related mistakes in tools::encoded_text_to_latex().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tar(*, tar = "internal") no longer creates out-of-spec tar (cid:28)les in the very rare case</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of user or group names longer than 32 bytes, (cid:28)xing PR#17871 with thanks to Ivan</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Krylov.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When using the (cid:16)internal(cid:17) timezone datetime code, adding a fraction of a second no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> longer adds one second, (cid:28)xing PR#16856 from a patch by Ivan Krylov.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::checkRd() no longer produces spurious notes about (cid:16)unnecessary braces(cid:17)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from multi-line Rd results of \Sexpr macros.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.3.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The C-level API version of R’s integrate(), Rdqags() in ‘Applic.h’, now returns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the correct number of integrand evaluations neval, (cid:28)xing PR#18515 reported and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagnosed by Stephen Wade.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The C prototypes for LAPACK calls dspgv and dtptrs in ‘R_ext/Lapack.h’ had one</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> too many and one too few character length arguments (cid:22) but this has not caused any</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> known issues. To get the corrected prototypes, include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #include &lt;Rconfig.h&gt; // for PR18534fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #ifdef PR18534fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # define usePR18534fix 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #endif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #include &lt;R_ext/Lapack.h&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in your C/C++ code (PR#18534).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Many of the checks of esoteric Internet operations and those using unreliable external</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sites have been moved to a new target that is not run by default and primarily</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> intended for the core developers. To run them use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cd tests; make test-Internet-dev</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) .S3methods(), typically called from methods(), again marks methods from package</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> base as visible.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Also, the visibility of non-base methods is again determined by the method’s presence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in search().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::Rdiff() is now more robust against invalid strings, (cid:28)xing installation tests</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on Windows without Rtools installed (PR#18530).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fix (new) bug in hcl.colors(2, *), by Achim Zeileis (PR#18523).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) head(., &lt;illegal&gt;) and tail(..) now produce more useful "Error in ...." error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> messages, (cid:28)xing PR#18362.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Package code syntax on Windows is checked in UTF-8 when UTF-8 is the native</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> encoding.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) na.contiguous(x) now also returns the (cid:28)rst run, when it is at the beginning and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> there is a later one of the same length; reported to R-devel, including a (cid:28)x, by Georgi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Boshnakov. Further, by default, it modi(cid:28)es only an existing attr(*,"tsp") but</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> otherwise no longer sets one.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) chol(&lt;not pos.def&gt;, pivot = &lt;T|F&gt;) now gives a correct error or warning message</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (depending on pivot), thanks to Mikael Jagan’s (PR#18541).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.3.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SIGNIFICANT USER-VISIBLE CHANGES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Calling &amp;&amp; or || with LHS or (if evaluated) RHS of length greater than one is now</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> always an error, with a report of the form</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ’length = 4’ in coercion to ’logical(1)’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Environment variable _R_CHECK_LENGTH_1_LOGIC2_ no longer has any e(cid:27)ect.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The included BLAS sources have been updated to those shipped with LAPACK ver-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sion 3.10.1. (This caused some platform-dependent changes to package check output.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> And then to the sources from LAPACK version 3.11.0 (with changes only to double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> complex subroutines).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The included LAPACK sources have been updated to include the four Fortran 90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> routines rather than their Fortran 77 predecessors. This may give some di(cid:27)erent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> signs in SVDs or eigendecompositions.. (This completes the transition to LAPACK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3.10.x begun in R 4.2.0.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The LAPACK sources have been updated to version 3.11.0. (No new subroutines have</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> been added, so this almost entirely bug (cid:28)xes: Those (cid:28)xes do a(cid:27)ect some computations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with NaNs, including R’s NA.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The parser now signals classed errors, notably in case of the pipe operator |&gt;. The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> error object and message now give line and column numbers, mostly as proposed and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> provided by Duncan Murdoch in PR#18328.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) toeplitz() is now generalized for asymmetric cases, with a toeplitz2() variant.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) xy.coords() and xyz.coords() and consequently, e.g., plot(x,y, log = "y") now</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> signal a classed warning about negative values of y (where log(.) is NA). Such a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> warning can be speci(cid:28)cally suppressed or caught otherwise.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Regular expression functions now check more thoroughly whether their inputs are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> valid strings (in their encoding, e.g. in UTF-8).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The performance of grep(), sub(), gsub() and strsplit() has been improved,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> particularly with perl = TRUE and fixed = TRUE. Use of useBytes = TRUE for perfor-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mance reasons should no longer be needed and is discouraged: it may lead to incorrect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> results.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) apropos() gains an argument dot_internals which is used by the completion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (help(rcompgen)) engine to also see base internals such as .POSIXct().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Support in tools::Rdiff() for comparing uncompressed PDF (cid:28)les is further reduced</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) see its help page.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qqplot(x, y, ...) gains conf.level and conf.args arguments for computing and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plotting a con(cid:28)dence band for the treatment function transforming the distribution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of x into the distribution of y (Switzer, 1976, Biometrika). Contributed by Torsten</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hothorn.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Performance of package_dependencies() has been improved for cases when the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> number of dependencies is large.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Strings newly created by gsub(), sub() and strsplit(), when any of the inputs is</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> marked as "bytes", are also marked as "bytes". This reduces the risk of creating</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> invalid strings and accidental substitution of bytes deemed invalid.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Support for readLines(encoding = "bytes") has been added to allow processing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> special text (cid:28)les byte-by-byte, without creating invalid strings.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) iconv(from = "") now takes into account any declared encoding of the input elements</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and uses it in preference to the native encoding. This reduces the risk of accidental</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> creation of invalid strings, particularly when di(cid:27)erent elements of the input have</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> di(cid:27)erent encoding (including "bytes").</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Package</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> repositories</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in getOption("repos") are now initialized from the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘repositories’ (cid:28)le when utils is loaded (if not already set, e.g., in ‘.Rprofile’).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (From a report and patch proposal by Gabriel Becker in PR#18405.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) compactPDF() gets a verbose option.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) type.convert() and hence read.table() get new option tryLogical = TRUE with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> back compatible default. When set to false, converts "F" or "T" columns to character.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Added new unit pre(cid:28)xes "R" and "Q" for abbreviating (unrealistically large) sizes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> beyond 1027 in standard = "SI", thanks to Henrik Bengtsson’s PR#18435.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.data.frame()’s default method now also works (cid:28)ne with atomic objects inheriting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from classes such as "roman", "octmode" and "hexmode", thus ful(cid:28)lling the wish of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#18421, by Benjamin Feakins.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The as.data.frame.vector() utility now errors for wrong-length row.names.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> warned for almost six years, with (cid:16)Will be an error!(cid:17).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sessionInfo() now also contains La_version() and reports codepage and timezone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> when relevant, in both print() and toLatex() methods which also get new option</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tzone for displaying timezone information when locale = FALSE.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function R_compiled_by() reports the C and Fortran compilers used to build</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R, if known.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) predict(&lt;lm&gt;, newdata = *) no longer unnecessarily creates an offset of all 0s.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) solve() for complex inputs now uses argument tol and by default checks for ‘com-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> putational singularity’ (as it long has done for numeric inputs).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) predict(&lt;rank-deficient lm&gt;, newdata=*)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new argument</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rankdeficient, with new default "warnif", warning only if there are non-estimable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cases in newdata. Other options include rankdeficient = "NA", predicting NA for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> non-estimable newdata cases. This addresses PR#15072 by Russ Lenth and is based</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on his original proposal and discussions in PR#16158 also by David Firth and Elin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Waring. Still somewhat experimental.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now obeys</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rgui console implementation now works better with the NVDA screen reader when the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> full blinking cursor is selected. The underlying improvements in cursor handling may</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> help also other screen readers on Windows.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The drop-(cid:28)eld control in GraphApp can now be left with the TAB key and all controls</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> can be navigated in the reverse order using the Shift+TAB key, improving accessibility</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of the Rgui con(cid:28)guration editor.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qnorm(&lt;very large negative&gt;, log.p=TRUE) is now fully accurate (instead of to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:16)only(cid:17) minimally (cid:28)ve digits).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) demo(error.catching) now also shows o(cid:27) withWarnings() and tryCatchWEMs().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) As an experimental feature the placeholder _ can now also be used in the rhs of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a forward pipe |&gt; expression as the (cid:28)rst argument in an extraction call, such as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _$coef. More generally, it can be used as the head of a chain of extractions, such as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _$coef[[2]].</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Spaces in the environment variable used to choose the R session’s temporary directory</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (TMPDIR, TMP and TEMP are tried in turn) are now fatal. (On Windows the ‘short path’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> version of the path is tried and used if that does not contain a space.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) all.equal.numeric() gets a new optional switch giveErr to return the numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> error as attribute. Relatedly, stopifnot(all.equal&lt;some&gt;(a, b, ..)) is as (cid:16)smart(cid:17)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now, as stopifnot(all.equal(....)) has been already, thus allowing customized</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> all.equal&lt;Some&gt;() wrappers.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R on Windows is now able to work with path names longer than 260 characters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> when these are enabled in the system (requires at least Windows 10 version 1607).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Packages should be updated to work with long paths as well, instead of assum-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ing PATH_MAX to be the maximum length. Custom front-ends and applications</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> embedding R need to update their manifests if they wish to allow this feature.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> See https://blog.r-project.org/2023/03/07/path-length-limit-on-windows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for more information.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) ‘Object not found’ and ‘Missing argument’ errors now give a more accurate error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> context. Patch provided by Lionel Henry in PR#18241.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The @ operator is now an S3 generic. Based on contributions by Tomasz Kalinowski</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in PR#18482.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New generic chooseOpsMethod() provides a mechanism for objects to resolve cases</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> where two suitable methods are found for an Ops Group Generic. This supports</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> experimenting with alternative object systems. Based on contributions by Tomasz</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Kalinowski in PR#18484.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) inherits(x, what) now accepts values other than a simple character vector for ar-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gument what. A new generic, nameOfClass(), is called to resolve the class name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from what. This supports experimenting with alternative object systems. Based on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> contributions by Tomasz Kalinowski in PR#18485.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Detection of BLAS/LAPACK in use (sessionInfo()) with FlexiBLAS now reports</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the current backend.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The "data.frame" method for subset() now warns about extraneous arguments,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> typically catching the use of ‘=’ instead of ‘==’ in the subset expression.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Calling a:b when numeric a or b is longer than one may now be made into an error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by setting environment variable _R_CHECK_LENGTH_COLON_ to a true value, along the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> proposal in PR#18419 by Henrik Bengtsson.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) density(x, weights = *) now warns if automatic bandwidth selection happens with-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> out using weights; new optional warnWbw may suppress the warning. Prompted by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Christoph Dalitz’ PR#18490 and its discussants.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) rm(list = *) is faster and more readable thanks to Kevin Ushey’s PR#18492.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The plot.lm() function no longer produces a normal Q-Q plot for GLMs. Instead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> it plots a half-normal Q-Q plot of the absolute value of the standardized deviance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> residuals.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The print() method for class "summary.glm" no longer shows summary statistics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for the deviance residuals by default. Its optional argument show.residuals can be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used to show them if required.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The tapply() function now accepts a data frame as its X argument, and allows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INDEX to be a formula in that case. by.data.frame() similarly allows INDICES to be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a formula.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The performance of df[j] &lt;- value (including for missing j) and write.table(df)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> has been improved for data frames df with a large number of columns. (Thanks to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gabriel Becker’s PR#18500, PR#18503 and discussants, prompted by a report from</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toby Dylan Hocking on the R-devel mailing list.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The matrix multiply operator %*% is now an S3 generic, belonging to new group</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> generic matrixOps. From Tomasz Kalinowski’s contribution in PR#18483.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function array2DF() to convert arrays to data frames, particularly useful for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the list arrays created by tapply().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DATES and TIMES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) On platforms where (non-UTC) datetimes before 1902 (or before 1900 as with system</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functions on recent macOS) are guessed by extrapolating time zones from 1902-2037,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> there is a warning at the (cid:28)rst use of extrapolation in a session. (As all time zones</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> post 2037 are extrapolation, we do not warn on those.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) (Platforms using ‘--with-internal-tzone’, including Windows and by default ma-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cOS). How years are printed in dates or date-times can be controlled by environment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> variable R_PAD_YEARS_BY_ZERO. The default remains to pad to 4 digits by zeroes, but</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> setting value ‘no’ gives no padding (as used by default by glibc).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) strftime() tries harder to determine the o(cid:27)set for the "%z" format, and succeeds on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the mainstream R platforms.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) strftime() has a limit of 2048 bytes on the string produced (cid:21) attempting to exceed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> this is an error. (Previously it silently truncated at 255 bytes.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sessionInfo() records (and by default prints) the system time zone as part of the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> locale information. Also, the source (system/internal) of the date-time conversion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and printing functions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Objects of class "POSIXlt" created in this version of R always have 11 components:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> component zone is always set, and component gmtoff is set for times in UTC and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> usually set on the (almost all) platforms which have C-level support, otherwise is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There are comprehensive validity checks on the structure of objects of class "POSIXlt"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> when converting (including formatting and printing). (This avoids mis-conversions of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hand-crafted objects.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is some support for using the native date-time routines on macOS: this is only</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> viable on recent versions (e.g. 12.6 and 13) and does get wrong some historical changes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (before 1900, during WWII). Use of ‘--with-internal-tzone’ remains the default.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.POSIXct(&lt;numeric&gt;) and as.POSIXlt(.) (without specifying origin) now work.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> So does as.Date(&lt;numeric&gt;).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.Date.POSIXct(., tz) now treats several tz values, notably "GMT" as equivalent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to "UTC", proposed and improved by Michael Chirico and Joshua Ulrich in PR#17674.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Experimental balancePOSIXlt() utility allows using (cid:16)ragged(cid:17) and or out-of-range</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "POSIXlt" objects more correctly, e.g., in subsetting and subassignments. Such ob-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> jects are now documented. Complemented by the low-level unCfillPOSIXlt() utility.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> More experimentally, a "POSIXlt" object may have an attribute "balanced" indi-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cating if it is known to be (cid:28)lled or fully balanced.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Functions axis.Date() and axis.POSIXct() are rewritten to gain better default</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tick locations and better default formats via the corresponding pretty() methods.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thanks to Swetlana Herbrandt.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The mapping of Windows’ names for time zones to IANA’s ‘Olson’ names has been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> updated. When ICU is available (it is by default), it is used to get a mapping for the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> current region set in Windows. This can be overridden by setting environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TZ to the desired Olson name (cid:22) see OlsonNames() for those currently available.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GRAPHICS:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The graphics engine version, R_GE_version, has been bumped to 16 and so packages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> that provide graphics devices should be reinstalled.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The grDevices and grid packages have new functions for rendering typeset glyphs,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> primarily: grDevices::glyphInfo() and grid::grid.glyph().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rendering of typeset glyphs is only supported so far on the Cairo-based graphics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> devices and on the pdf() and quartz() devices.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The de(cid:28)ned behaviour for "clear" and "source" compositing operators (via</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> grid::grid.group()) has been changed (to align better with simple interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of original Porter-Du(cid:27) de(cid:28)nitions).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Support for gradients, patterns, clipping paths, masks, groups, compositing operators,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and a(cid:30)ne transformations has been added to the quartz() device.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on a UNIX-ALIKE:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) A system installation of generic LAPACK 3.10.0 or later will be preferred to the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> version in the R sources.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> configure option ‘--with-lapack=no’ (equivalently ‘--without-lapack’) forces</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> compilation of the internal LAPACK sources.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> If ‘--with-lapack’ is not speci(cid:28)ed, a system liblapack is looked for and used if it</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> reports version 3.10.0 or later and does not contain BLAS routines.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Packages using LAPACK will need to be reinstalled if this changes to using an external</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> library.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) On ‘aarch64’ Linux platforms using GCC, configure now defaults to ‘-fPIC’ (instead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of ‘-fpic’), as desired in PR#18326.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) configure now checks conversion of datetimes between POSIXlt and POSIXct around</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> year 2020. Failure (which has been seen on platforms missing tzdata) is fatal.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) If configure option ‘--with-valgrind-instrumentation’ is given value 1 or 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> option ‘--with-system-valgrind-headers’ is now the default and ignored (with a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> warning). It is highly recommended that the system headers are installed alongside</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> valgrind: they are part of its packaging on some Linux distributions and packaged</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> separately (e.g. in the ‘valgrind-devel’ RPM) on others. configure will give a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> warning if they are not found.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The system headers will be required in a future release of R to build with valgrind</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> instrumentation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) libcurl 8.x is now accepted by configure: despite a change in major version number</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> it changes neither API nor ABI.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on WINDOWS:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The make(cid:28)les and installer scripts for Windows have been tailored to Rtools43, an</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> update of the Rtools42 toolchain.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It is based on GCC 12 and newer versions of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MinGW-W64, binutils and libraries. At this time R-devel can still be built using</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rtools42 without changes, but when R-devel is installed via the installer, it will by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> default look for Rtools43.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Old make targets rsync-extsoft and 32-bit ones that are no longer needed have</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> been removed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Default builds (including for packages) no longer select C99. Thus the C standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used is the default for the compiler, which for the toolchain in ‘Rtools43’ is C17.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (This is consistent with Unix builds.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PACKAGE INSTALLATION:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default C++ standard has been changed to C++17 where available (which it</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is on all currently checked platforms): if not C++14 or C++11 is used if available</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> otherwise C++ is not supported.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) USE_FC_LEN_T is the default: this uses the correct (compiler-dependent) prototypes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for Fortran BLAS/LAPACK routines called from C/C++, and requires adjustment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of many such calls (cid:21) see ‘Writing R Extensions’ (cid:159)6.6.1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is initial support for C++23 as several compilers are now supporting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -std=c++23 or -std=c++2b or similar. As for C++20, there no additional configure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> checks for C++23 features beyond a check that the compiler reports a __cplusplus</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> value greater than that in the C++20 standard. C++ feature tests should be used.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is support for a package to indicate the version of the C standard which should</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> In most cases R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> be used to compile it, and for the installing user to specify this.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> defaults to the C compiler’s default standard which is C17 (a ‘bug-(cid:28)x’ of C11) (cid:21)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> earlier versions of R or compilers may have defaulted to C99.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Current options are:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> USE_C17 Use a standard that is at most C17. The intention is to allow legacy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> packages to still be installed when later C standards become the default, in-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cluding packages using new keywords as identi(cid:28)ers or with K&amp;R-style function</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> declarations. This will use C17 if available, falling back to C11.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> USE_C90 Use the C90 (aka C89) standard.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (As that standard did not require</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> compilers to identify that version, all we can verify is that the compiler does not</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It may accept C99 features (cid:21) for example</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> claim to be using a later standard.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> clang accepts // to make comments.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> USE_C99 Use the C99 standard. This should be rarely needed (cid:21) it avoids the few</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new features of C11/C17 which can be useful if a package assumes them if C17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is speci(cid:28)ed and they are not implemented.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> USE_C23 Use C23 (or in future, later). Compiler/library support for C23 is still</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> being implemented, but LLVM clang from 15.0.0 and GCC from 13 have quite</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> extensive support.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> These can be speci(cid:28)ed as part of the ‘SystemRequirements’ (cid:28)eld in the package’s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘DESCRIPTION’ (cid:28)le or via options ‘--use-C17’ and so on of R CMD INSTALL and R CMD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SHLIB.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> For further details see (cid:16)Writing R Extensions(cid:17) (cid:159)1.2.5.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) (Windows) A ‘src/Makefile.ucrt’ or ‘src/Makefile.win’ (cid:28)le is now included after</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘R_HOME/etcR_ARCH /Makeconf’ and so no longer needs to include that (cid:28)le it-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> self. Installation of a package with such a (cid:28)le now uses a site ‘Makevars’ (cid:28)le in the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> same way as a package with a ‘src/Makevars.win’ (cid:28)le would.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) configure is now passed crucial variables such as CC and CFLAGS in its environment,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as many packages were not setting them (as documented in ‘Writing R Extensions’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:159)1.2).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This has most e(cid:27)ect where configure is used to compile parts of the package (cid:21) most</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> often by cmake or libtool which obfuscate the actual compile commands used.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Also used for configure.win and configure.ucrt on Windows.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FORTRAN FLAGS:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The (cid:29)ag ‘-fno-optimize-sibling-calls’ is no longer forced for gfortran 7 and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> later. It should no longer be needed now using ‘hidden’ character-length arguments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> when calling BLAS/LAPACK routines from C/C++ is the default even for packages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Unless perhaps packages call Fortran code from C/C++ without using R’s headers</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and without allowing for these arguments.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The deprecated S-compatibility macros DOUBLE_* in ‘R_ext/Constants.h’ (included</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by ‘R.h’) have been removed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The deprecated legacy typedefs of Sint and Sfloat in header ‘R.h’ are no longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> de(cid:28)ned, and that header no longer includes header ‘limits.h’ from C nor ‘climits’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from C++.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New macro CAD5R() is provided in ‘Rinternals.h’ and used in a few places in the R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sources.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) ALTREP now supports VECSXP vectors. Contributed by Gabor Csardi in PR#17620.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The Rcomplex de(cid:28)nition (in header ‘R_ext/Complex.h’) has been extended to pre-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vent possible mis-compilation when interfacing with Fortran (PR#18430). The new</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> de(cid:28)nition causes compiler warnings with static initializers such as {1, 2}, which can</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> be changed to {.r=1,.i=2}.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using the new de(cid:28)nition from C++ depends on compiler extensions supporting C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> features that have not been incorporated into the C++ standards but are available</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in g++ and clang++: this may result in C++ compiler warnings but these have been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> worked around for recent versions of common compilers (GCC, Apple/LLVM clang,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Intel).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It is intended to change the inclusion of header ‘R_ext/Complex.h’ by other R head-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ers, so C/C++ code (cid:28)les which make use of Rcomplex should include that header</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> explicitly.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check does more checking of package ‘.Rd’ (cid:28)les, warning about invalid email</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> addresses and (some) invalid URIs and noting empty ‘\item’ labels in description</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lists.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check now also reports problems when reading package news in md ((cid:28)le</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘NEWS.md’) and (optionally) plain text ((cid:28)le ‘NEWS’) formats.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) _R_CHECK_TIMINGS_ defaults to a value from the environment even for R CMD check</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --as-cran; this allows for exceptionally fast or slow platforms.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It now applies to checking PDF and HTML versions of the manuals, and ‘checking</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRAN incoming feasibility’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check can optionally (but included in ‘--as-cran’) check whether HTML math</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rendering via KaTeX works for the package ‘.Rd’ (cid:28)les.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Non-interactive debugger invocations can be trapped by setting the environment vari-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> able _R_CHECK_BROWSER_NONINTERACTIVE_ to a true value. This is enabled by R CMD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> check --as-cran to detect the use of leftover browser() statements in the package.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The use of sprintf and vsprintf from C/C++ has been deprecated in macOS 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and is a known security risk. R CMD check now reports (on all platforms) if their use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is found in compiled code: replace by snprintf or vsnprintf respectively.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [NB:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> whether such calls get compiled into the package is platform-dependent.]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Where recorded at installation, R CMD check reports the C and Fortran compilers</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used to build R.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It reports the OS in use (if known, as given by osVersion) as well as that R was built</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It notes if a C++ standard was speci(cid:28)ed which is older than the current default:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> many packages have used C++11 to mean ‘not C++98’ (cid:22) as C++11 is the minimum</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> supported since R 4.0.0, that speci(cid:28)cation can probably be removed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD INSTALL reports the compilers (and on macOS, the SDK) used, and this is</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> copied to the output of R CMD check.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Where a C++ standard is speci(cid:28)ed, it is reported.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check’s ‘checking compilation (cid:29)ags in Makevars’ has been relaxed to accept the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> use of (cid:29)ags such as ‘-std=f2008’ in ‘PKG_FFLAGS’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::buildVignettes() has a new argument skip, which is used by R CMD check</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to skip (and note) vignettes with unavailable ‘\VignetteDepends’ (PR#18318).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New generic .AtNames() added to enable class-speci(cid:28)c completions after @. The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> formerly internal function findMatches() is now exported, mainly for use in methods</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for .DollarNames() and .AtNames().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DEPRECATED AND DEFUNCT:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) default.stringsAsFactors() is defunct.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Calling as.data.frame.&lt;class&gt;() directly (for 12 atomic classes) is going to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> be formally deprecated, currently activated by setting the environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _R_CHECK_AS_DATA_FRAME_EXPLICIT_METHOD_ to non-empty, which also happens in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R CMD check --as-cran.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Hashed environments with sizes less than 5 can now grow. (Reported to R-devel by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duncan Garmonsway.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.character(&lt;Rd&gt;, deparse = TRUE) failed to re-escape curly braces in LaTeX-like</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> text. (Reported by Hadley Wickham in PR#18324.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) library() now passes its lib.loc argument when requiring Depends packages; re-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ported (with (cid:28)x) in PR#18331 by Mikael Jagan.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD Stangle: improved message about ‘Output’ (cid:28)les.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) head(x, n) and tail(x, n) now signal an error if n is not numeric, instead of in-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cidentally (cid:16)working(cid:17) sometimes returning all of x. Reported and discussed by Colin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fay, in PR#18357.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The "lm" method for summary() now gives the correct F-statistic when the model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> contains an o(cid:27)set. Reported in PR#18008.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) C() and ‘contrasts&lt;-‘() now preserve factor level names when given a function ob-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ject (as opposed a function name which did preserve names). Reported in PR#17616.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) c(a = 1, 2)[[]] no longer matches 2 but rather signals a classed error. Reported</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and analysed by Davis Vaughan in PR#18367, a duplicate of PR#18004, by Jan Meis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> et al. For consistency, NULL[[]] is also erroneous now. x[[]] &lt;- v gives an error of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the same class "MissingSubscriptError".</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The relist() function of utils now supports NULL elements in the skeleton</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#15854).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) ordered(levels = *)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> analogously</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ordered=TRUE); reported (with (cid:28)x) by Achim Zeileis in PR#18389.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now works</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (missing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) User-de(cid:28)ned Rd macro de(cid:28)nitions can now span multiple lines, thanks to a patch</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from Duncan Murdoch. Previously, the Rd parser silently ignored everything after</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the (cid:28)rst line.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Plain-text help (tools::Rd2txt()) now preserves an initial blank line for text fol-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lowing description list items.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::Rd2HTML() and tools::Rd2latex() no longer split \arguments and \value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lists at Rd comments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::Rd2latex() now correctly handles optional text outside \items of argument</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lists as well as bracketed text at the beginning of sections, e.g., \value{[NULL]}.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.character(&lt;POSIXt&gt;) now behaves more in line with the methods for atomic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vectors such as numbers, and is no longer in(cid:29)uenced by options(). Ditto for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as.character(&lt;Date&gt;). The as.character() method gets arguments digits and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> OutDec with defaults not depending on options(). Use of as.character(*, format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> = .) now warns.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Similarly, the as.character.hexmode() and *.octmode() methods also behave as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> good citizen methods and back compatibility option keepStr = TRUE.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The as.POSIXlt(&lt;POSIXlt&gt;) and as.POSIXct(&lt;POSIXct&gt;) default methods now do</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> obey their tz argument, also in this case.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.POSIXlt(&lt;Date&gt;) now does apply a tz (time zone) argument, as does</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as.POSIXct(); partly suggested by Roland Fu(cid:255) on the R-devel mailing list.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.Date.POSIXlt(x) now also works when the list components are of unequal length,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> aka (cid:16)partially (cid:28)lled(cid:17) or (cid:16)ragged(cid:17).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) expand.model.frame() looked up variables in the wrong environment when applied</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to models (cid:28)tted without data. Reported in PR#18414.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) time() now (also) uses the ts.eps = getOption("ts.eps") argument and thus by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> default rounds values very close to the start (or end) of a year. Based on a proposal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by Andre(cid:239) V. Kostyrka on R-help.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Printing of a factanal() result with just one factor and sort = TRUE now works</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> regularly, (cid:28)xing PR#17863 by Timothy Bates, thanks to the ‘R Contributors’ working</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> group.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Printing 0-length objects of class "factor", "roman", "hexmode", "octmode",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "person", "bibentry", or "citation" now prints something better, one of which</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)xes PR#18422, reported by Benjamin Feakins.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Sys.timezone() queries timedatectl only if systemd is loaded; addressing a report</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by Jan Gorecki in PR#17421.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> formula method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> problems when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> environment(formula) was not the calling environment; reported with a patch</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> proposal by Mao Kobayashi in PR#18439.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cor.test()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> scoping</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> had</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) attach() of an environment with active bindings now preserves the active bindings.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Reported by Kevin Ushey in PR#18425.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) BLAS detection now works also with system-provided libraries not available as regular</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)les. This (cid:28)xes detection of the Accelerate framework on macOS since Big Sur.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Reported by David Novgorodsky.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) download.file() gives</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a helpful</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> error message</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in case</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> an invalid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> download.file.method option, thanks to Colin Fay’s report in PR#18455.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Sporadic crashes of Rterm when using completion have been (cid:28)xed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rprof() is now more reliable. A livelock in thread initialization with too short sam-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pling interval has been (cid:28)xed on macOS. A deadlock in using the C runtime has been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)xed on Windows. A potential deadlock has been prevented on Unix.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Cursor placement in Rgui now works even after a (cid:28)xed-width font is selected.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Mandatory options (options()) are now set on startup so that saving and restoring</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> them always works (PR#18372).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Package installation, R CMD INSTALL or install.packages(*), now parses each of the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘&lt;pkg&gt;/R/*.R’ (cid:28)les individually instead of (cid:28)rst concatenating and then parse()ing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the large resulting (cid:28)le. This allows parser or syntax errors to be diagnosed with correct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)le names and line numbers, thanks to Simon Dedman’s report and Bill Dunlap’s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> patch in PR#17859.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This does require syntactically self contained R source (cid:28)les now, (cid:28)xing another inad-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vertent bug.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) predict.lm(&lt;model with offset&gt;) now (cid:28)nds the o(cid:27)set in the correct environment,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> thanks to AndrØ Gillibert’s report and patch in PR#18456.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) getInitial(&lt;formula&gt;) now (cid:28)nds the selfStart model in the correct environment.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Reported by Ivan Krylov in PR#18368.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fix for possible segfault when using recently-added graphics features, such as gradi-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ents, clipping paths, masks, and groups with pdf(file=NULL).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) class(m) &lt;- class(m) no longer changes a matrix m by adding a class attribute.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) packageDate(pkg) now only warns once if there is no pkg.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When ts() creates a multivariate time series, "mts", it also inherits from "array"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now, and is.mts() is documented and stricter.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rd2txt() now preserves line breaks of \verb Rd content and from duplicated \cr.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The former also (cid:28)xes the rendering of verbatim output from Rd \Sexpr in plain-text</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> help.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) uniroot(f, interval) should no longer wrongly converge outside the interval in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> some cases where abs(f(x)) == Inf for an x at the interval boundary, thanks to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> posts by Ben Bolker and Serguei Sokol on R-devel.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Vectorized alpha handling in palette functions such as in gray(), rainbow(), or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hcl.colors() works correctly now, thanks to Achim Zeileis’ report and patch in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#18476.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Formatting and print()ing of bibentry objects has dropped the deprecated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> citation.bibtex.max argument, such that the bibtex argument’s default for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> print.bibentry() depends directly on the citation.bibtex.max option, whereas</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in format.bibentry() the option no longer applies.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Attempting to use a character string naming a foreign function entry point in a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> foreign function call in a package will now signal an error if the packages has called</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R_forceSymbols to specify that symbols must be used.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) An error in table() could permanently set options(warn=2) promoting all subse-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> quent warnings to errors.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The sigma() function gave misleading results for binary GLMs. A new method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for objects of class "glm" returns the square root of the estimate of the dispersion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> parameter using the same calculation as summary.glm().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) bs() and ns() in the (typical) case of automatic knot construction, when some of the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> supposedly inner knots coincide with boundary knots, now moves them inside (with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a warning), building on PR#18442 by Ben Bolker.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD on Windows now skips the site pro(cid:28)le with ‘--no-site-file’ and ‘--vanilla’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> even when R_PROFILE is set (PR#18512, from Kevin Ushey).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.2.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The de(cid:28)nition of DL_FUNC in ‘R_ext/Rdynload.h’ has been changed to be fully C-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> compliant. This means that functions loaded via for example R_GetCCallable need</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to be cast to an appropriate type if they have any arguments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) .Machine has a new element sizeof.time_t to identify old systems with a 32-bit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> type and hence a limited range of date-times (and limited support for dates millions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of years from present).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PACKAGE INSTALLATION:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) (Windows) The default C++ standard had accidentally been left at C++11 when it</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> was changed to C++14 on Unix.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) As "POSIXlt" objects may be (cid:16)partially (cid:28)lled(cid:17) and their list components meant to be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> recycled, length() now is the length of the longest component.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.POSIXlt.Date() could under(cid:29)ow for dates in the far past (more than half a million</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> years BCE).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.Date.POSIXlt(x) would return "1970-01-01" instead of NA in R 4.2.2, e.g., for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x &lt;- as.POSIXlt(c("2019-01-30","2001-1-1"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x$mon &lt;- c(0L, NA); as.Date(x)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check failed to apply enabled _R_CHECK_SUGGESTS_ONLY_ to examples and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vignettes (regression in R 4.2.0).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check did not re-build vignettes in separate processes by default (regression in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R 4.2.0).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Running examples from HTML documentation now restores previous knitr settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and options (PR#18420).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Quartz: fonts are now located using Core Graphics API instead of deprecated ATS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> which is no longer supported in the macOS 13 SDK (PR#18426). This also addresses</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> an issue where the currently used font in the Quartz device context was not correctly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> retained.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) (Windows) Math symbols in text drawing functions are again rendered correctly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#18440). This (cid:28)xes a regression in R 4.2.1 caused by a (cid:28)x in PR#18382 which</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> uncovered an issue in GraphApp due to which the symbol charset was not used with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TT Symbol font face.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) (Windows) Installing a package with a ‘src/Makefile.{win,ucrt}’ (cid:28)le includes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘~/.R/Makevars.win64’ in the search for user makevars, as documented in (cid:16)R Instal-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lation and Administration(cid:17) and done for packages with a ‘src/Makevars.{win,ucrt}’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)le.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) format(&lt;POSIXlt_w/_unbalanced_sec&gt;, "....%OS&lt;n&gt;") with n &gt; 0 no longer acci-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dentally uses the unbalanced seconds, thanks to Suharto Anggono’s report (including</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> patch) in PR#18448.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) solve.default(a, b) works around issues with some versions of LAPACK when a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> contains NA or NaN values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When UseMethod() cannot dispatch, it no longer segfaults producing the error mes-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sage in case of a long class(), thanks to Joris Vankerschaver’s report (including</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> patch) in PR#18447.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When example(foo, ..) produces graphics on an interactive device it needs to open</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> itself, it now leaves devAskNewPage() unchanged even when it was FALSE, thus (cid:28)xing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a 14 years old ‘FIXME’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) packageDescription() again catches errors from encoding conversions. This also</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)xes broken packageVersion() in C locale on systems where iconv does not support</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> transliteration.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.2.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::Rdiff(useDiff = TRUE) checks for the presence of an external diff com-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mand and switches to useDiff = FALSE if none is found. This allows R CMD Rdiff to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> always work.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) On Windows, environment variable R_LIBCURL_SSL_REVOKE_BEST_EFFORT can be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used to switch to only ‘best-e(cid:27)ort’ SSL certi(cid:28)cate revocation checks with the de-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fault "libcurl" download method. This reduces security, but may be needed for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> downloads to work with MITM proxies (PR#18379).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) (macOS) The run-time check for libraries from XQuartz for X11 and Tcl/Tk no longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> uses otool from the Apple Developer Tools (PR#18400).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The LATEX style for producing the PDF manuals, ‘Rd.sty’, now loads the standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘amsmath’, ‘amsfonts’ and ‘amssymb’ packages for greater coverage of math commands</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in the Rd \eqn and \deqn macros. The \mathscr LATEX command is also provided</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (via the ‘mathrsfs’ package, if available, or the ‘amsfonts’ bundle otherwise), ful(cid:28)ll-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ing the wish of PR#18398.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) (Windows) The default format of readClipboard() and writeClipboard() has been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> changed to 13 (CF_UNICODETEXT).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on a UNIX-ALIKE:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The PDF manuals (if built) can be compacted by the new target make compact-pdf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (at the top level or in directory ‘doc/manual’).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is now configure support for LLVM clang 15 on Linux, which defaults to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> position-independent (PIE) executables whereas gfortran does not.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Many small changes to ease compilation (and suppress warnings) with LLVM clang</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rscript -e would fail if ‘stdin’ were closed (Reported by Henrik Bengtsson.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qt(*, log.p=TRUE) in outer tails no longer produces NaN in its (cid:28)nal steps, thus (cid:28)xing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#18360.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::Rd2latex() now escapes hashes and ampersands when writing URLs, (cid:28)xing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LaTeX errors with such URLs in \tabular.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When isGeneric(f, fdef=*) is used with mismatching names, the warning is better</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> understandable; reported (with (cid:28)x) in PR#18370 by Gabe Becker.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) poly(x, n) now works again (and is now documented) when x is a "Date" or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "POSIXct" object, or of another class while ful(cid:28)lling mode(x) == "numeric". This</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> also enables poly(x, *, raw=TRUE) for such variables. Reported by Michael Chirico</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to R-devel.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) write.table(), write.csv() and write.csv2() restore their numerical precision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (internal equivalent of digits = 15) after an interrupt (PR#18384).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) One can now read also byte FF from a clipboard connection (PR#18385).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) source("") and source(character()) now give more helpful error messages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check --as-cran set _R_CHECK_TIMINGS_ too late to have the intended e(cid:27)ect.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.POSIXlt(x) now also works with very large dates x, (cid:28)xing PR#18401 reported</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by Hannes M(cid:252)hleisen.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Files can now be extracted even from very large zip archives (PR#18390, thanks to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Martin Jakt).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Non-(cid:28)nite objects of class "POSIXlt" are now correctly coerced to classes "Date" and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "POSIXct"; following up on the extension to format() them correctly.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Added methods for is.finite(), is.infinite() and is.nan() for "POSIXlt" date-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> time objects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES on Windows:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Non-ASCII characters are now properly displayed on Windows in windows created</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> using GraphApp via e.g. winDialogString thanks to a workaround for an at least</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> surprising Windows behavior with UTF-8 as the system encoding (PR#18382).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Find and replace operations work again in the script editor in Rgui on Windows.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Computation of window size based on requested client size in GraphApp when running</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in a multi-byte locale on Windows has been (cid:28)xed (regression in R 4.2.0 for users of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> systems where R 4.1 used a single-byte locale). Rgui again respects the number of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> console rows and columns given in ‘Rconsole’ (cid:28)le.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rterm support for Alt+xxx sequences has been (cid:28)xed to produce the correspond-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ing character (only) once. This (cid:28)xes pasting text with tilde on Italian keyboard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#18391).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.2.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function utils::findCRANmirror() to (cid:28)nd out if a CRAN mirror has been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> selected, otherwise fallback to the main site. This behaves in the same way as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tools::CRAN_package_db() and is intended for packages wishing to access CRAN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for purposes other than installing packages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The need for this was shown by a day when the main CRAN website was o(cid:31)ine and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a dozen or so packages which had its URL hardcoded failed their checks.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on a UNIX-ALIKE:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The libraries searched for by ‘--with-blas’ (without a value) now include BLIS (after</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> OpenBLAS but before ATLAS). And on macOS, the Accelerate framework (after</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATLAS). (This is patterned after the AX_BLAS macro from the Autoconf Archive.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The included LAPACK sources have been updated to 3.10.1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The (full path to) the command tidy to be used for HTML validation can be set by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> environment variable R_TIDYCMD.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Setting environment variable _R_CHECK_RD_VALIDATE_RD2HTML_ to a false value will</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> override R CMD check --as-cran and turn o(cid:27) HTML validation. This provides a way</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to circumvent a problematic tidy.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The 2006 version that ships with macOS is always skipped.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The undocumented legacy declarations of Sint, Sfloat, SINT_MAX and SINT_MIN in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> header ‘R.h’ are deprecated.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) fisher.test(d) no longer segfaults for (cid:16)large(cid:17) d; (cid:28)xing PR#18336 by prevent-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ing/detecting an integer over(cid:29)ow reliably.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tar(., files=*) now produces correctly the warning about invalid UID or GID of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)les, (cid:28)xing PR#18344, reported by Martin Morgan.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tk_choose.files() with multi = FALSE misbehaved on paths containing spaces</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#18334) (regression introduced in R 4.0.0).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sort(x, partial = ind, *) now works correctly notably for the non-default na.last</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> = FALSE or TRUE, (cid:28)xing PR#18335 reported by James Edwards.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Environment variable _R_CHECK_XREFS_REPOSITORIES_ is only used for checking</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘.Rd’ cross-references in R CMD check (as documented) and not for other uses looking</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for a CRAN mirror.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> search</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now uses</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> getOption("repos") if that speci(cid:28)es a CRAN mirror, even when it does not</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> also specify all three Bioconductor repositories (as was previously required).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a CRAN mirror when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> packages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> checking</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The html code generated by tools::Rd2HTML() has been improved to pass tidy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5.8.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES on Windows:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Writing to a clipboard connection works again, (cid:28)xing a regression in R 4.2.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#18332). Re-using a closed clipboard connection no longer issues a spurious</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> warning about an ignored encoding argument.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) C function getlocale no longer attempts to query an unsupported category from the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> OS, even when requested at R level, which may cause crashes when R 4.2.0 (which</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> uses UCRT) is embedded (reported by Kevin Ushey).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Accent keys now work in GraphApp Unicode windows, which are used by Rgui when-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ever running in a multibyte locale (so also in UTF-8, hence (cid:28)xing a regression in R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4.2.0 for users of systems where R 4.1 used a single-byte locale).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Completion in Rgui now works also with non-ASCII characters.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rgui no longer truncates usage information with ‘--help’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Text injection from external applications via SendInput now works in GraphApp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unicode windows, (cid:28)xing a regression in R 4.2.0 for Rgui users of systems where R 4.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used a single-byte locale but R 4.2.0 uses UTF-8.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Performance of txtProgressBar() in Rgui when running in a multi-byte locale has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> been improved ((cid:28)xing a performance regression in R 4.2.0 for users of systems where</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R 4.1 used a single-byte locale).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The script editor in Rgui now works also on systems using UTF-8 as the native</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> encoding. Users of the script editor have to convert their scripts with non-ASCII</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> characters to UTF-8 before reading them in R 4.2.1 or newer (on recent Windows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> where UTF-8 is used). This (cid:28)xes a regression in R 4.2.0, which prevented some</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> operations with scripts when they contained non-ASCII characters.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.2.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SIGNIFICANT USER-VISIBLE CHANGES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The formula method of aggregate() now matches the generic in naming its (cid:28)rst</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> argument x (resolving PR#18299 by Thomas Soeiro).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This means that calling aggregate() with a formula as a named (cid:28)rst argument</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> requires name formula in earlier versions of R and name x now, so portable code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> should not name the argument (code in many packages did).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Calling &amp;&amp; or || with either argument of length greater than one now gives a warning</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (which it is intended will become an error).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Calling if() or while() with a condition of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gives an error rather than a warning.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _R_CHECK_LENGTH_1_CONDITION_ no longer has any e(cid:27)ect.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> than one</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Consequently, environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> length greater</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Windows users should consult the WINDOWS section below for some profound</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> changes including</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) Support for 32-bit builds has been dropped.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) UTF-8 locales are used where available.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) The default locations for the R installation and personal library folder have been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> changed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thanks to Tomas Kalibera for months of work on the Windows port for this release.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) matrix(x, n, m) now warns in more cases where length(x) di(cid:27)ers from n * m, as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> suggested by Abby Spurdle and Wolfgang Huber in Feb 2021 on the R-devel mailing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> list.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This warning can be turned into an error by setting environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _R_CHECK_MATRIX_DATA_ to ‘TRUE’: R CMD check --as-cran does so unless it is al-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ready set.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Function file_test() in package utils gains tests for symlinks, readability and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> writability.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) capabilities("libxml") is now false.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The description of capabilities("http/ftp") now re(cid:29)ects that it refers to the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> default method, no longer the internal one.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) simplify2array() gains an except argument for controlling the exceptions used by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sapply().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Environment variables R_LIBS_USER and R_LIBS_SITE are both now set to the R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> system default if unset or empty, and can be set to NULL to indicate an empty list of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> user or site library directories.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The warning for axis()(-like) calls in cases of relatively small ranges (typically</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in log-scale situations) is slightly improved and suppressed from explicit calls to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> .axisPars() as has always been the intention.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The contrasts setter function ‘contrasts&lt;-‘ gains an explicit default how.many =</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL rather than just using missing(how.many).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) grid.pretty() gains a new optional argument n = 5.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is a new function .pretty() with option bounds as a technical-utility version</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of pretty(). It and pretty() gain a new argument f.min with a better than back-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> compatible default.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Function grDevices::axisTicks() and related functions such as graphics::axis()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> work better, notably for the log scale; partly because of the pretty() improvements,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> but also because care is taken e.g., when ylim is (cid:28)nite but diff(ylim) is in(cid:28)nite.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) nclass.FD() gains a digits option.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The R Mathlib internal C function bd0() (called indirectly from a dozen probability</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> density and distribution functions such as dpois(), dbinom(), dgamma(), pgamma()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> etc) has been complemented by a more sophisticated and (mostly) more accurate C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function ebd0(), currently called only by internal dpois_raw() improving accuracy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for R level dpois() and potentially others calling it such as dnbinom(), dgamma() or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pgamma(). (Thanks to Morten Welinder’s PR#15628.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) write.ftable() gains sep = " " argument as suggested by Thomas Soeiro.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The names of the locale categories supported by R’s Sys.getlocale() and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sys.setlocale() are now provided by variable .LC.categories in the base names-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pace.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The Date and POSIXt methods for hist() and the histogram method for plot() now</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> also use the new default col = "lightgray" in consistency with the corresponding</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> change to hist()’s default for R 4.0.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) hist.default() gains new fuzz argument, and the histogram plot method no longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> uses fractional axis ticks when displaying counts ("Frequency").</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) mapply() and hence Map() now also obey the (cid:16)max-or-0-if-any(cid:17) recycling rule, such</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> that, e.g., Map(‘+‘, 1:3, 1[0]) is valid now.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.character(&lt;obj&gt;) for "hexmode" or "octmode" objects now ful(cid:28)ls the important</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> basic rule as.character(x)[j] === as.character(x[j]).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The set utility functions, notably intersect() have been tweaked to be more con-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sistent and symmetric in their two set arguments, also preserving a common mode.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) substr(ch, start,end) &lt;- new now e.g.,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> preserves</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> names(ch);</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ditto</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> substring(), thanks to a patch from Brodie Gaslam.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) plot(&lt;lm&gt;) gains a extend.ylim.f argument, in partial response to PR#15285;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> further PR#17784 is (cid:28)xed thanks to several contributors and a patch by Elin War-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ing. The Cook’s dist contours get customizable via cook.col and cook.lty with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a di(cid:27)erent default color and their legend is nicer by default and customizable via</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cook.legendChanges.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Attempting to subset an object that is not subsettable now signals an error of class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> notSubsettableError. The non-subsettable object is contained in the object (cid:28)eld</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of the error condition.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Subscript-out-of-bounds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now signaled</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> subscriptOutOfBoundsError.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Stack-over(cid:29)ow errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> are now signaled as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inheriting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stackOverflowError. See ?stackOverflowError for more details.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New partly experimental Sys.setLanguage() utility, solving the main problem of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#18055.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) gettext() and gettextf() get a new option trim = TRUE which when set to false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> allows translations for strings such as "Execution halted\n" typical for C code.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) An experimental implementation of hash tables is now available. See ?hashtab for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> more details.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) identical() gains a extptr.as.ref argument for requesting that external pointer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> objects be compared as reference objects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) reorder() gets an argument decreasing which it passes to sort() for level creation;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> based on the wish and patch by Thomas Soeiro in PR#18243.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.vector() gains a data.frame method which returns a simple named list,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> also clearing a long standing ‘FIXME’ to enable as.vector(&lt;data.frame&gt;,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mode="list"). This breaks code relying on as.vector(&lt;data.frame&gt;) to return</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the unchanged data frame.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) legend() is now vectorized for arguments cex, x.intersp, and text.width. The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> latter can now also be speci(cid:28)ed as a vector (one element for each column of the legend)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> or as NA for computing a proper column wise maximum value of strwidth(legend).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The argument y.intersp can be speci(cid:28)ed as a vector with one entry for each row of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the legend.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> legend() also gains new arguments title.cex and title.font. Thanks to Swetlana</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Herbrandt.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Deparsing no longer remaps attribute names dim, dimnames, levels, names and tsp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to historical S-compatible names (which structure() maps back).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sample() and sample.int() have additional sanity checks on their size and n ar-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> guments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> all.equal.numeric() gains a sanity check on its tolerance argument (cid:21) calling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> all.equal(a, b, c) for three numeric vectors is a surprisingly common error.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mean(na.rm =),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> boxplot(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> contour(drawlabels =), polygon(border =) and methods::is(class2 =) have</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> more robust sanity checks on their arguments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R CMD Rd2pdf (used by R CMD check) has a more robust sanity check on the format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of \alias{} commands.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> barplot(legend.text =),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rank(na.last =),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) psigamma(x, deriv) for negative x now also works for deriv = 4 and 5; their under-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lying C level dpsifn() is documented in ‘Writing R Extensions’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The HTML help system now uses HTML5 (wish of PR#18149).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) ks.test() now provides exact p-values also with ties and MC p-values in the two-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sample (Smirnov) case. By Torsten Hothorn.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) ks.test() gains a formula interface, with y ~ 1 for the one-sample (Kolmogorov) test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and y ~ group for the two-sample (Smirnov) test. Contributed by Torsten Hothorn.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The return value from ks.test() now has class c("ks.test", "htest") (cid:21) packages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> using try() need to take care to use inherits() and not == on the class.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New functions psmirnov(), qsmirnov() and rsmirnov() in package stats implement-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ing the asymptotic and exact distributions of the two-sample Smirnov statistic.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) iconv() now allows sub = "c99" to use C99-style escapes for UTF-8 inputs which</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cannot be converted to encoding to.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) In a forward pipe |&gt; expression it is now possible to use a named argument with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the placeholder _ in the rhs call to specify where the lhs is to be inserted. The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> placeholder can only appear once on the rhs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The included LAPACK sources have been updated to version 3.10.0, except for the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> four Fortran 77 routines which 3.10.0 has re-implemented in Fortran 90 (where the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> older versions have been retained as the R build process does not support Fortran</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) path.expand() and most other uses of tilde expansion now warn if a path would be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> too long if expanded. (An exception is file.exists(), which silently returns false.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) trunc(&lt;Date&gt;, *) now supports units = "months" or "years" for consistency with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the POSIXt method, thanks to Dirk Eddelbuettel’s proposal in PR#18099.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) list2DF() now checks that its arguments are of the same length, rather than use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> recycling.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The HTML help system has several new features: LaTeX-like math can be typeset</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> using either KaTeX or MathJax, usage and example code is highlighted using Prism,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and for dynamic help the output of examples and demos can be shown within the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> browser if the knitr package is installed. These features can be disabled by setting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the environment variable _R_HELP_ENABLE_ENHANCED_HTML_ to a false value.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GRAPHICS:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The graphics engine version, R_GE_version, has been bumped to 15 and so packages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> that provide graphics devices should be reinstalled.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The grid package now allows the user to specify a (cid:16)vector(cid:17) of pattern (cid:28)lls. The fill</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> argument to gpar() accepts a list of gradients and/or patterns and the functions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> linearGradient(), radialGradient(), and pattern() have a new group argument.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Points grobs (data symbols) can now also have a pattern (cid:28)ll.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The grobCoords() function now returns a more informative and complex result.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The grid package has new functions for drawing isolated groups: grid.group(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> grid.define(), and grid.use(). These functions add compositing operators and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a(cid:30)ne transformations to R’s graphics capabilities.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The grid package also has new functions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> grid.stroke(), grid.fill(), and grid.fillStroke().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A new function as.path() allows the user to specify the (cid:28)ll rule for a path that</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is to be used for clipping, stroking, or (cid:28)lling; available options are "winding" and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "evenodd". A new function as.mask() allows the user to specify the type of a mask;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> available options are "alpha" and "luminance".</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> These new features are only supported so far (at most) on the Cairo-based graphics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> devices and on the pdf() device.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stroking and (cid:28)lling paths:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) dev.capabilities() reports on device support for the new features.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) par() now warns about unnamed non-character arguments to prevent misuse such</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as {usr &lt;- par("usr"); par(usr)}.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WINDOWS:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R uses UTF-8 as the native encoding on recent Windows systems (at least Windows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 version 1903, Windows Server 2022 or Windows Server 1903). As a part of this</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> change, R uses UCRT as the C runtime. UCRT should be installed manually on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> systems older than Windows 10 or Windows Server 2016 before installing R.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default personal library on Windows, folder ‘R\win-library\x.y’ where ‘x.y’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stands for R release ‘x.y.z’, is now a subdirectory of Local Application Data di-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rectory (usually a hidden directory ‘C:\Users\username\AppData\Local’). Use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shell.exec(.libPaths()[1]) from R to open the personal library in Explorer when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> it is (cid:28)rst in the list (PR#17842).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R uses a new 64-bit Tcl/Tk bundle. The previous 32-bit/64-bit bundle had a di(cid:27)erent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> layout and can no longer be used.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Make (cid:28)les and installer scripts for Windows have been tailored to ‘Rtools42’, the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> newly recommended 64-bit gcc 10.3 MinGW-W64 UCRT toolchain.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) ‘Rtools42’ by default uses the Windows security features ASLR and DEP; hence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRAN builds of R and packages also do.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R now supports (cid:28)les ‘Makevars.ucrt’,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘configure.ucrt’ and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘cleanup.ucrt’ in packages, which are used in preference to the ‘.win’ variants. This</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> allows keeping the ‘.win’ (cid:28)les around to support older versions of R. This feature</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> will be removed in the future once support for older versions of R would no longer be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> needed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘Makefile.ucrt’,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R.version gains a new (cid:28)eld crt (only on Windows) to denote the C runtime. The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> value is "ucrt".</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) On Windows, download.file(method = "auto") and url(method = "default")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now follow Unix in using "libcurl" for all except ‘file://’ URIs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) ‘Rtools42’ includes an unpatched Msys2 build of GNU tar. Paths including drive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> letters can be made to work by adding ‘--force-local’ to environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TAR_OPTIONS. (‘Rtools40’ and earlier included a patched version which defaulted to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> this option.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Installer builds of R automatically (cid:28)nd the ‘Rtools42’ software collection as well as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the compiler toolchain. No PATH setting is required from the user.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default installation directory of R for a user-only installation has been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> changed to the User Program Files directory (usually a hidden directory</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘C:\Users\username\AppData\Local\Programs’) to follow Windows conventions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Use shell.exec(R.home()) from R to open the R installation directory in Explorer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#17842).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R now supports installation-time patching of packages. Patches may be installed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from a supplied URL or a local directory or disabled. Patches are included into the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> installed packages for reference. This experimental feature may be removed in the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> future.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) libcurl is now required for building from source.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The clipboard connection now works also with text in other than the current native</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> encoding (PR#18267, with Hiroaki Yutani). Text is always pasted to the clipboard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in UTF16-LE and the encoding argument is ignored.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The internal case-changing functions are now used by default on Windows (cid:21) this</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> circumvents problems (for example with E acute) of the UCRT Windows’ runtime.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R on Windows now uses the system memory allocator. Doug Lea’s allocator was</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used since R 1.2.0 to mitigate performance limitations seen with system allocators on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> earlier versions of Windows.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) memory.limit() and memory.size() are now stubs on Windows (as on Unix-alikes).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Applications embedding R on Windows can now use additional callbacks, which have</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> so far only been available only on Unix (PR#18286).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Facilities for accessing ‘ftp://’ sites are no longer tested (except pro tem for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> curlGetHeaders()) as modern browsers have removed support.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R can now be built with ‘DEFS = -DSTRICT_R_HEADERS’ .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PACKAGE INSTALLATION:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD INSTALL no longer tangles vignettes. This completes an R CMD build change in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R 3.0.0 and a(cid:27)ects packages built before R 3.0.2. Such packages should be re-made</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with R CMD build to have the tangled R code of vignettes shipped with the tarball.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) USE_FC_LEN_T will become the default: this uses the correct prototypes for Fortran</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BLAS/LAPACK routines called from C/C++, and requires adjustment of most such</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> calls (cid:21) see ‘Writing R Extensions’ (cid:159)6.6.1. (This has been supported since R 3.6.2.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Package installation speed for packages installed with keep.source has been im-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> proved. This resolve the issue reported by Ofek Shilon in PR#18236.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check can optionally report (cid:28)les/directories left behind in home, ‘/tmp’ (even</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> though TMPDIR is set) and other directories. See the (cid:16)R Internals(cid:17) manual for details.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check now reports byte-compilation errors during installation. These are not</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> usually fatal but may result in parts of the package not being byte-compiled.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) _R_CHECK_DEPENDS_ONLY_ can be applied selectively to examples, tests and/or vi-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gnettes in R CMD check: see the (cid:16)R Internals(cid:17) manual.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) _R_CHECK_SRC_MINUS_W_IMPLICIT_ now defaults to true: recent versions of Apple</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> clang on macOS have made implicit function declarations in C into a compilation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> error.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check --as-cran makes use of the environment variable AUTORECONF. See the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:16)R Internals(cid:17) manual (cid:159)8 for further details.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check --use-valgrind also uses valgrind when re-building vignettes as some</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> non-Sweave vignettes unhelpfully comment out all their code when R CMD check runs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vignettes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Errors in re-building vignettes (unless there are LaTeX errors) are reported by R CMD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> check as ‘ERROR’ rather than ‘WARNING’ when running vignettes has been skipped (as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> it frequently is in CRAN checks and by ‘--as-cran’).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD Rd2pdf gains a ‘--quiet’ option that is used by R CMD build when building</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the PDF package manual.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD Rd2pdf now always runs LaTeX in batch mode, consistent with Texinfo ≥ 6.7.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The ‘--batch’ option is ignored.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD build and R CMD check now include the Rd (cid:28)le name and line numbers in the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> error message of an \Sexpr evaluation failure.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) For packages using the \doi Rd macro (now an install-time \Sexpr) but no other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dynamic Rd content, R CMD build now produces a smaller tarball and is considerably</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> faster (cid:21) skipping temporary package installation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check can optionally (but included in ‘--as-cran’) validate the HTML pro-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> duced from the packages ‘.Rd’ (cid:28)les. See https://blog.r-project.org/2022/04/</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 08/enhancements-to-html-documentation/: this needs a fairly recent version of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HTML Tidy to be available.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The non-API header ‘R_ext/R-ftp-http.h’ is no longer provided, as the entry points</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> it covered are now all defunct.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) A number of non-API declarations and macro de(cid:28)nitions have been moved from the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> installed header ‘Rinternals.h’ to the internal header ‘Defn.h’. Packages that only</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> use entry points and de(cid:28)nitions documented to be part of the API as speci(cid:28)ed in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘Writing R Extensions’ (cid:159)6 should not be a(cid:27)ected.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The macro USE_RINTERNALS no longer has any e(cid:27)ect when compiling package code.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Packages which also use R_NO_REMAP will need to ensure that the remapped names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> are used for calls to API functions that were formerly also made available as macros.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The deprecated legacy S-compatibility macros PROBLEM, MESSAGE, ERROR, WARN,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WARNING, RECOVER, . . . are no longer de(cid:28)ned in ‘R_ext/RS.h’ (included by ‘R.h’). Re-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> place these by calls to Rf_error and Rf_warning (de(cid:28)ned in header ‘R_ext/Error.h’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> included by ‘R.h’).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Header ‘R_ext/RS.h’ no longer includes ‘R_ext/Error.h’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Header ‘R_ext/Constants.h’ (included by ‘R.h’) when included from C++ now in-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cludes the C++ header ‘cfloat’ rather than the C header ‘float.h’ (now possible</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as C++11 is required).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The legacy S-compatibility macros DOUBLE_* in ‘R_ext/Constants.h’ (included by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘R.h’) are deprecated.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The deprecated S-compatibility macros SINGLE_* in ‘R_ext/Constants.h’ (included</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by ‘R.h’) have been removed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R_Calloc, R_Free and R_Realloc are preferred to their unpre(cid:28)xed forms and error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> messages now use the pre(cid:28)x. These forms were introduced in R 3.4.0 and are available</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> even when STRICT_R_HEADERS is de(cid:28)ned.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) rmultinom has been documented in ‘Writing R Extensions’ (cid:159)6 so is now part of the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R API.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Similarly, Rtanpi, called from R level tanpi() is now part of the R API.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The long-deprecated, undocumented and non-API entry point call_R is no longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> declared in ‘R_ext/RS.h’ (included by ‘R.h’).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The header ‘S.h’ which has been unsupported since Jan 2016 has been removed. Use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘R.h’ instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DEPRECATED AND DEFUNCT:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The (non-default and deprecated) method = "internal" for download.file() and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> url() no longer supports ‘http://’ nor ‘ftp://’ URIs. (It is used only for ‘file://’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> URIs.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> On Windows, download.file(method = "wininet") no longer supports ‘ftp://’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> URIs. (It is no longer the default method, which is "libcurl" and does.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> On Windows, the deprecated method = "wininet" now gives a warning for ‘http://’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and ‘https://’ URIs for both download.file() and url().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (It is no longer the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> default method.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) On Windows, the command-line option ‘--max-mem-size’ and environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R_MAX_MEM_SIZE are defunct. The memory allocation limit was important for 32-bit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> builds, but these are no longer supported.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) default.stringsAsFactors() is now formally deprecated, where that was only men-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tioned on its regular help page, previously. So it now gives a warning if called.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) unix.time() is defunct now; it had been deprecated since R 3.4.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Setting digits = 0 in format(), print.default() (and hence typically print()) or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> options() is again invalid. Its behaviour was platform-dependent, and it is unclear</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> what (cid:16)zero signi(cid:28)cant digits(cid:17) should mean (PR#18098).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Messages from C code in the ‘cairo’ section of package grDevices are now also o(cid:27)ered</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for translation, thanks to Michael Chirico’s PR#18123.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) mean(x) with (cid:28)nite x now is (cid:28)nite also without "long.double" capability.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD Rd2pdf no longer leaves an empty build directory behind when it aborts due</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to an already existing output (cid:28)le. (Thanks to Sebastian Meyer’s PR#18141.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) density(x, weights = w, na.rm = TRUE) when anyNA(x) is true, now removes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> weights (cid:16)in parallel(cid:17) to x, (cid:28)xing PR#18151, reported by Matthias Gondan. Addi-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tionally, it gets a subdensity option.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Conversion of \Sexpr[]{&lt;expR&gt;} to LaTeX or HTML no longer produces long blocks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of empty lines when &lt;expR&gt; itself contains several lines all producing empty output.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thanks to a report and patch by Ivan Krylov posted to R-devel.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD build no longer fails if a package vignette uses child documents and ‘inst/doc’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exists. (Thanks to Sebastian Meyer’s PR#18156.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When an R documentation (‘help’ source) (cid:28)le ‘man/foo.Rd’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in a package has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \donttest{..} examples with a syntax error, it is now signalled as ERROR and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with correct line numbers relating to the ‘*-Ex.R’ (cid:28)le, thanks to Duncan Murdoch</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and Sebastian Meyer’s reports and patch proposals in PR#17501.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Improved determination of the correct translation domain in non-base packages, ad-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dressing the combination of PR#18092 and PR#17998 (#c6) with reports and aug-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mented patch #2904 by Suharto Anggono.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note that "R-base" is no longer the default domain e.g.,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for top-level calls to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gettext(); rather translation needs explicit domain = * speci(cid:28)cation in such cases.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) identical(attrib.as.set=FALSE) now works correctly with data frames with de-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fault row names (Thanks to Charlie Gao’s PR#18179).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) txtProgressBar() now enforces a non-zero width for argument char, without which</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> no progress can be visible.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) dimnames(table(d)) is more consistent in the case where d is a list with a single</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> component, thanks to Thomas Soeiro’s report to R-devel.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Further, table(d1, d2) now gives an error when d1 and d2 are data frames as sug-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gested by Thomas in PR#18224.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fix for drawing semi-transparent lines and (cid:28)lls on the native Windows graphics device</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#18219 and PR#16694). Thanks to Nick Ray for helpful diagnosis on Bugzilla.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The deparser now wraps sub-expressions such as if(A) .. with parentheses when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> needed; thanks to Duncan Murdoch’s PR#18232 and Lionel Henry’s patches there.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) remove.packages() no longer tries to uninstall Priority: base packages, thanks to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a report and suggestions by Colin Fay in PR#18227.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) win.metafile() now has xpinch and ypinch arguments so that the user can override</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Windows’ (potentially wrong) guess at device dimensions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) x[i] and x[[i]] for non-integer i should now behave in all cases as always docu-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mented: the index used is equivalent to as.integer(i) unless that would over(cid:29)ow</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> where trunc(i) is used instead; thanks to Suharto Anggono’s report and patch pro-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> posals in PR#17977.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) asOneSidedFormula() now associates the resulting formula with the global environ-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ment rather than the evaluation environment created for the call.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) &lt;bibentry&gt;$name now matches the (cid:28)eld name case-insensitively, consistent with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bibentry() creation and the replacement method.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) cbind() failed to detect some length mismatches with a mixture of time-series and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> non-time-series inputs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default LaTeX style (cid:28)le ‘Sweave.sty’ used by the RweaveLatex driver no longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> loads the obsolete ‘ae’ package; thanks to a report by Thomas Soeiro in PR#18271.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Furthermore, it now skips ‘\usepackage[T1]{fontenc}’ for engines other than pdf-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TeX (if detected) or if the new ‘[nofontenc]’ option is used.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) smooth.spline() now stores its logical cv argument more safely, (cid:28)xing a rare bug</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> when printing, and also stores n.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) smooth.spline(x,y,*) now computes the cv.crit statistic correctly, also when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is.unsorted(x), (cid:28)xing PR#18294.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The data.frame method of rbind() now warns when binding not-wholly-recycling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vectors, by analogy to the default method (for matrices).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) setAs() (cid:28)nds the correct class for name to when multiple packages de(cid:28)ne a class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with that name. Thanks to Gabor Csardi for the report.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fix for detaching a package when two classes of the same name are present in method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> signatures for the same generic. Thanks to Gabor Csardi for the report.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) match.arg("", c("", "a", "B")) gives a better error message,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in part from</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#17959, thanks to Elin Waring.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD Sweave --clean no longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#18242).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> removes pre-existing (cid:28)les or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> subdirectories</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The quartz() device no longer splits polylines into subpaths. That has caused</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> narrowly-spaced lines with many points to always look solid even when dashed line</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> type was used due to dash phase restarts.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Deparsing constructs such as quote(1 + ‘!‘(2) + 3) works again as before R 3.5.0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> thanks to the report and patch in PR#18284 by Suharto Anggono.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.list(f) for a factor f now keeps names(f), (cid:28)xing PR#18309.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qbeta(.001, .9, .009) and analogous qf() calls now return a correct value instead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of NaN or wrongly 1, all with a warning; thanks to the report by Ludger Goeminne</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in PR#18302.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) plot.lm() failed to produce the plot of residuals vs. factor levels (i.e., which=5 when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> leverages are constant) for models with character predictors (PR#17840).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) interaction.plot(..., xtick = TRUE) misplaced the x-axis line (PR#18305).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Not strictly (cid:28)xing a bug, format()ing and print()ing of non-(cid:28)nite Date and POSIXt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> values NaN and ±Inf no longer show as NA but the respective string, e.g., Inf, for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> consistency with numeric vector’s behaviour, ful(cid:28)lling the wish of PR#18308.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check no longer runs test scripts generated from corresponding ‘.Rin’ (cid:28)les</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> twice and now signals an ERROR if processing an ‘.Rin’ script fails.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tools::Rd2txt() used for plain-text help pages now renders \hrefs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (if</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tools::Rd2txt_options(showURLs = TRUE)) and \urls with percent-encoding and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> standards-compliant delimiting style (angle brackets and no ‘URL: ’ pre(cid:28)x). \email</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is now rendered with a ‘mailto:’ pre(cid:28)x.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.1.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default version of Bioconductor has been changed to 3.14.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (This is used by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> setRepositories and the menus in GUIs.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check --as-cran has a workaround for a bug in versions of file up to at least</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5.41 which mis-identify DBF (cid:28)les last changed in 2022 as executables.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The legacy S-compatibility macros SINGLE_* in ‘R_ext/Constants.h’ (included by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘R.h’) are deprecated and will be removed in R 4.2.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Initialization of self-starting nls() models with initialization functions following the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pre-R-4.1.0 API (without the ... argument) works again for now, with a deprecation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> warning.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fixed quoting of ~autodetect~ in Java setting defaults to avoid inadvertent user</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lookup due to leading ~, reported in PR#18231 by Harold Gutch.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) substr(., start, stop) &lt;- v now treats negative stop values correctly. Reported</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with a patch in PR#18228 by Brodie Gaslam.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Subscripting an array x without dimnames by a length(dim(x))-column character</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> matrix gave "random" non-sense, now an error; reported in PR#18244 by Mikael</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Jagan.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) ...names() now matches names(list(...)) closely, (cid:28)xing PR#18247.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) all.equal(*, scale = s) now works as intended when length(s) &gt; 1, partly thanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to Michael Chirico’s PR#18272.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) print(x) for long vectors x now also works for named atomic vectors or lists and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> prints the correct number when reaching the getOption("max.print") limit; partly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> thanks to a report and proposal by Hugh Parsonage to the R-devel list.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) all.equal(&lt;selfStart&gt;, *) no longer signals a deprecation warning.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) reformulate(*, response=r) gives a helpful error message now when length(r) &gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1, thanks to Bill Dunlap’s PR#18281.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Modifying globalCallingHandlers inside withCallingHandlers() now works or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fails correctly, thanks to Henrik Bengtsson’s PR#18257.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) hist(&lt;Date&gt;, breaks = "days") and hist(&lt;POSIXt&gt;, breaks = "secs") no longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fail for inputs of length 1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qbeta(.001, .9, .009) and similar cases now converge correctly thanks to Ben</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bolker’s report in PR#17746.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) window(x, start, end) no longer wrongly signals (cid:16)’start’ cannot be after ’end(cid:17) ’,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)xing PR#17527 and PR#18291.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) data() now checks that its (rarely used) list argument is a character vector (cid:21) a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> couple of packages passed other types and gave incorrect results.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) which() now checks its arr.ind argument is TRUE rather coercing to logical and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> taking the (cid:28)rst element (cid:21) which gave incorrect results in package code.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) model.weights() and model.offset() more carefully extract their model compo-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nents, thanks to Ben Bolker and Tim Taylor’s R-devel post.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) list.files(recursive = TRUE) now shows all broken symlinks (previously, some of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> them may have been omitted, PR#18296).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.1.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The workaround in headers ‘R.h’ and ‘Rmath.h’ (using namespace std;) for the Or-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acle Developer Studio compiler is no longer needed now C++11 is required so has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> been removed. A couple more usages of log() (which should have been std::log())</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with an int argument are reported on Solaris.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The undocumented limit of 4095 bytes on messages from the S-compatibility macros</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PROBLEM and MESSAGE is now documented and longer messages will be silently trun-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cated rather than potentially causing segfaults.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) If the R_NO_SEGV_HANDLER environment variable is non-empty, the signal handler for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SEGV/ILL/BUS signals (which o(cid:27)ers recovery user interface) is not set. This allows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> more reliable debugging of crashes that involve the console.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DEPRECATED AND DEFUNCT:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The legacy S-compatibility macros PROBLEM, MESSAGE, ERROR, WARN, WARNING,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RECOVER, . . . are deprecated and will be hidden in R 4.2.0. R’s native interface of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rf_error and Rf_warning has long been preferred.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) .mapply(F, dots, .) no longer segfaults when dots is not a list and uses</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> match.fun(F) as always documented; reported by Andrew Simmons in PR#18164.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) hist(&lt;Date&gt;, ...) and hist(&lt;POSIXt&gt;, ...) no longer pass arguments for rect()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (such as col and density) to axis(). (Thanks to Sebastian Meyer’s PR#18171.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) \Sexpr{ch} now preserves Encoding(ch). (Thanks to report and patch by Jeroen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ooms in PR#18152.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Setting the RNG to "Marsaglia-Multicarry" e.g., by RNGkind(), now warns in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> more places, thanks to AndrØ Gillibert’s report and patch in PR#18168.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) gray(numeric(), alpha=1/2) no longer segfaults, (cid:28)xing PR#18183, reported by Till</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Krenz.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fixed dnbinom(x, size=&lt;very_small&gt;, .., log=TRUE) regression,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> reported by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Martin Morgan.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.Date.POSIXlt(x) now keeps names(x), thanks to Davis Vaughan’s report and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> patch in PR#18188.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) model.response() now strips an "AsIs" class typically, thanks to Duncan Murdoch’s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> report and other discussants in PR#18190.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) try() is considerably faster in case of an error and long call, as e.g., from some</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> do.call(). Thanks to Alexander Kaever’s suggestion posted to R-devel.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qqline(y = &lt;object&gt;) such as y=I(.), now works, see also PR#18190.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Non-integer mgp par() settings are now handled correctly in axis() and mtext(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> thanks to Mikael Jagan and Duncan Murdoch’s report and suggestion in PR#18194.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) formatC(x) returns length zero character() now, rather than "" when x is of length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> zero, as documented, thanks to Davis Vaughan’s post to R-devel.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) removeSource(fn) now retains (other) attributes(fn).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.1.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) require(pkg, quietly = TRUE) is quieter and in particular does not warn if the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> package is not found.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DEPRECATED AND DEFUNCT:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Use of ‘ftp://’ URIs should be regarded as deprecated, with on-going support con-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)ned to method = "libcurl" and not routinely tested. (Nowadays no major browser</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> supports them.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The non-default method = "internal" is deprecated for ‘http://’ and ‘ftp://’ URIs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for both download.file and url.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) On Windows, method = "wininet" is deprecated for ‘http://’,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘ftp://’ URIs for both download.file and url.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘ftp://’.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> For ‘ftp://’ URIs the default method is now "libcurl" if available (which it is on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRAN builds).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> method = "wininet" remains the default for ‘http://’ and ‘https://’ URIs but if</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> libcurl is available, using method = "libcurl" is preferred.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘https://’ and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (A warning is only given for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) make check now works also without a LaTeX installation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Thanks to Sebastian</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Meyer’s PR#18103.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) make check-devel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> again</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘--without-recommended-packages’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> works</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> an</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> build</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> con(cid:28)gured</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qnbinom(p, size, mu) for large size/mu is correct now in a range of cases</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#18095); similarly for the (size, prob) parametrization of the negative bino-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mial. Also qpois() and qbinom() are better and or faster for extreme cases. The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> underlying C code has been modularized and is common to all four cases of discrete</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> distributions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) gap.axis is now part of the axis() arguments which are passed from bxp(), and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hence boxplot(). (Thanks to Martin Smith’s report and suggestions in PR#18109.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) .First and .Last can again be set from the site pro(cid:28)le.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) seq.int(from, to, *) and seq.default(..) now work better in large range cases</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> where from-to is in(cid:28)nite where the two boundaries are (cid:28)nite.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) all.equal(x,y) now returns TRUE correctly also when several entries of abs(x) and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> abs(y) are close to .Machine$double.xmax, the largest (cid:28)nite numeric.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) model.frame() now clears the object bit when removing the class attribute of a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> value via na.action (PR#18100).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) charClass() now works with multi-character strings on Windows (PR#18104, (cid:28)xed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by Bill Dunlap).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) encodeString() on Solaris now works again in Latin-1 encoding on characters repre-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sented di(cid:27)erently in UTF-8. Support for surrogate pairs on Solaris has been improved.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) file.show() on Windows now works with non-ASCII path names representable in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the current native encoding (PR#18132).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Embedded R on Windows can now (cid:28)nd R home directory via the registry even when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> installed only for the current user (PR#18135).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) pretty(x) with (cid:28)nite x now returns (cid:28)nite values also in the case where the extreme x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> values are close in size to the maximal representable number .Machine$double.xmax.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Also, it’s been tweaked for very small ranges and when a boundary is close (or equal)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to zero; e.g., pretty(c(0,1e-317)) no longer has negative numbers, currently still</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> warning about a very small range, and pretty(2^-(1024 - 2^-1/(c(24,10)))) is</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> more accurate.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The error message for not (cid:28)nding vignette (cid:28)les when weaving has correct (cid:28)le sizes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now. (Thanks to Sebastian Meyer’s PR#18154.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) dnbinom(20, &lt;large&gt;, 1) now correctly gives 0, and similar cases are more accurate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with under(cid:29)ow precaution. (Reported by Francisco Vera Alcivar in PR#18072.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.1.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FUTURE DIRECTIONS:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) It is planned that the 4.1.x series will be the last to support 32-bit Windows, with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> production of binary packages for that series continuing until early 2023.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SIGNIFICANT USER-VISIBLE CHANGES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Data set esoph in package datasets now provides the correct numbers of controls;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Reported by Alexander</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> previously it had the numbers of cases added to these.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fowler in PR#17964.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) ‘www.omegahat.net’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is no longer one of the repositories known by default to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> setRepositories(). (Nowadays it only provides source packages and is often un-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> available.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Function package_dependencies() (in package tools) can now use di(cid:27)erent depen-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dency types for direct and recursive dependencies.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The checking of the size of tarball in R CMD check --as-cran &lt;pkg&gt; may be tweaked</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> via the new environment variable _R_CHECK_CRAN_INCOMING_TARBALL_THRESHOLD_,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as suggested in PR#17777 by Jan Gorecki.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Using c() to combine a factor with other factors now gives a factor, an ordered factor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> when combining ordered factors with identical levels.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) apply() gains a simplify argument to allow disabling of simpli(cid:28)cation of results.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The format() method for class "ftable" gets a new option justify. (Suggested by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thomas Soeiro.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New ...names() utility. (Proposed by Neal Fultz in PR#17705.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) type.convert() now warns when its as.is argument is not speci(cid:28)ed, as the help</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)le always said it should. In that case, the default is changed to TRUE in line with its</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> change in read.table() (related to stringsAsFactors) in R 4.0.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When printing list arrays, classed objects are now shown via their format() value if</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> this is a short enough character string, or by giving the (cid:28)rst elements of their class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vector and their length.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) capabilities() gets new entry "Rprof" which is TRUE when R has been con(cid:28)gured</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Related to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with the equivalent of --enable-R-profiling (as it is by default).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Michael Orlitzky’s report PR#17836.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) str(xS4) now also shows extraneous attributes of an S4 object xS4.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rudimentary support for vi-style tags in rtags() and R CMD rtags has been added.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Based on a patch from Neal Fultz in PR#17214.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) checkRdContents() is now exported from tools; it and also checkDocFiles() have a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new option chkInternal allowing to check Rd (cid:28)les marked with keyword "internal"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as well. The latter can be activated for R CMD check via environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _R_CHECK_RD_INTERNAL_TOO_.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New functions numToBits() and numToInts() extend the raw conversion utilities to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (double precision) numeric.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Functions URLencode() and URLdecode() in package utils now work on vectors of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> URIs. (Based on patch from Bob Rudis submitted with PR#17873.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) path.expand() can expand ‘~user’ on most Unix-alikes even when readline is not</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in use. It tries harder to expand ‘~’, for example should environment variable HOME</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> be unset.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) For HTML help (both dynamic and static), Rd (cid:28)le links to help pages in external</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> packages are now treated as references to topics rather than (cid:28)le names, and fall back</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to a (cid:28)le link only if the topic is not found in the target package. The earlier rule</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> which prioritized (cid:28)le names over topics can be restored by setting the environment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> variable _R_HELP_LINKS_TO_TOPICS_ to a false value.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) c() now removes NULL arguments before dispatching to methods, thus simplifying the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> implementation of c() methods, but for back compatibility keeps NULL when it is the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)rst argument. (From a report and patch proposal by Lionel Henry in PR#17900.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Vectorize()’s result function’s environment no longer keeps unneeded objects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Function ...elt() now propagates visibility consistently with ..n. (Thanks to Lionel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Henry’s PR#17905.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) capture.output() no longer uses non-standard evaluation to evaluate its arguments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This makes evaluation of functions like parent.frame() more consistent. (Thanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to Lionel Henry’s PR#17907.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) packBits(bits, type="double") now works as inverse of numToBits(). (Thanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to Bill Dunlap’s proposal in PR#17914.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) curlGetHeaders() has two new arguments, timeout to specify the timeout for that</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> call (overriding getOption("timeout")) and TLS to specify the minimum TLS pro-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tocol version to be used for https:// URIs (inter alia providing a means to check</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for sites using deprecated TLS versions 1.0 and 1.1).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) For nls(), an optional constant scaleOffset may be added to the denominator of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the relative o(cid:27)set convergence test for cases where the (cid:28)t of a model is expected to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> be exact, thanks to a proposal by John Nash. nls(*, trace=TRUE) now also shows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the convergence criterion.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Numeric di(cid:27)erentiation via numericDeriv() gets new optional arguments eps and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> central, the latter for taking central divided di(cid:27)erences. The latter can be activated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for nls() via nls.control(nDcentral = TRUE).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) nls() now passes the trace and control arguments to getInitial(), notably for all</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> self-starting models, so these can also be (cid:28)t in zero-noise situations via a scaleOffset.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> For this reason, the initial function of a selfStart model must now have ... in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> its argument list.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) bquote(splice = TRUE) can now splice expression vectors with attributes: this makes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> it possible to splice the result of parse(keep.source = TRUE). (Report and patch</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> provided by Lionel Henry in PR#17869.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) textConnection() gets an optional name argument.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) get(), exists(), and get0() now signal an error if the (cid:28)rst argument has length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> greater than 1. Previously additional elements were silently ignored. (Suggested by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Antoine Fabri on R-devel.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R now provides a shorthand notation for creating functions, e.g. \(x) x + 1 is parsed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as function(x) x + 1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R now provides a simple native forward pipe syntax |&gt;. The simple form of the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> forward pipe inserts the left-hand side as the (cid:28)rst argument in the right-hand side call.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The pipe implementation as a syntax transformation was motivated by suggestions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from Jim Hester and Lionel Henry.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) all.equal(f, g)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> their</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> environment(.)s, notably via new all.equal method for class function. Com-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> parison of nls() (cid:28)ts, e.g., may now need all.equal(m1, m2,check.environment =</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FALSE).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> compares</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> default</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> also</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) .libPaths() gets a new option include.site, allowing to not include the site library.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Thanks to Dario Strbenac’s suggestion and Gabe Becker’s PR#18016.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Lithuanian translations are now available. (Thanks to Rimantas (cid:154)akauskas.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) names() now works for DOTSXP objects. On the other hand, in ‘R-lang’, the R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> language manual, we now warn against relying on the structure or even existence of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> such dot-dot-dot objects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) all.equal() no longer gives an error on DOTSXP objects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) capabilities("cairo") now applies only to the (cid:28)le-based devices as it is now pos-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sible (if very unusual) to build R with Cairo support for those but not for X11().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is optional support for tracing the progress of loadNamespace() (cid:22) see its help.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) (Not Windows.) l10n_info() reports an additional element, the name of the encod-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ing as reported by the OS (which may di(cid:27)er from the encoding part (if any) of the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> result from Sys.getlocale("LC_CTYPE")).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function gregexec() which generalizes regexec() to (cid:28)nd all disjoint matches</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and all substrings corresponding to parenthesized subexpressions of the given regular</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> expression. (Contributed by Brodie Gaslam.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function charClass() in package utils to query the wide-character classi(cid:28)cation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functions in use (such as iswprint).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> global</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> getOption("digits"), but quantile() gets a new optional argument digits</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> = 7 instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> quantile()’s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> depend</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> result</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) grep(), sub(), regexp and variants work considerably faster for long factors with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> few levels. (Thanks to Michael Chirico’s PR#18063.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Provide grouping of x11() graphics windows within a window manager such as Gnome</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> or Unity; thanks to a patch by Ivan Krylov posted to R-devel.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The split() method for class data.frame now allows the f argument to be speci(cid:28)ed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as a formula.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sprintf now warns on arguments unused by the format string.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New palettes "Rocket" and "Mako" for hcl.colors() (approximating palettes of the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> same name from the viridisLite package).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Contributed by Achim Zeileis.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The base environment and its namespace are now locked (so one can no longer add</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bindings to these or remove from these).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rterm handling of multi-byte characters has been improved, allowing use of such</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> characters when supported by the current locale.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rterm now accepts ALT+ +xxxxxxxx sequences to enter Unicode characters as hex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> digits.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Environment variable LC_ALL on Windows now takes precedence over LC_CTYPE and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> variables for other supported categories, matching the POSIX behaviour.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) duplicated() and anyDuplicated() are now optimized for integer and real vectors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> that are known to be sorted via the ALTREP framework. Contributed by Gabriel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Becker via PR#17993.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GRAPHICS:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The graphics engine version, R_GE_version, has been bumped to 14 and so packages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> that provide graphics devices should be reinstalled.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Graphics devices should now specify deviceVersion to indicate what version of the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> graphics engine they support.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Graphics devices can now specify deviceClip. If TRUE, the graphics engine will never</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> perform any clipping of output itself.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The clipping that the graphics engine does perform (for both canClip = TRUE and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> canClip = FALSE) has been improved to avoid producing unnecessary artifacts in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> clipped output.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The grid package now allows gpar(fill) to be a linearGradient(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> radialGradient(), or a pattern(). The viewport(clip) can now also be a grob,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> which de(cid:28)nes a clipping path, and there is a new viewport(mask) that can also be a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> grob, which de(cid:28)nes a mask.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> These new features are only supported so far on the Cairo-based graphics devices and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on the pdf() device.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) (Not Windows.) A warning is given when a Cairo-based type is speci(cid:28)ed for a png(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> jpeg(), tiff() or bmp() device but Cairo is unsupported (so type = "Xlib" is tried</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> instead).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) grSoftVersion() now reports the versions of FreeType and FontCon(cid:28)g if they are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used directly (not via Pango), as is most commonly done on macOS.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The standalone ‘libRmath’ math library and R’s C API now provide log1pexp()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> again as documented, and gain log1mexp().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on a UNIX-ALIKE:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) configure checks for a program pkgconf if program pkg-config is not found. These</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> are now only looked for on the path (like almost all other programs) so if needed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> specify a full path to the command in PKG_CONFIG, for example in (cid:28)le ‘config.site’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) C99 function iswblank is required (cid:21) it was last seen missing ca 2003 so the workaround</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> has been removed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> options</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> configure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘--with-internal-iswxxxxx’,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and ‘--with-internal-wcwidth’ which allows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘--with-internal-towlower’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the system functions for wide-character classi(cid:28)cation, case-switching and width</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (wcwidth and wcswidth) to be replaced by internal ones. The (cid:28)rst has long been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used on macOS, AIX (and Windows) but this enables it to be unselected there and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> selected for other platforms (it is the new default on Solaris). The second is new in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> this version of R and is selected by default on macOS and Solaris. The third has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> long been the default and remains so as it contains customizations for East Asian</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> languages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> System versions of these functions are often minimally implemented (sometimes only</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for ASCII characters) and may not cover the full range of Unicode points: for example</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Solaris (and Windows) only cover the Basic Multilingual Plane.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Cairo installations without X11 are more likely to be detected by configure, when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the (cid:28)le-based Cairo graphics devices will be available but not X11(type = "cairo").</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is a new configure option ‘--with-static-cairo’ which is the default on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> macOS. This should be used when only static cairo (and where relevant, Pango)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> libraries are available.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Cairo-based</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> graphics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> devices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platforms without Pango</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> but with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FreeType/FontCon(cid:28)g will make use of the latter for font selection.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LINK-TIME OPTIMIZATION on a UNIX-ALIKE:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Con(cid:28)guring with (cid:29)ag ‘--enable-lto=R’ now also uses LTO when installing the rec-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ommended packages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD INSTALL and R CMD SHLIB have a new (cid:29)ag ‘--use-LTO’ to use LTO when com-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> piling code, for use with R con(cid:28)gured with ‘--enable-lto=R’. For R con(cid:28)gured with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘--enable-lto’, they have the new (cid:29)ag ‘--no-use-LTO’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Packages can opt in or out of LTO compilation via a ‘UseLTO’ (cid:28)eld in the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘DESCRIPTION’ (cid:28)le. (As usual this can be overridden by the command-line (cid:29)ags.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUILDING R on Windows:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) for GCC ≥ 8, FC_LEN_T is de(cid:28)ned in ‘config.h’ and hence character lengths are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> passed from C to Fortran in inter alia BLAS and LAPACK calls.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is a new text (cid:28)le ‘src/gnuwin32/README.compilation’, which outlines how</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C/Fortran code compilation is organized and documents new features:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) R can be built with Link-Time Optimization with a suitable compiler (cid:21) doing so</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with GCC 9.2 showed several inconsistencies which have been corrected.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) There is support for cross-compiling the C and Fortran code in R and standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> packages on suitable (Linux) platforms. This is mainly intended to allow devel-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> opers to test later versions of compilers (cid:21) for example using GCC 9.2 or 10.x has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> detected issues that GCC 8.3 in Rtools40 does not.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) There is experimental support for cross-building R packages with C, C++ and/or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fortran code.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The R installer can now be optionally built to support a single architecture (only</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64-bit or only 32-bit).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PACKAGE INSTALLATION:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default C++ standard has been changed to C++14 where available (which it</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is on all currently checked platforms): if not (as before) C++11 is used if available</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> otherwise C++ is not supported.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Packages which specify C++11 will still be installed using C++11.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C++14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> often</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> give</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> std::random_shuffle (deprecated in C++14 and removed in C++17).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ei-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ther specify C++11 (see ‘Writing R Extensions’) or modernize the code and if</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> needed specify C++14. The latter has been supported since R 3.4.0 so the package’s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘DESCRIPTION’ would need to include something like</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> deprecation warnings, most</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> compilers may</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Depends: R (&gt;= 3.4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PACKAGE INSTALLATION on Windows:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD INSTALL and R CMD SHLIB make use of their (cid:29)ag ‘--use-LTO’ when the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘LTO_OPT’ make macro is set in (cid:28)le ‘etc/${R_ARCH}/Makeconf’ or in a personal/site</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘Makevars’ (cid:28)le. (For details see ‘Writing R Extensions’ (cid:159)4.5.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This provides a valuable check on code consistency. It does work with GCC 8.3 as in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rtools40, but that does not detect everything the CRAN checks with current GCC</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> do.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PACKAGE INSTALLATION on macOS:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default personal library directory on builds with ‘--enable-aqua’ (including</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRAN builds) now di(cid:27)ers by CPU type, one of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ~/Library/R/x86_64/x.y/library</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ~/Library/R/arm64/x.y/library</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This uses the CPU type R (and hence the packages) were built for, so when a ‘x86_64’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> build of R is run under Rosetta emulation on an ‘arm64’ Mac, the (cid:28)rst is used.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check can now scan package functions for bogus return statements, which</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> were possibly intended as return() calls (wish of PR#17180, patch by Sebas-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tian Meyer). This check can be activated via the new environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> _R_CHECK_BOGUS_RETURN_, true for --as-cran.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD build omits tarballs and binaries of previous builds from the top-level package</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> directory. (PR#17828, patch by Sebastian Meyer.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check now runs sanity checks on the use of ‘LazyData’, for example that a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘data’ directory is present and that ‘LazyDataCompression’ is not speci(cid:28)ed without</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘LazyData’ and has a documented value. For packages with large LazyData databases</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> without specifying ‘LazyDataCompression’, there is a reference to the code given in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘Writing R Extensions’ (cid:159)1.1.6 to test the choice of compression (as in all the CRAN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> packages tested a non-default method was preferred).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD build removes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘LazyData’ and ‘LazyDataCompression’ (cid:28)elds from the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘DESCRIPTION’ (cid:28)le of packages without a ‘data’ directory.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ENCODING-RELATED CHANGES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The parser now treats ‘\Unnnnnnnn’ escapes larger than the upper limit for Unicode</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> points (‘\U10FFFF’) as an error as they cannot be represented by valid UTF-8.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Where such escapes are used for outputting non-printable (including unassigned)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> characters, 6 hex digits are used (rather than 8 with leading zeros). For clarity,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> braces are used, for example ‘\U{0effff}’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The parser now looks for non-ASCII spaces on Solaris (as previously on most other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> OSes).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There are warnings (including from the parser) on the use of unpaired surrogate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unicode points such as ‘\uD834’. (These cannot be converted to valid UTF-8.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Functions nchar(), tolower(), toupper() and chartr() and those using regular</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> expressions have more support for inputs with a marked Latin-1 encoding.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The character-classi(cid:28)cation functions used (by default) to replace the system</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iswxxxxx functions on Windows, macOS and AIX have been updated to Unicode</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13.0.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The character-width tables have been updated to include new assignments in Unicode</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13.0.0. This included treating all control characters as having zero width.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The code for evaluating default (extended) regular expressions now uses the same</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character-classi(cid:28)cation functions as the rest of R (previously they di(cid:27)ered on Win-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dows, macOS and AIX).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is a build-time option to replace the system’s wide-character wctrans C func-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tion by tables shipped with R: use configure option ‘--with-internal-towlower’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> or (on Windows) ‘-DUSE_RI18N_CASE’ in ‘CFLAGS’ when building R. This may be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> needed to allow tolower() and toupper() to work with Unicode characters beyond</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the Basic Multilingual Plane where not supported by system functions (e.g. on Solaris</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> where it is the new default).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R is more careful when truncating UTF-8 and other multi-byte strings that are too</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> long to be printed, passed to the system or libraries or placed into an internal bu(cid:27)er.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Truncation will no longer produce incomplete multibyte characters.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DEPRECATED AND DEFUNCT:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Function plclust() from the package stats and package.dependencies(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pkgDepends(), getDepList(), installFoundDepends(), and vignetteDepends()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from package tools are defunct.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Defunct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functions checkNEWS() and readNEWS() from package</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tools and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRAN.packages() from utils have been removed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD config CXXCPP is defunct (it was deprecated in R 3.6.2).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) parallel::detectCores() drops support for IRIX (retired in 2013).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The LINPACK argument to chol.default(), chol2inv(), solve.default() and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It was silently ignored up to R 4.0.3 but</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> svd() has been defunct since R 3.1.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now gives an error.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Subsetting/indexing, such as ddd[*] or ddd$x on a DOTSXP (dot-dot-dot) object ddd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> has been disabled; it worked by accident only and was undocumented.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Many more C-level allocations (mainly by malloc and strdup) are checked for success</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with suitable alternative actions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Bug (cid:28)x for replayPlot(); this was turning o(cid:27) graphics engine display list recording</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> if a recorded plot was replayed in the same session. The impact of the bug became</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> visible if resize the device after replay OR if attempted another savePlot() after</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> replay (empty display list means empty screen on resize or empty saved plot).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check etc now warn when a package exports non-existing S4 classes or methods,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Reported by Alex Bertram; reproducible</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> also in case of no (cid:16)methods(cid:17) presence.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> example and patch by Sebastian Meyer in PR#16662.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) boxplot() now also accepts calls for labels such as ylab, the same as plot().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Reported by Marius Hofert.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The help page for xtabs() now correctly states that addNA is setting na.action =</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> na.pass among others. (Reported as PR#17770 by Thomas Soeiro.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The R CMD check &lt;pkg&gt; gives a longer and more comprehensible message when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘DESCRIPTION’ misses dependencies, e.g., in Imports:. (Thanks to the contributors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of PR#17179.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) update.default() now calls the generic update() on the formula to work correctly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (As reported and suggested by Neal Fultz in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for models with extended formulas.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#17865.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The horizontal position of leaves in a dendrogram is now correct also with center =</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FALSE. (PR#14938, patch from Sebastian Meyer.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) all.equal.POSIXt() no longer warns about and subsequently ignores inconsistent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "tzone" attributes, but describes the di(cid:27)erence in its return value (PR#17277). This</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> check can be disabled via the new argument check.tzone = FALSE as suggested by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sebastian Meyer.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.POSIXct() now populates the "tzone" attribute from its tz argument when x is</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a logical vector consisting entirely of NA values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) x[[2^31]] &lt;- v now works. (Thanks to the report and patch by Suharto Anggono</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in PR#17330.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) In log-scale graphics, axis() ticks and label positions are now computed more care-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fully and symmetrically in their range, typically providing more ticks, ful(cid:28)lling wishes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in PR#17936. The change really corresponds to an improved axisTicks() (package</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> grDevices), potentially in(cid:29)uencing grid and lattice, for example.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) qnorm(&lt;very large negative&gt;, log.p=TRUE) is now correct to at least (cid:28)ve digits</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> where it was catastrophically wrong, previously.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sum(df) and similar "Summary"- and "Math"-group member functions now work for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data frames df with logical columns, notably also of zero rows. (Reported to R-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> devel by Martin (cid:16)b706(cid:17).)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) unsplit() had trouble with tibbles due to unsound use of rep(NA, len)-indexing,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> which should use NA_integer_ (Reported to R-devel by Mario Annau.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) pnorm(x, log.p = TRUE) under(cid:29)ows to -Inf slightly later.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) show(&lt;hidden S4 generic&gt;) prints better and without quotes for non-hidden S4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> generics.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) read.table() and relatives treated an "NA" column name as missing when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> check.names = FALSE PR#18007.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Parsing strings containing UTF-16 surrogate pairs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> some</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> works</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> utf8ToInt("\uD834\uDD1E")) should now give "1D11E" on all platforms.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> such as "\uD834\uDD1E"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sprintf("%X",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (uncommon)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platforms.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> better</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) identical(x,y) is no longer true for di(cid:27)ering DOTSXP objects, (cid:28)xing PR#18032.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) str() now works correctly for DOTSXP and related exotics, even when these are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> doomed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Additionally, it no longer fails for lists with a class and (cid:16)irregular(cid:17) method de(cid:28)ni-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tions such that e.g. lapply(*) will necessarily fail, as currently for di(cid:27)erent igraph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> objects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Message translation domains, e.g., for errors and warnings, are now correctly deter-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mined also when e.g., a base function is called from (cid:16)top-level(cid:17) function (i.e., de(cid:28)ned</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in globalenv()), thanks to a patch from Joris Goosen (cid:28)xing PR#17998.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Too long lines in environment (cid:28)les (e.g., ‘Renviron’) no longer crash R. This limit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> has been increased to 100,000 bytes. (PR#18001.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is a further workaround for FreeType giving incorrect italic font faces with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cairo-based graphics devices on macOS.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) add_datalist(*, force = TRUE) (from package tools) now actually updates an exist-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ing ‘data/datalist’ (cid:28)le for new content. (Thanks to a report and patch by Sebastian</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Meyer in PR#18048.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) cut.Date() and cut.POSIXt() could produce an empty last interval for breaks =</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "months" or breaks = "years". (Reported as PR#18053 by Christopher Carbone.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Detection of the encoding of ‘regular’ macOS locales such as ‘en_US’ (which is UTF-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8) had been broken by a macOS change: fortunately these are now rarely used with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘en_US.UTF-8’ being preferred.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sub() and gsub(pattern, repl, x, *) now keep attributes of x such as names()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> also when pattern is NA (PR#18079).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Time di(cid:27)erences ("difftime" objects) get a replacement and a rep() method to keep</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "units" consistent. (Thanks to a report and patch by Nicolas Bennett in PR#18066.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The \RdOpts macro, setting defaults for \Sexpr options in an Rd (cid:28)le, had been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> it now works again. (Thanks to a report and patch by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ine(cid:27)ective since R 2.12.0:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sebastian Meyer in PR#18073.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) mclapply and pvec no longer accidentally terminate parallel processes started before</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by mcparallel or related calls in package parallel (PR#18078).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) grep and other functions for evaluating (extended) regular expressions handle in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unicode also strings not explicitly (cid:29)agged UTF-8, but (cid:29)agged native when running</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in UTF-8 locale.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fixed a crash in fifo implementation on Windows (PR#18031).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Binary mode in fifo on Windows is now properly detected from argument open</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#15600, PR#18031).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The change to the internal table in R 4.0.4 for iswprint has been reverted: it con-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tained some errors in printability of ‘East Asian’ characters.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) For packages using ‘LazyData’, R CMD build ignored the ‘--resave-data’ option and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the ‘BuildResaveData’ (cid:28)eld of the ‘DESCRIPTION’ (cid:28)le (in R versions 4.0.0 to 4.0.4).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) File ‘share/texmf/tex/latex/jss.cls’ has been updated to work with LaTeX ver-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sions since Oct 2020.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Unicode character width tables (as used by nchar(, type = "w")) have been updated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to Unicode 12.1 by Brodie Gaslam (PR#17781), including many emoji.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The internal table for iswprint (used on Windows, macOS and AIX) has been up-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dated to include many recent Unicode characters.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on a UNIX-ALIKE:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) If an external BLAS is speci(cid:28)ed by ‘--with-blas=foo’ or via environment vari-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> able BLAS_LIBS is not found, this is now a con(cid:28)guration error. The previous be-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> haviour was not clear from the documentation:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> it was to continue the search as if</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘--with-blas=yes’ was speci(cid:28)ed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) all.equal(x,y) now (cid:16)sees(cid:17) the two di(cid:27)erent NAs in factors, thanks to Bill Dunlap</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and others in PR#17897.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) (~ NULL)[1] and similar formula subsetting now works, thanks to a report and patch</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by Henrik Bengtsson in PR#17935. Additionally, subsetting leaving an empty for-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mula now works too, thanks to suggestions by Suharto Anggono.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) .traceback(n) keeps source references again, as before R 4.0.0, (cid:28)xing a regression;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> introduced by the PR#17580, reported including two patch proposals by Brodie</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gaslam.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) unlist(plst, recursive=FALSE) no longer drops content for pairlists with list com-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ponents, thanks to the report and patch by Suharto Anggono in PR#17950.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) iconvlist() now also works on MUSL based (Linux) systems, from a report and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> patch suggestion by Wesley Chan in PR#17970.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) round() and signif() no longer tolerate wrong argument names, notably in 1-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> argument calls; reported by Shane Mueller on R-devel (mailing list); later reported</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as PR#17976.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) .Machine has longdouble.* elements only if capabilities("long.double") is true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Previously they were included if the platform had long double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as documented.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> identical to double, as ARM does.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) p.adjust(numeric(), n=0) now works, (cid:28)xing PR#18002.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) identical(x,y) no longer prints "Unknown Type .." for typeof(x) == "..." ob-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> jects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fix (auto-)print()ing of named complex vectors, see PR#17868 and PR#18019.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) all.equal(&lt;language&gt;, &lt;...&gt;) now works, (cid:28)xing PR#18029.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.data.frame.list(L, row.names=NULL) now behaves in line with data.frame(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> disregarding names of components of L, (cid:28)xing PR#18034, reported by Kevin Tappe.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) checkRdaFiles(ff)$version is now correct also when ff contains (cid:28)les of di(cid:27)erent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> versions, thanks to a report and patch from Sebastian Meyer in PR#18041.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) macOS: Quartz device live drawing could fail (no plot is shown) if the system changes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the drawing context after view update (often the case since macOS Big Sur). System</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> log may show "CGContextDelegateCreateForContext: invalid context" error.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) On platforms using configure option ‘--with-internal-tzcode’, additional values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "internal" and (on macOS only) "macOS" are accepted for the environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TZDIR. (See ?TZDIR.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> On macOS, "macOS" is used by default if the system timezone database is a newer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> version than that in the R installation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When install.packages(type = "source") fails to (cid:28)nd a package in a repository</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> it mentions package versions which are excluded by their R version requirement and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> links to hints on why a package might not be found.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default value for options("timeout") can be set from environment variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R_DEFAULT_INTERNET_TIMEOUT, still defaulting to 60 (seconds) if that is not set or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> invalid.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This may be needed when child R processes are doing downloads, for example during</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the installation of source packages which download jars or other forms of data.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> LINK-TIME OPTIMIZATION on a UNIX-ALIKE:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is now support for parallelized Link-Time Optimization (LTO) with GCC and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for ‘thin’ LTO with clang via setting the ‘LTO’ macro.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is support for setting a di(cid:27)erent LTO (cid:29)ag for the Fortran compiler, including</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to empty when mixing clang and gfortran (as on macOS). See (cid:28)le ‘config.site’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is a new ‘LTO_LD’ macro to set linker options for LTO compilation, for example</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to select an alternative linker or to parallelize thin LTO.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DEPRECATED AND DEFUNCT:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The LINPACK argument to chol.default(), chol2inv(), solve.default() and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> svd() has been defunct since R 3.1.0. Using it now gives a warning which will become</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> an error in R 4.1.0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The code mitigating stack over(cid:29)ow with PCRE regexps on very long strings is enabled</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for PCRE2 &lt; 10.30 also when JIT is enabled, since stack over(cid:29)ows have been seen in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> that case.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fix to correctly show the group labels in dotchart() (which where lost in the ylab</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> improvement for R 4.0.0).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) addmargins(*, ..) now also works when fn() is a local function, thanks to bug</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> report and patch PR#17124 from Alex Bertram.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) rank(x) and hence sort(x) now work when x is an object (as per is.object(x)) of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> type "raw" and provides a valid ‘[‘ method, e.g., for gmp::as.bigz(.) numbers.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) chisq.test(*, simulate.p.value=TRUE) and r2dtable() now work correctly for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> large table entries (in the millions). Reported by Sebastian Meyer and investigated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by more helpers in PR#16184.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Low-level socket read/write operations have been (cid:28)xed to correctly signal communi-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cation errors. Previously, such errors could lead to a segfault due to invalid memory</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> access. Reported and debugged by Dmitriy Selivanov in PR#17850.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) quantile(x, pr) works more consistently for pr values slightly outside [0,1], thanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to Suharto Anggono’s PR#17891.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Further, quantile(x, prN, names=FALSE) now works even when prN contains NAs,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> thanks to Anggono’s PR#17892. Ditto for ordered factors or Date objects when type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> = 1 or 3, thanks to PR#17899.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Internet access based on libcurl, including curlGetHeaders(), was not respecting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the "timeout" option. If this causes unanticipated timeouts, consider increasing the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> default by setting R_DEFAULT_INTERNET_TIMEOUT.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.Date(&lt;char&gt;) now also works with an initial "", thanks to Michael Chirico’s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#17909.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) isS3stdGeneric(f) now detects an S3 generic also when it is trace()d, thanks to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gabe Becker’s PR#17917.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R_allocLD() has been (cid:28)xed to return memory aligned for long double type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#16534.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) fisher.test() no longer segfaults when called again after its internal stack has been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exceeded PR#17904.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Accessing a long vector represented by a compact integer sequence no longer segfaults</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (reported and debugged by Hugh Parsonage).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) duplicated() now works also for strings with multiple encodings inside a single</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vector PR#17809.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) phyper(11, 15, 0, 12, log.p=TRUE) no longer gives NaN; reported as PR#17271 by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Alexey Stukalov.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fix incorrect calculation in logLik.nls() PR#16100, patch from Sebastian Meyer.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) A very old bug could cause a segfault in model.matrix() when terms involved logical</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> variables. Part of PR#17879.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) model.frame.default() allowed data = 1, leading to involuntary variable capture</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (rest of PR#17879).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) tar() no longer skips non-directory (cid:28)les, thanks to a patch by Sebastian Meyer, (cid:28)xing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the remaining part of PR#16716.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check skips vignette re-building (with a warning) if the ‘VignetteBuilder’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> package(s) are not available.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Paths with non-ASCII characters caused problems for package loading on Windows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#17833.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Using tcltk widgets no longer crashes R on Windows.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) source(*, echo=TRUE) no longer fails in some cases with empty lines; reported by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bill Dunlap in PR#17769.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) on.exit() now correctly matches named arguments, thanks to PR#17815 (including</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> patch) by Brodie Gaslam.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) regexpr(*, perl=TRUE) no longer returns incorrect positions into text containing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> characters outside of the Unicode Basic Multilingual Plane on Windows.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) paste() and paste0() gain a new optional argument recycle0. When set to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> true, zero-length arguments are recycled leading to character(0) after the sep-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> concatenation, i.e., to the empty string "" if collapse is a string and to the zero-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> length value character(0) when collapse = NULL.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A package whose code uses this should depend on ‘R (&gt;= 4.0.1)’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The summary(&lt;warnings&gt;) method now maps the counts correctly to the warning</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> messages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) aov(frml, ...) now also works where the formula deparses to more than 500 char-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acters, thanks to a report and patch proposal by Jan Hau(cid:27)a.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fix a dozen places (code, examples) as Sys.setlocale() returns the new rather than</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the previous setting.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fix for adding two complex grid units via sum(). Thanks to Gu Zuguang for the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> report and Thomas Lin Pedersen for the patch.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Fix parallel::mclapply(..., mc.preschedule=FALSE) to handle raw vector re-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sults correctly. PR#17779</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Computing the base value, i.e., 2, (cid:16)everywhere(cid:17), now uses FLT_RADIX, as the original</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘machar’ code looped inde(cid:28)nitely on the ppc64 architecture for the longdouble case.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) In R 4.0.0, sort.list(x) when is.object(x) was true, e.g., for x &lt;- I(letters),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> was accidentally using method = "radix". Consequently, e.g., merge(&lt;data.frame&gt;)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> was much slower than previously; reported in PR#17794.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) plot(y ~ x, ylab = quote(y[i])) now works, as e.g.,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> related to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for xlab;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#10525.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) parallel::detect.cores(all.tests = TRUE) tries a matching OS name before the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> other tests (which were intended only for unknown OSes).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Parse data for raw strings is now recorded correctly. Reported by Gabor Csardi.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES IN R 4.0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SIGNIFICANT USER-VISIBLE CHANGES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Packages need to be (re-)installed under this version (4.0.0) of R.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) matrix objects now also inherit from class "array", so e.g., class(diag(1))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> invalidates code incorrectly assuming that</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is c("matrix","array").</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> class(matrix_obj)) has length one.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S3 methods for class "array" are now dispatched for matrix objects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is a new syntax for specifying raw character constants similar to the one used</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in C++: r"(...)" with ... any character sequence not containing the sequence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘)"’. This makes it easier to write strings that contain backslashes or both single and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> double quotes. For more details see ?Quotes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R now uses a ‘stringsAsFactors = FALSE’ default, and hence by default no longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> converts strings to factors in calls to data.frame() and read.table().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A large number of packages relied on the previous behaviour and so have needed/will</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> need updating.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The plot() S3 generic function is now in package base rather than package graphics,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> as it is reasonable to have methods that do not use the graphics package. The generic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is currently re-exported from the graphics namespace to allow packages importing it</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from there to continue working, but this may change in future.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Packages which de(cid:28)ne S4 generics for plot() should be re-installed and package code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> using such generics from other packages needs to ensure that they are imported rather</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> than rely on their being looked for on the search path (as in a namespace, the base</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> namespace has precedence over the search path).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> REFERENCE COUNTING:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Reference counting is now used instead of the NAMED mechanism for determining when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> objects can be safely mutated in base C code. This reduces the need for copying in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> some cases and should allow further optimizations in the future. It should help make</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the internal code easier to maintain.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This change is expected to have almost no impact on packages using supported coding</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> practices in their C/C++ code.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MIGRATION TO PCRE2:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) This version of R is built against the PCRE2 library for Perl-like regular expressions,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> if available. (On non-Windows platforms PCRE1 can optionally be used if PCRE2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is not available at build time.) The version of PCRE in use can be obtained via</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> extSoftVersion(): PCRE1 (formerly known as ‘PCRE’) has versions &lt;= 8, PCRE2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> versions &gt;= 10.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Making PCRE2 available when building R from source is strongly recommended</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (preferably version 10.30 or later) as PCRE1 is no longer developed: version 8.44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is ‘likely to be the (cid:28)nal release’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) PCRE2 reports errors for some regular expressions that were accepted by PCRE1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A hyphen now has to be escaped in a character class to be interpreted as a literal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘\R’, ‘\B’ and ‘\X’ are no longer allowed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (unless (cid:28)rst or last in the class de(cid:28)nition).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in character classes (PCRE1 treated these as literals).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Option PCRE_study is no longer used with PCRE2, and is reported as FALSE when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> that is in use.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEW FEATURES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) assertError() and assertWarning() (in package tools) can now check for speci(cid:28)c</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> error or warning classes via the new optional second argument classes (which is not</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> back compatible with previous use of an unnamed second argument).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) DF2formula(), the utility for the data frame method of formula(), now works with-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> out parsing and explicit evaluation, starting from Suharto Anggono’s suggestion in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#17555.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) approxfun() and approx() gain a new argument na.rm defaulting to true. If set to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> false, missing y values now propagate into the interpolated values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Long vectors are now supported as the seq argument of a for() loop.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) str(x) gets a new deparse.lines option with a default to speed it up when x is a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> large call object.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The internal traceback object produced when an error is signalled (.Traceback),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now contains the calls rather than the deparse()d calls, deferring the deparsing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to the user-level functions .traceback() and traceback(). This ful(cid:28)ls the wish of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PR#17580, reported including two patch proposals by Brodie Gaslam.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) data.matrix() now converts character columns to factors and from this to integers.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) package.skeleton() now explicitly lists all exports in the ‘NAMESPACE’ (cid:28)le.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function .S3method() to register S3 methods in R scripts.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) file.path() has some support for (cid:28)le paths not in the session encoding, e.g. with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTF-8 inputs in a non-UTF-8 locale the output is marked as UTF-8.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Most functions with (cid:28)le-path inputs will give an explicit error if a (cid:28)le-path input in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a marked encoding cannot be translated (to the native encoding or in some cases</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on Windows to UTF-8), rather than translate to a di(cid:27)erent (cid:28)le path using es-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> capes. Some (such as dir.exists(), file.exists(), file.access(), file.info(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> list.files(), normalizePath() and path.expand()) treat this like any other non-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> existent (cid:28)le, often with a warning.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is a new help document accessed by help("file path encoding") detailing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> how (cid:28)le paths with marked encodings are handled.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function list2DF() for creating data frames from lists of variables.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) iconv() has a new option sub = "Unicode" to translate UTF-8 input invalid in the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘to’ encoding using ‘&lt;U+xxxx&gt;’ escapes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is a new function infoRDS() providing information about the serialization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> format of a serialized object.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) S3 method lookup now by default skips the elements of the search path between the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> global and base environments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Added an argument add_datalist(*, small.size = 0) to allow the creation of a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘data/datalist’ (cid:28)le even when the total size of the data sets is small.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The backquote function bquote() has a new argument splice to enable splicing a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> computed list of values into an expression, like ,@ in LISP’s backquote.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The formula interface to t.test() and wilcox.test() has been extended to handle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> one-sample and paired tests.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The palette() function has a new default set of colours (which are less saturated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and have better accessibility properties). There are also some new built-in palettes,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> which are listed by the new palette.pals() function. These include the old default</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> palette under the name "R3". Finally, the new palette.colors() function allows a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> subset of colours to be selected from any of the built-in palettes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) n2mfrow() gains an option asp = 1 to specify the aspect ratio, ful(cid:28)lling the wish and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> extending the proposal of Michael Chirico in PR#17648.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) For head(x, n) and tail() the default and other S3 methods notably for vector n,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e.g. to get a (cid:16)corner(cid:17) of a matrix, has been extended to array’s of higher dimension</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> thanks to the patch proposal by Gabe Becker in PR#17652. Consequently, optional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> argument addrownums is deprecated and replaced by the (more general) argument</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> keepnums. An invalid second argument n now leads to typically more easily readable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> error messages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function .class2() provides the full character vector of class names used for S3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> method dispatch.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Printing methods(..) now uses a new format() method.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sort.list(x) now works for non-atomic objects x and method = "auto" (the default)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> or "radix" in cases order(x) works, typically via a xtfrm() method.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Where they are available, writeBin() allows long vectors.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function deparse1() produces one string, wrapping deparse(), to be used typ-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ically in deparse1(substitute(*)), e.g., to (cid:28)x PR#17671.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) wilcox.test() enhancements: In the (non-paired) two-sample case, Inf values are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> treated as very large for robustness consistency. If exact computations are used, the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> result now has "exact" in the method element of its return value. New arguments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tol.root and digits.rank where the latter may be used for stability to treat very</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> close numbers as ties.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) readBin() and writeBin() now report an error for an invalid endian value. The</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a(cid:27)ected code needs to be (cid:28)xed with care as the old undocumented behavior was to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> swap endianness in such cases.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sequence() is now an S3 generic with an internally implemented default method,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and gains arguments to generate more complex sequences. Based on code from the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S4Vectors Bioconductor package and the advice of HervØ PagŁs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) print()’s default method and many other methods (by calling the default eventually</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and passing ...) now make use of a new optional width argument, avoiding the need</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for the user to set and reset options("width").</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) memDecompress() supports the RFC 1952 format (e.g. in-memory copies of gzip-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> compressed (cid:28)les) as well as RFC 1950.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) memCompress() and memDecompress() support long raw vectors for types "gzip" and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "zx".</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) sweep() and slice.index() can now use names of dimnames for their MARGIN argu-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ment (apply has had this for almost a decade).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function proportions() and marginSums(). These should replace the unfortu-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nately named prop.table() and margin.table(). They are drop-in replacements,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> but also add named-margin functionality. The old function names are retained as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> aliases for back-compatibility.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Functions rbinom(), rgeom(), rhyper(), rpois(), rnbinom(), rsignrank() and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rwilcox() which have returned integer since R 3.0.0 and hence NA when the numbers</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> would have been outside the integer range, now return double vectors (without NAs,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> typically) in these cases.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) matplot(x,y) (and hence matlines() and matpoints()) now call the corresponding</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> methods of plot() and lines(), e.g, when x is a "Date" or "POSIXct" object;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> prompted by Spencer Graves’ suggestion.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) stopifnot() now allows customizing error messages via argument names, thanks to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a patch proposal by Neal Fultz in PR#17688.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) unlink() gains a new argument expand to disable wildcard and tilde expansion.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Elements of x of value "~" are now ignored.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) mle() in the stats4 package has had its interface extended so that arguments to the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> negative log-likelihood function can be one or more vectors, with similar conventions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> applying to bounds, start values, and parameter values to be kept (cid:28)xed. This required</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a minor extension to class "mle", so saved objects from earlier versions may need to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> be recomputed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default for pdf() is now useDingbats = FALSE.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default (cid:28)ll colour for hist() and boxplot() is now col = "lightgray".</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The default order of the levels on the y-axis for spineplot() and cdplot() has been</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> reversed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) If the R_ALWAYS_INSTALL_TESTS environment variable is set to a true value, R CMD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALL behaves as if the ‘--install-tests’ option is always speci(cid:28)ed. Thanks to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Reinhold Koch for the suggestion.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function R_user_dir() in package tools suggests paths appropriate for storing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R-related user-speci(cid:28)c data, con(cid:28)guration and cache (cid:28)les.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) capabilities() gains a new logical option Xchk to avoid warnings about X11-related</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> capabilities.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The internal implementation of grid units has changed, but the only visible e(cid:27)ects at</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> user-level should be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) a slightly di(cid:27)erent print format for some units (especially unit arithmetic),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) faster performance (for unit operations) and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) two new functions unitType() and unit.psum().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Based on code contributed by Thomas Lin Pedersen.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When internal dispatch for rep.int() and rep_len() fails, there is an attempt to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dispatch on the equivalent call to rep().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Object .Machine now contains new longdouble.* entries (when R uses long doubles</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> internally).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) news() has been enhanced to cover the news on R 3.x and 2.x.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) For consistency, N &lt;- NULL; N[[1]] &lt;- val now turns N into a list also when val)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> has length one. This enables dimnames(r1)[[1]] &lt;- "R1" for a 1-row matrix r1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)xing PR#17719 reported by Serguei Sokol.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) deparse(..), dump(..), and dput(x, control = "all") now include control option</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "digits17" which typically ensures 1:1 invertibility. New option control = "exact"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ensures numeric exact invertibility via "hexNumeric".</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) When loading data sets via read.table(), data() now uses ‘LC_COLLATE=C’ to ensure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> locale-independent results for possible string-to-factor conversions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) A server socket connection, a new connection type representing a listening server</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> socket, is created via serverSocket() and can accept multiple socket connections</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> via socketAccept().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function socketTimeout() changes the connection timeout of a socket connec-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tion.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The time needed to start a homogeneous ‘PSOCK’ cluster on ‘localhost’ with many</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nodes has been signi(cid:28)cantly reduced (package parallel).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New globalCallingHandlers() function to establish global condition handlers. This</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> allows registering default handlers for speci(cid:28)c condition classes. Developed in collab-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> oration with Lionel Henry.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function tryInvokeRestart() to invoke a speci(cid:28)ed restart if one is available and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> return without signaling an error if no such restart is found. Contributed by Lionel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Henry in PR#17598.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) str(x) now shows the length of attributes in some cases for a data frame x.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rprof() gains a new argument filter.callframes to request that intervening call</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> frames due to lazy evaluation or explicit eval() calls be omitted from the recorded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pro(cid:28)le data. Contributed by Lionel Henry in PR#17595.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The handling of ${FOO-bar} and ${FOO:-bar} in ‘Renviron’ (cid:28)les now follows POSIX</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shells (at least on a Unix-alike), so the (cid:28)rst treats empty environment variables as set</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and the second does not. Previously both ignored empty variables. There are several</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> uses of the (cid:28)rst form in ‘etc/Renviron’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New classes argument for suppressWarnings() and suppressMessages() to selec-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tively suppress only warnings or messages that inherit from particular classes. Based</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on patch from Lionel Henry submitted with PR#17619.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New function activeBindingFunction() retrieves the function of an active binding.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New "cairoFT" and "pango" components in the output of grSoftVersion().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New argument symbolfamily in cairo-based graphics devices and new function</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cairoSymbolFont() that can be used to provide the value for that argument.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Windows:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rterm now works also when invoked from MSYS2 terminals. Line editing is possible</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> when command winpty is installed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) normalizePath() now resolves symbolic links and normalizes case of long names of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> path elements in case-insensitive folders (PR#17165).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) md5sum() supports UTF-8 (cid:28)le names with characters that cannot be translated to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the native encoding (PR#17633).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rterm gains a new option ‘--workspace’ to specify the workspace to be restored.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This allows equals to be part of the name when opening via Windows (cid:28)le associations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (reported by Christian Asseburg).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rterm now accepts ALT+xxx sequences also with NumLock on. Tilde can be pasted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with an Italian keyboard (PR#17679).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R falls back to copying when junction creation fails during package checking (patch</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> from Duncan Murdoch).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DEPRECATED AND DEFUNCT:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Make macro ‘F77_VISIBILITY’ has been removed and replaced by ‘F_VISIBILITY’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Make macros ‘F77’, ‘FCPIFCPLAGS’ and ‘SHLIB_OPENMP_FCFLAGS’ have been removed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and replaced by ‘FC’, ‘FPICFLAGS’ and ‘SHLIB_OPENMP_FFLAGS’ respectively. (Most</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> make programs will set ‘F77’ to the value of ‘FC’, which is set for package compilation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> But portable code should not rely on this.)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The deprecated support for specifying C++98 for package installation has been re-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> moved.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD config no longer knows about the unused settings ‘F77’ and ‘FCPIFCPLAGS’,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nor ‘CXX98’ and similar.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Either PCRE2 or PCRE1 &gt;= 8.32 (Nov 2012) is required: the deprecated provision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for 8.20(cid:21)8.31 has been removed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Defunct functions mem.limits(), .readRDS(), .saveRDS(), .find.package(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and .path.package() from package base and allGenerics(), getAccess(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> getExtends(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> getAllMethods(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> getVirtual(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> getProperties(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mlistMetaName(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> traceOff(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and traceOn() from methods have been removed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> getClassPackage(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> getSubclasses(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> getClassName(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> getPrototype(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> removeMethodsObject(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> seemsS4Object(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C-LEVEL FACILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) installChar is now remapped in ‘Rinternals.h’ to installTrChar, of which it</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> has been a wrapper since R 3.6.0. Neither are part of the API, but packages using</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> installChar can replace it if they depend on ‘R &gt;= 3.6.2’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Header ‘R_ext/Print.h’ de(cid:28)nes ‘R_USE_C99_IN_CXX’ and hence exposes Rvprintf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and REvprintf if used with a C++11 (or later) compiler.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There are new Fortran subroutines dblepr1, realpr1 and intpr1 to print a scalar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> variable (gfortran 10 enforces the distinction between scalars and length-one arrays).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Also labelpr to print just a label.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R_withCallingErrorHandler is now available for establishing a calling handler in C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> code for conditions inheriting from class error.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INSTALLATION on a UNIX-ALIKE:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) User-set ‘DEFS’ (e.g., in ‘config.site’) is now used for compiling packages (including</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> base packages).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is a new variant option ‘--enable-lto=check’ for checking consistency of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BLAS/LAPACK/LINPACK calls (cid:22) see ‘Writing R Extensions’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) A C++ compiler default is set only if the C++11 standard is supported: it no longer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> falls back to C++98.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) PCRE2 is used if available. To make use of PCRE1 if PCRE2 is unavailable, con(cid:28)gure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with option ‘--with-pcre1’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The minimum required version of libcurl is now 7.28.0 (Oct 2012).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) New make target distcheck checks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) R can be rebuilt from the tarball created by make dist,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) the build from the tarball passes make check-all,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) the build installs and uninstalls,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:21) the source (cid:28)les are properly cleaned by make distclean.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> UTILITIES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R --help now mentions the option --no-echo (renamed from --slave) and its pre-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> viously undocumented short form -s.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check now optionally checks configure and cleanup scripts for non-Bourne-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> shell code (‘bashisms’).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R CMD check --as-cran now runs \donttest examples (which are run by example())</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> instead of instructing the tester to do so. This can be temporarily circumvented during</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> development by setting environment variable _R_CHECK_DONTTEST_EXAMPLES_ to a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> false value.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PACKAGE INSTALLATION:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) There is the beginnings of support for the recently approved C++20 standard, spec-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> i(cid:28)ed analogously to C++14 and C++17. There is currently only limited support for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> this in compilers, with (cid:29)ags such as ‘-std=c++20’ and ‘-std=c++2a’. For the time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> being the configure test is of accepting one of these (cid:29)ags and compiling C++17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> code.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) formula(x) with length(x) &gt; 1 character vectors, is deprecated now. Such use has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> been rare, and has ‘worked’ as expected in some cases only. In other cases, wrong x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> have silently been truncated, not detecting previous errors.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Long-standing issue where the X11 device could lose events shortly after startup has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> been addressed (PR#16702).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The data.frame method for rbind() no longer drops &lt;NA&gt; levels from factor columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by default (PR#17562).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) available.packages() and hence install.packages() now pass their ... ar-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> subsequently,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gument to download.file(),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> available.packages() gets new argument quiet, solving PR#17573.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ful(cid:28)lling the wish of PR#17532;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) stopifnot() gets new argument exprObject to allow an R object of class expression</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (or other ‘language’) to work more consistently, thanks to suggestions by Suharto</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Anggono.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) conformMethod() now works correctly in cases containing a (cid:16)&amp;&amp; logic(cid:17) bug, reported</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by Henrik Bengtsson. It now creates methods with "missing" entries in the signature.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Consequently, rematchDefinition() is amended to use appropriate .local() calls</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with named arguments where needed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) format.default(*, scientific = FALSE) now corresponds to a practically most ex-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> treme options(scipen = n) setting rather than arbitrary n = 100.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) format(as.symbol("foo")) now works (returning "foo").</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) postscript(.., title = *) now signals an error when the title string contains a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character which would produce corrupt PostScript, thanks to PR#17607 by Daisuko</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ogawa.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Certain Ops (notably comparison such as ==) now also work for 0-length data frames,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> after reports by Hilmar Berger.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) methods(class = class(glm(..))) now warns more usefully and only once.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) write.dcf() no longer mangles (cid:28)eld names (PR#17589).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Primitive replacement functions no longer mutate a referenced (cid:28)rst argument when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> used outside of a complex assignment context.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) A better error message for contour(*, levels = Inf).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The return value of contourLines() is no longer invisible().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The Fortran code for calculating the coefficients component in lm.influence()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It has (for now) been replaced with much faster R code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> was very ine(cid:30)cient.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#17624).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) cm.colors(n) etc no longer append the code for alpha = 1, "FF", to all colors. Hence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> all eight *.colors() functions and rainbow() behave consistently and have the same</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> non-explicit default (PR#17659).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) dnorm had a problematic corner case with sd == -Inf or negative sd which was not</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:29)agged as an error in all cases. Thanks to Stephen D. Weigand for reporting and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wang Jiefei for analyzing this; similar change has been made in dlnorm().</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The optional iter.smooth argument of plot.lm(), (the plot() method for lm and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> glm (cid:28)ts) now defaults to 0 for all glm (cid:28)ts. Especially for binary observations with high</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> or low (cid:28)tted probabilities, this e(cid:27)ectively deleted all observations of 1 or 0. Also, the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> type of residuals used in the glm case has been switched to "pearson" since deviance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> residuals do not in general have approximately zero mean.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) In plot.lm, Cook’s distance was computed from unweighted residuals, leading to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inconsistencies. Replaced with usual weighted version. (PR#16056)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Time-series ts(*, start, end, frequency) with fractional frequency are supported</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> more consistently; thanks to a report from Johann Kleinbub and analysis and patch</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by Duncan Murdoch in PR#17669.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) In case of errors mcmapply() now preserves attributes of returned "try-error" ob-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> jects and avoids simpli(cid:28)cation, overriding SIMPLIFY to FALSE. (PR#17653)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) as.difftime() gets new optional tz = "UTC" argument which should (cid:28)x behaviour</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> during daylight-savings-changeover days, (cid:28)xing PR#16764, thanks to proposals and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> analysis by Johannes Ranke and Kirill M(cid:252)ller.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) round() does a better job of rounding (cid:16)to nearest(cid:17) by measuring and (cid:16)to even(cid:17); thanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to a careful algorithm originally prompted by the report from Adam Wheeler and then</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> others, in PR#17668.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> round(x, dig) for negative digits is much more rational now, notably for large |dig|.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Inheritance information on S4 classes is maintained more consistently, particularly in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the case of class unions (in part due to PR#17596 and a report from Ezra Tucker).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) is() behaves more robustly when its argument class2 is a classRepresentation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> object.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The warning message when attempting to export an nonexistent class is now more</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> readable; thanks to Thierry Onkelinx for recognizing the problem.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) choose() misbehaved in corner cases where it switched n - k for k and n was only</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nearly integer (report from Erik Scott Wright).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) mle() in the stats4 package had problems combining use of box constraints and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:28)xed starting values (in particular, con(cid:28)dence intervals were a(cid:27)ected).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Operator ? now has lower precedence than = to work as documented, so = behaves</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> like &lt;- in help expressions (PR#16710).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) smoothEnds(x) now returns integer type in both cases when x is integer, thanks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to a report and proposal by Bill Dunlap PR#17693.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) The methods package does a better job of tracking inheritance relationships across</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> packages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) norm(diag(c(1, NA)), "2") now works.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) subset() had problems with 0-col dataframes (reported by Bill Dunlap, PR#17721).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Several cases of integer over(cid:29)ow detected by the ‘unde(cid:28)ned behaviour sanitizer’ of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> clang 10 have been circumvented. One in rhyper() may change the generated value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for large input values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) dotchart() now places the y-axis label (ylab) much better, not overplotting labels,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> thanks to a report and suggestion by Alexey Shipunov.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) A rare C-level array over(cid:29)ow in chull() has been worked around.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Some invalid speci(cid:28)cations of the day-of-the-year (via %j, e.g. day 366 in 2017) or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> week plus day-of-the-week are now detected by strptime(). They now return NA but</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> give a warning as they may have given random results or corrupted memory in earlier</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> versions of R.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) socketConnection(server = FALSE) now respects the connection timeout also on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Linux.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) socketConnection(server = FALSE) no longer leaks a connection that is available</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> right away without waiting (e.g. on ‘localhost’).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Socket connections are now robust against spurious readability and spurious avail-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ability of an incoming connection.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) blocking = FALSE is now respected also on the server side of a socket connection,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> allowing non-blocking read operations.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) anova.glm() and anova.glmlist() computed incorrect score (Rao) tests in no-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> intercept cases. (AndrØ Gillibert, PR#17735)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> now</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) summaryRprof()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rprof(*,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> work</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> memory.profiling=TRUE) case with small chunk size (and "tseries" or simi-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lar) thanks to a patch proposal by Benjamin Tyner, in PR#15886.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> correctly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> should</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) xgettext() ignores strings passed to ngettext(), since the latter is handled by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> xngettext(). Thanks to Daniele Medri for the report and all the recent work he has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> done on the Italian translations.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) data(package = "P") for P in base and stats no longer reports the data sets from</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> package datasets (which it did for back compatibility for 16 years), (cid:28)xing PR#17730.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) x[[Inf]] (returning NULL) no longer leads to unde(cid:28)ned behavior, thanks to a report</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by Kirill M(cid:252)ller in PR#17756. Further, x[[-Inf]] and x[[-n]] now give more</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> helpful error messages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Gamma() family sometimes had trouble storing link name PR#15891</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BUG FIXES (Windows):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Sys.glob() now supports all characters from the Unicode Basic Multilingual Plane,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> no longer corrupting some (less commonly used) characters (PR#17638).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rterm now correctly displays multi-byte-coded characters representable in the current</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> native encoding (at least on Windows 10 they were sometimes omitted, PR#17632).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) scan() issues with UTF-8 data when running in a DBCS locale have been resolved</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (PR#16520, PR#16584).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Rterm now accepts enhanced/arrow keys also with ConPTY.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) R can now be started via the launcher icon in a user documents directory whose path</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> is not representable in the system encoding.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) socketConnection(server = FALSE) now returns instantly also on Windows when</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> connection failure is signalled.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Problems with UTF-16 surrogate pairs have been (cid:28)xed in several functions, including</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tolower() and toupper() (PR#17645).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CHANGES in previous versions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (cid:136) Older news can be found in text format in (cid:28)les ‘NEWS.0’,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘NEWS.2’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> News in HTML format for R versions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and ‘NEWS.3’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3.x and from 2.10.0 to 2.15.3 are available at ‘doc/html/NEWS.3.html’ and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘doc/html/NEWS.2.html’.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> in the ‘doc’ directory.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘NEWS.1’,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># pdftools::pdf_text(pdf)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tomasz Kalinowski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

